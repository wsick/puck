{"version":3,"sources":["_version.ts","element/DirtyFlags.ts","Element.ts","Container.ts","element/ElementComposite.ts","container/ContainerComposite.ts","element/ElementState.ts","container/ContainerState.ts","engine/process.ts","walk/IWalker.ts","element/down/Processor.ts","container/down/Processor.ts","element/down/opacity.ts","element/down/transform.ts","element/down/visible.ts"],"names":["puck","puck.element","puck.element.DirtyFlags","puck.Element","puck.Element.constructor","puck.Element.opacity","puck.Element.visible","puck.Element.x","puck.Element.y","puck.Element.width","puck.Element.height","puck.Element.transformOriginX","puck.Element.transformOriginY","puck.Element.resetTransform","puck.Element.setTransform","puck.Element.applyTransform","puck.Element.init","puck.Container","puck.Container.constructor","puck.Container.init","puck.Container.walk","puck.Container.walk.next","puck.element.ElementComposite","puck.element.ElementComposite.constructor","puck.element.ElementComposite.hasDirt","puck.element.ElementComposite.taint","puck.element.ElementComposite.untaint","puck.element.ElementComposite.reset","puck.container","puck.container.ContainerComposite","puck.container.ContainerComposite.constructor","puck.element.ElementState","puck.element.ElementState.constructor","puck.element.ElementState.reset","puck.container.ContainerState","puck.container.ContainerState.constructor","puck.engine","puck.engine.process","puck.engine.doDown","puck.engine.doUp","puck.walk","puck.walk.next","puck.walk.getWalker","puck.element.down","puck.element.down.Processor","puck.element.down.Processor.constructor","puck.element.down.Processor.isTainted","puck.element.down.Processor.process","puck.element.down.Processor.clear","puck.container.down","puck.container.down.Processor","puck.container.down.Processor.constructor","puck.container.down.Processor.process","puck.element.down.opacity","puck.element.down.opacity.process","puck.element.down.transform","puck.element.down.transform.process","puck.element.down.visible","puck.element.down.visible.process"],"mappings":"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","file":"puck.js","sourcesContent":["module puck {\r\n    export var version = '0.1.0';\r\n}","namespace puck.element {\n    export enum DirtyFlags {\n        none = 0,\n        opacity = 1 << 0,\n        visible = 1 << 1,\n        transform = 1 << 2,\n\n        down = DirtyFlags.opacity | DirtyFlags.visible | DirtyFlags.transform\n    }\n}","/// <reference path=\"element/DirtyFlags\" />\n\nnamespace puck {\n    import IElement = puck.element.IElement;\n    import IElementState = puck.element.IElementState;\n    import IElementComposite = puck.element.IElementComposite;\n    import DirtyFlags = puck.element.DirtyFlags;\n\n    export class Element implements IElement {\n        state: IElementState;\n        composite: IElementComposite;\n        processor: {down: element.down.Processor};//, up: up.Processor};\n\n        get opacity(): number { return this.state.opacity; }\n        set opacity(value: number) {\n            if (this.state.opacity !== value) {\n                this.state.opacity = value;\n                this.composite.taint(DirtyFlags.opacity);\n            }\n        }\n\n        get visible(): boolean { return this.state.visible; }\n        set visible(value: boolean) {\n            if (this.state.visible !== value) {\n                this.state.visible = value;\n                this.composite.taint(DirtyFlags.visible);\n            }\n        }\n\n        get x(): number { return this.state.offset.x; }\n        set x(value: number) {\n            if (this.state.offset.x !== value) {\n                this.state.offset.x = value;\n                this.composite.taint(DirtyFlags.transform);\n            }\n        }\n\n        get y(): number { return this.state.offset.y; }\n        set y(value: number) {\n            if (this.state.offset.y !== value) {\n                this.state.offset.y = value;\n                this.composite.taint(DirtyFlags.transform);\n            }\n        }\n\n        get width(): number { return this.state.size.width; }\n        set width(value: number) {\n            if (this.state.size.width !== value) {\n                this.state.size.width = value;\n                this.composite.taint(DirtyFlags.transform);\n                //TODO: Taint extents\n            }\n        }\n\n        get height(): number { return this.state.size.height; }\n        set height(value: number) {\n            if (this.state.size.height !== value) {\n                this.state.size.height = value;\n                this.composite.taint(DirtyFlags.transform);\n                //TODO: Taint extents\n            }\n        }\n\n        get transformOriginX(): number { return this.state.transformOrigin.x; }\n        set transformOriginX(value: number) {\n            if (this.state.transformOrigin.x !== value) {\n                this.state.transformOrigin.x = value;\n                this.composite.taint(DirtyFlags.transform);\n            }\n        }\n\n        get transformOriginY(): number { return this.state.transformOrigin.y; }\n        set transformOriginY(value: number) {\n            if (this.state.transformOrigin.y !== value) {\n                this.state.transformOrigin.y = value;\n                this.composite.taint(DirtyFlags.transform);\n            }\n        }\n\n        resetTransform(): this {\n            la.mat3.identity(this.state.transform);\n            this.composite.taint(DirtyFlags.transform);\n            return this;\n        }\n\n        setTransform(mat: Float32Array): this {\n            la.mat3.copyTo(mat, this.state.transform);\n            this.composite.taint(DirtyFlags.transform);\n            return this;\n        }\n\n        applyTransform(mat: Float32Array): this {\n            la.mat3.apply(this.state.transform, mat);\n            return this;\n        }\n\n        constructor(state?: IElementState, composite?: IElementComposite) {\n            this.init(state, composite);\n            Object.freeze(this);\n        }\n\n        init(state?: IElementState, composite?: IElementComposite) {\n            this.state = state || new container.ContainerState();\n            this.composite = composite || new container.ContainerComposite();\n            this.processor = {\n                down: container.down.Processor.instance\n                //,up: container.up.Processor.instance\n            };\n        }\n    }\n}","/// <reference path=\"Element\" />\n\nnamespace puck {\n    import IContainer = puck.container.IContainer;\n    import IElement = puck.element.IElement;\n    import IContainerState = puck.container.IContainerState;\n    import IContainerComposite = puck.container.IContainerComposite;\n    import DirtyFlags = puck.element.DirtyFlags;\n\n    export class Container extends Element implements IContainer {\n        state: IContainerState;\n        composite: IContainerComposite;\n        elements: IElement[];\n        processor: {down: container.down.Processor};//, up: up.Processor};\n\n        constructor(state?: IContainerState, composite?: IContainerComposite) {\n            super(state, composite);\n        }\n\n        init(state?: IContainerState, composite?: IContainerComposite) {\n            this.elements = [];\n            this.state = state || new container.ContainerState();\n            this.composite = composite || new container.ContainerComposite();\n            this.processor = {\n                down: container.down.Processor.instance\n                //,up: container.up.Processor.instance\n            };\n        }\n\n        walk(): walk.IWalker<element.IElement> {\n            var i = -1;\n            var els = this.elements;\n            var walker = {\n                next(): element.IElement {\n                    i++;\n                    return els[i];\n                }\n            };\n            return walker;\n        }\n    }\n}","namespace puck.element {\n    export interface IElementComposite {\n        hasDirt(match: DirtyFlags): boolean;\n        taint(newDirt: DirtyFlags);\n        untaint(oldDirt: DirtyFlags);\n        reset();\n        opacity: number;\n        visible: boolean;\n        transform: Float32Array;\n    }\n    export class ElementComposite implements IElementComposite {\n        private $$dirt = DirtyFlags.none;\n\n        opacity = 1.0;\n        visible = true;\n        transform = la.mat3.identity();\n\n        hasDirt(match: DirtyFlags): boolean {\n            return (this.$$dirt & match) > 0;\n        }\n\n        taint(newDirt: DirtyFlags) {\n            this.$$dirt |= newDirt;\n        }\n\n        untaint(oldDirt: DirtyFlags) {\n            this.$$dirt &= ~oldDirt;\n        }\n\n        reset() {\n            this.opacity = 1.0;\n            this.visible = true;\n            la.mat3.identity(this.transform);\n        }\n    }\n}","/// <reference path=\"../element/ElementComposite\" />\n\nnamespace puck.container {\n    export interface IContainerComposite extends element.IElementComposite {\n    }\n    export class ContainerComposite extends element.ElementComposite implements IContainerComposite {\n    }\n}","namespace puck.element {\n    export interface IElementState {\n        //range: [0.0, 1.0]\n        opacity: number;\n        visible: boolean;\n        //visual offset from parent\n        offset: la.IPoint;\n        size: la.ISize;\n        transform: Float32Array;\n        //origin of transform in relative coordinate space ([0.0,1.0], [0.0,1.0])\n        transformOrigin: la.IPoint;\n        reset();\n    }\n\n    export class ElementState implements IElementState {\n        opacity = 1.0;\n        visible = true;\n        offset = {x: 0, y: 0};\n        size = {width: 0, height: 0};\n        transform = la.mat3.identity();\n        transformOrigin = {x: 0.5, y: 0.5};\n\n        reset() {\n            this.opacity = 1.0;\n            this.visible = true;\n            this.offset.x = 0;\n            this.offset.y = 0;\n            this.size.width = 0;\n            this.size.height = 0;\n            la.mat3.identity(this.transform);\n            this.transformOrigin.x = 0.5;\n            this.transformOrigin.y = 0.5;\n        }\n    }\n}","/// <reference path=\"../element/ElementState\" />\n\nnamespace puck.container {\n    export interface IContainerState extends element.IElementState {\n    }\n    export class ContainerState extends element.ElementState implements IContainerState {\n    }\n}","namespace puck.engine {\n    // Process walks entire layer\n    // -> Down phase is processed pre-order\n    // -> Up phase is processed post-order\n    export function process(el: element.IElement, parent?: element.IElement) {\n        doDown(el, parent);\n        for (var walker = walk.getWalker(el), cur = walker.next(); !!cur; cur = walker.next()) {\n            process(cur, el);\n        }\n        doUp(el, parent);\n    }\n\n    function doDown(el: element.IElement, parent: element.IElement) {\n        var processor = el.processor.down;\n        var bag = {\n            walker: walk.getWalker(el),\n            state: el.state,\n            composite: el.composite,\n            pcomposite: parent.composite\n        };\n        if (processor.isTainted(bag))\n            processor.process(bag);\n    }\n\n    function doUp(el: element.IElement, parent: element.IElement) {\n\n    }\n}","namespace puck.walk {\n    export interface IWalker<T> {\n        next(): T;\n    }\n\n    var EMPTY_WALKER: walk.IWalker<element.IElement> = {\n        next() {\n            return undefined;\n        }\n    };\n\n    export function getWalker(el: element.IElement): IWalker<element.IElement> {\n        if (typeof (<container.IContainer>el).walk === \"function\")\n            return (<container.IContainer>el).walk();\n        return EMPTY_WALKER;\n    }\n}","namespace puck.element.down {\n    export interface IProcessorBag {\n        state: IElementState;\n        composite: IElementComposite;\n        pcomposite: IElementComposite; //parent composite\n    }\n\n    export class Processor {\n        static instance = new Processor();\n\n        isTainted(bag: IProcessorBag): boolean {\n            return bag.composite.hasDirt(DirtyFlags.down);\n        }\n\n        process(bag: IProcessorBag): DirtyFlags {\n            var dirt = DirtyFlags.none;\n            if (opacity.process(bag))\n                dirt |= DirtyFlags.opacity;\n            if (visible.process(bag))\n                dirt |= DirtyFlags.visible;\n            if (transform.process(bag))\n                dirt |= DirtyFlags.transform;\n            this.clear(bag);\n            return dirt;\n        }\n\n        clear(bag: IProcessorBag): this {\n            bag.composite.untaint(DirtyFlags.opacity | DirtyFlags.visible | DirtyFlags.transform);\n            return this;\n        }\n    }\n}","/// <reference path=\"../../element/down/Processor\" />\n\nnamespace puck.container.down {\n    import DirtyFlags = puck.element.DirtyFlags;\n\n    export interface IProcessorBag extends element.down.IProcessorBag {\n        walker: walk.IWalker<element.IElement>;\n        state: IContainerState;\n        composite: IContainerComposite;\n        pcomposite: IContainerComposite; //parent composite\n    }\n\n    export class Processor extends element.down.Processor {\n        static instance = new Processor();\n\n        process(bag: IProcessorBag): DirtyFlags {\n            var dirt = super.process(bag);\n            for (var cur = bag.walker.next(); !!cur; cur = bag.walker.next()) {\n                cur.composite.taint(dirt);\n            }\n            return dirt;\n        }\n    }\n}","namespace puck.element.down.opacity {\n    export function process(bag: IProcessorBag): boolean {\n        var comp = bag.composite;\n        if (!comp.hasDirt(DirtyFlags.opacity))\n            return false;\n        var newOpacity = bag.pcomposite.opacity * bag.state.opacity;\n        var changed = comp.opacity === newOpacity;\n        comp.opacity = newOpacity;\n        return changed;\n    }\n}","namespace puck.element.down.transform {\n    import mat3 = la.mat3;\n    var oldTransform = mat3.identity();\n    export function process(bag: IProcessorBag): boolean {\n        var comp = bag.composite;\n        if (!comp.hasDirt(DirtyFlags.transform))\n            return false;\n        mat3.copyTo(comp.transform, oldTransform);\n        var state = bag.state;\n        var xo: la.IPoint = {\n            x: state.transformOrigin.x * state.size.width,\n            y: state.transformOrigin.y * state.size.height\n        };\n        mat3.createTranslate(-xo.x, -xo.y, comp.transform); //Shift into transformOrigin coordinate space\n        mat3.apply(comp.transform, state.transform);\n        mat3.translate(comp.transform, xo.x, xo.y); //Shift back out of transformOrigin coordinate space\n        if (!mat3.equal(comp.transform, oldTransform)) {\n            //TODO: Taint extents\n        }\n        return true;\n    }\n}","namespace puck.element.down.visible {\n    export function process(bag: IProcessorBag): boolean {\n        var comp = bag.composite;\n        if (!comp.hasDirt(DirtyFlags.visible))\n            return false;\n        var newVisible = bag.pcomposite.visible && (bag.state.visible === true);\n        var changed = comp.visible !== newVisible;\n        if (changed) {\n            //TODO: taint `NewBounds`\n\n        }\n        comp.visible = newVisible;\n        return changed;\n    }\n}"],"sourceRoot":"/source/"}