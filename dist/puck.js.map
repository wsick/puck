{"version":3,"sources":["_version.ts","BrushMappingMode.ts","Color.ts","element/DirtyFlags.ts","Element.ts","Container.ts","Visual.ts","stencil/visual.ts","Ellipse.ts","enums.ts","Font.ts","FrameDebug.ts","GradientBrush.ts","GradientSpreadMethod.ts","GradientStop.ts","PuckArray.ts","GradientStops.ts","Image.ts","Layer.ts","LinearGradientBrush.ts","Path.ts","Points.ts","Polyline.ts","RadialGradientBrush.ts","Rectangle.ts","SolidColorBrush.ts","Stretch.ts","Text.ts","Timer.ts","element/ElementComposite.ts","container/ContainerComposite.ts","element/ElementState.ts","container/ContainerState.ts","engine/hit.ts","engine/process.ts","render/RenderContext.ts","engine/render.ts","fit/extents.ts","fit/transform.ts","font/toString.ts","image/ImageComposite.ts","image/ImageSource.ts","image/ImageState.ts","internal/WatchChanger.ts","linearGradient/interpolator.ts","linearGradient/metrics.ts","path/Bounder.ts","path/PathComposite.ts","visual/VisualState.ts","path/PathState.ts","polyline/PolylineState.ts","radialGradient/extender.ts","render/natural.ts","render/RenderContextSize.ts","render/zoom.ts","stencil/IStencil.ts","stencil/path.ts","text/TextState.ts","visual/VisualComposite.ts","walk/IWalker.ts","element/down/Processor.ts","container/down/Processor.ts","element/hit/Processor.ts","container/hit/Processor.ts","element/render/Processor.ts","container/render/Processor.ts","container/up/extents.ts","container/up/invalidate.ts","element/up/Processor.ts","element/up/newbounds.ts","container/up/Processor.ts","element/down/opacity.ts","element/down/transform.ts","element/down/visible.ts","element/render/narrow.ts","element/render/prepare.ts","element/render/should.ts","element/render/validate.ts","element/up/extents.ts","font/height/get.ts","font/height/measure.ts","font/width/measure.ts","image/down/Processor.ts","image/down/stretch.ts","image/hit/Processor.ts","image/up/extents.ts","image/up/Processor.ts","path/down/natural.ts","path/down/Processor.ts","path/down/stretch.ts","visual/hit/Processor.ts","path/hit/Processor.ts","visual/render/Processor.ts","path/render/Processor.ts","path/up/extents.ts","path/up/Processor.ts","polyfill/CanvasRenderingContext2D/backingStorePixelRatio.ts","polyfill/CanvasRenderingContext2D/ellipse.ts","polyfill/CanvasRenderingContext2D/isPointInStroke.ts","polyline/down/points.ts","polyline/down/Processor.ts","text/hit/Processor.ts","text/render/Processor.ts","text/up/font.ts","text/up/Processor.ts"],"names":[],"mappings":";;;;;AAAA,IAAO,IAAI,CAEV;AAFD,WAAO,IAAI,EAAC,CAAC;IACE,YAAO,GAAG,OAAO,CAAC;AACjC,CAAC,EAFM,IAAI,KAAJ,IAAI,QAEV;ACFD,IAAU,IAAI,CAKb;AALD,WAAU,IAAI,EAAC,CAAC;IACZ,WAAY,gBAAgB;QACxB,+EAAoB,CAAA;QACpB,+DAAY,CAAA;IAChB,CAAC,EAHW,qBAAgB,KAAhB,qBAAgB,QAG3B;IAHD,IAAY,gBAAgB,GAAhB,qBAGX,CAAA;AACL,CAAC,EALS,IAAI,KAAJ,IAAI,QAKb;ACLD,IAAU,IAAI,CAuRb;AAvRD,WAAU,IAAI,EAAC,CAAC;IACZ,IAAI,YAAY,GAAG,oFAAoF,CAAC;IACxG,IAAI,UAAU,GAAG,+GAA+G,CAAC;IAEjI;QAMI,eAAY,KAAoB;YALhC,MAAC,GAAW,CAAC,CAAC;YACd,MAAC,GAAW,CAAC,CAAC;YACd,MAAC,GAAW,CAAC,CAAC;YACd,MAAC,GAAW,GAAG,CAAC;YAGZ,EAAE,CAAC,CAAC,KAAK,YAAY,KAAK,CAAC,CAAC,CAAC;gBACzB,IAAI,CAAC,CAAC,GAAG,KAAK,CAAC,CAAC,CAAC;gBACjB,IAAI,CAAC,CAAC,GAAG,KAAK,CAAC,CAAC,CAAC;gBACjB,IAAI,CAAC,CAAC,GAAG,KAAK,CAAC,CAAC,CAAC;gBACjB,IAAI,CAAC,CAAC,GAAG,KAAK,CAAC,CAAC,CAAC;YACrB,CAAC;YAAC,IAAI,CAAC,EAAE,CAAC,CAAC,OAAO,KAAK,KAAK,QAAQ,CAAC,CAAC,CAAC;gBACnC,KAAK,CAAC,IAAI,EAAE,KAAK,CAAC,CAAC;YACvB,CAAC;QACL,CAAC;QAED,mBAAG,GAAH,UAAI,MAAa;YACb,IAAI,CAAC,GAAG,IAAI,KAAK,EAAE,CAAC;YACpB,CAAC,CAAC,CAAC,GAAG,IAAI,CAAC,CAAC,GAAG,MAAM,CAAC,CAAC,CAAC;YACxB,CAAC,CAAC,CAAC,GAAG,IAAI,CAAC,CAAC,GAAG,MAAM,CAAC,CAAC,CAAC;YACxB,CAAC,CAAC,CAAC,GAAG,IAAI,CAAC,CAAC,GAAG,MAAM,CAAC,CAAC,CAAC;YACxB,CAAC,CAAC,CAAC,GAAG,IAAI,CAAC,CAAC,GAAG,MAAM,CAAC,CAAC,CAAC;YACxB,MAAM,CAAC,CAAC,CAAC;QACb,CAAC;QAED,wBAAQ,GAAR,UAAS,MAAa;YAClB,IAAI,CAAC,GAAG,IAAI,KAAK,EAAE,CAAC;YACpB,CAAC,CAAC,CAAC,GAAG,IAAI,CAAC,CAAC,GAAG,MAAM,CAAC,CAAC,CAAC;YACxB,CAAC,CAAC,CAAC,GAAG,IAAI,CAAC,CAAC,GAAG,MAAM,CAAC,CAAC,CAAC;YACxB,CAAC,CAAC,CAAC,GAAG,IAAI,CAAC,CAAC,GAAG,MAAM,CAAC,CAAC,CAAC;YACxB,CAAC,CAAC,CAAC,GAAG,IAAI,CAAC,CAAC,GAAG,MAAM,CAAC,CAAC,CAAC;YACxB,MAAM,CAAC,CAAC,CAAC;QACb,CAAC;QAED,wBAAQ,GAAR,UAAS,MAAc;YACnB,IAAI,CAAC,GAAG,IAAI,KAAK,EAAE,CAAC;YACpB,CAAC,CAAC,CAAC,GAAG,IAAI,CAAC,CAAC,GAAG,MAAM,CAAC;YACtB,CAAC,CAAC,CAAC,GAAG,IAAI,CAAC,CAAC,GAAG,MAAM,CAAC;YACtB,CAAC,CAAC,CAAC,GAAG,IAAI,CAAC,CAAC,GAAG,MAAM,CAAC;YACtB,CAAC,CAAC,CAAC,GAAG,IAAI,CAAC,CAAC,GAAG,MAAM,CAAC;YACtB,MAAM,CAAC,CAAC,CAAC;QACb,CAAC;QAED,wBAAQ,GAAR;YACI,IAAI,CAAC,GAAG,IAAI,CAAC,KAAK,CAAC,IAAI,CAAC,CAAC,CAAC,IAAI,CAAC,CAAC;YAChC,IAAI,CAAC,GAAG,IAAI,CAAC,KAAK,CAAC,IAAI,CAAC,CAAC,CAAC,IAAI,CAAC,CAAC;YAChC,IAAI,CAAC,GAAG,IAAI,CAAC,KAAK,CAAC,IAAI,CAAC,CAAC,CAAC,IAAI,CAAC,CAAC;YAChC,IAAI,CAAC,GAAG,IAAI,CAAC,CAAC,IAAI,CAAC,CAAC;YACpB,MAAM,CAAC,UAAQ,CAAC,UAAK,CAAC,UAAK,CAAC,UAAK,CAAC,MAAG,CAAC;QAC1C,CAAC;QAED,2BAAW,GAAX;YACI,IAAI,EAAE,GAAG,CAAC,IAAI,CAAC,CAAC,GAAG,GAAG,CAAC,CAAC,QAAQ,CAAC,EAAE,CAAC,EAChC,EAAE,GAAG,IAAI,CAAC,CAAC,CAAC,QAAQ,CAAC,EAAE,CAAC,EACxB,EAAE,GAAG,IAAI,CAAC,CAAC,CAAC,QAAQ,CAAC,EAAE,CAAC,EACxB,EAAE,GAAG,IAAI,CAAC,CAAC,CAAC,QAAQ,CAAC,EAAE,CAAC,CAAC;YAC7B,MAAM,CAAC,MAAI,EAAE,GAAG,EAAE,GAAG,EAAE,GAAG,EAAI,CAAC;QACnC,CAAC;QAED,kCAAkB,GAAlB;YACI,IAAI,EAAE,GAAG,IAAI,CAAC,CAAC,CAAC,QAAQ,CAAC,EAAE,CAAC,EACxB,EAAE,GAAG,IAAI,CAAC,CAAC,CAAC,QAAQ,CAAC,EAAE,CAAC,EACxB,EAAE,GAAG,IAAI,CAAC,CAAC,CAAC,QAAQ,CAAC,EAAE,CAAC,CAAC;YAC7B,MAAM,CAAC,MAAI,EAAE,GAAG,EAAE,GAAG,EAAI,CAAC;QAC9B,CAAC;QAEM,YAAM,GAAb,UAAc,MAAa,EAAE,MAAa;YACtC,EAAE,CAAC,CAAC,CAAC,MAAM,CAAC,CAAC,CAAC;gBACV,MAAM,CAAC,CAAC,MAAM,CAAC;YACnB,CAAC;YACD,EAAE,CAAC,CAAC,CAAC,MAAM,CAAC,CAAC,CAAC;gBACV,MAAM,CAAC,KAAK,CAAC;YACjB,CAAC;YACD,MAAM,CAAC,MAAM,CAAC,CAAC,KAAK,MAAM,CAAC,CAAC;mBACrB,MAAM,CAAC,CAAC,KAAK,MAAM,CAAC,CAAC;mBACrB,MAAM,CAAC,CAAC,KAAK,MAAM,CAAC,CAAC;mBACrB,MAAM,CAAC,CAAC,KAAK,MAAM,CAAC,CAAC,CAAC;QACjC,CAAC;QAEM,UAAI,GAAX,UAAY,KAAY,EAAE,GAAU,EAAE,CAAS;YAC3C,IAAI,CAAC,GAAG,IAAI,KAAK,EAAE,CAAC;YACpB,CAAC,CAAC,CAAC,GAAG,KAAK,CAAC,CAAC,GAAG,CAAC,GAAG,CAAC,CAAC,GAAG,KAAK,CAAC,CAAC,CAAC,GAAG,CAAC,CAAC;YACtC,CAAC,CAAC,CAAC,GAAG,KAAK,CAAC,CAAC,GAAG,CAAC,GAAG,CAAC,CAAC,GAAG,KAAK,CAAC,CAAC,CAAC,GAAG,CAAC,CAAC;YACtC,CAAC,CAAC,CAAC,GAAG,KAAK,CAAC,CAAC,GAAG,CAAC,GAAG,CAAC,CAAC,GAAG,KAAK,CAAC,CAAC,CAAC,GAAG,CAAC,CAAC;YACtC,CAAC,CAAC,CAAC,GAAG,KAAK,CAAC,CAAC,GAAG,CAAC,GAAG,CAAC,CAAC,GAAG,KAAK,CAAC,CAAC,CAAC,GAAG,CAAC,CAAC;YACtC,MAAM,CAAC,CAAC,CAAC;QACb,CAAC;QAEM,cAAQ,GAAf,UAAgB,CAAS,EAAE,CAAS,EAAE,CAAS,EAAE,CAAS;YACtD,IAAI,CAAC,GAAG,IAAI,KAAK,EAAE,CAAC;YACpB,CAAC,CAAC,CAAC,GAAG,CAAC,CAAC;YACR,CAAC,CAAC,CAAC,GAAG,CAAC,CAAC;YACR,CAAC,CAAC,CAAC,GAAG,CAAC,CAAC;YACR,CAAC,CAAC,CAAC,GAAG,CAAC,CAAC;YACR,MAAM,CAAC,CAAC,CAAC;QACb,CAAC;QAEM,aAAO,GAAd,UAAe,GAAW;YACtB,IAAI,CAAC,GAAG,IAAI,KAAK,EAAE,CAAC;YACpB,QAAQ,CAAC,CAAC,EAAE,GAAG,CAAC,CAAC;YACjB,MAAM,CAAC,CAAC,CAAC;QACb,CAAC;QACL,YAAC;IAAD,CAvGA,AAuGC,IAAA;IAvGY,UAAK,QAuGjB,CAAA;IAEU,gBAAW,GAAG;QACrB,SAAS,EAAE,KAAK,CAAC,OAAO,CAAC,WAAW,CAAC;QACrC,YAAY,EAAE,KAAK,CAAC,OAAO,CAAC,WAAW,CAAC;QACxC,IAAI,EAAE,KAAK,CAAC,OAAO,CAAC,WAAW,CAAC;QAChC,UAAU,EAAE,KAAK,CAAC,OAAO,CAAC,WAAW,CAAC;QACtC,KAAK,EAAE,KAAK,CAAC,OAAO,CAAC,WAAW,CAAC;QACjC,KAAK,EAAE,KAAK,CAAC,OAAO,CAAC,WAAW,CAAC;QACjC,MAAM,EAAE,KAAK,CAAC,OAAO,CAAC,WAAW,CAAC;QAClC,KAAK,EAAE,KAAK,CAAC,OAAO,CAAC,WAAW,CAAC;QACjC,cAAc,EAAE,KAAK,CAAC,OAAO,CAAC,WAAW,CAAC;QAC1C,IAAI,EAAE,KAAK,CAAC,OAAO,CAAC,WAAW,CAAC;QAChC,UAAU,EAAE,KAAK,CAAC,OAAO,CAAC,WAAW,CAAC;QACtC,KAAK,EAAE,KAAK,CAAC,OAAO,CAAC,WAAW,CAAC;QACjC,SAAS,EAAE,KAAK,CAAC,OAAO,CAAC,WAAW,CAAC;QACrC,SAAS,EAAE,KAAK,CAAC,OAAO,CAAC,WAAW,CAAC;QACrC,UAAU,EAAE,KAAK,CAAC,OAAO,CAAC,WAAW,CAAC;QACtC,SAAS,EAAE,KAAK,CAAC,OAAO,CAAC,WAAW,CAAC;QACrC,KAAK,EAAE,KAAK,CAAC,OAAO,CAAC,WAAW,CAAC;QACjC,cAAc,EAAE,KAAK,CAAC,OAAO,CAAC,WAAW,CAAC;QAC1C,QAAQ,EAAE,KAAK,CAAC,OAAO,CAAC,WAAW,CAAC;QACpC,OAAO,EAAE,KAAK,CAAC,OAAO,CAAC,WAAW,CAAC;QACnC,IAAI,EAAE,KAAK,CAAC,OAAO,CAAC,WAAW,CAAC;QAChC,QAAQ,EAAE,KAAK,CAAC,OAAO,CAAC,WAAW,CAAC;QACpC,QAAQ,EAAE,KAAK,CAAC,OAAO,CAAC,WAAW,CAAC;QACpC,aAAa,EAAE,KAAK,CAAC,OAAO,CAAC,WAAW,CAAC;QACzC,QAAQ,EAAE,KAAK,CAAC,OAAO,CAAC,WAAW,CAAC;QACpC,SAAS,EAAE,KAAK,CAAC,OAAO,CAAC,WAAW,CAAC;QACrC,SAAS,EAAE,KAAK,CAAC,OAAO,CAAC,WAAW,CAAC;QACrC,WAAW,EAAE,KAAK,CAAC,OAAO,CAAC,WAAW,CAAC;QACvC,cAAc,EAAE,KAAK,CAAC,OAAO,CAAC,WAAW,CAAC;QAC1C,UAAU,EAAE,KAAK,CAAC,OAAO,CAAC,WAAW,CAAC;QACtC,UAAU,EAAE,KAAK,CAAC,OAAO,CAAC,WAAW,CAAC;QACtC,OAAO,EAAE,KAAK,CAAC,OAAO,CAAC,WAAW,CAAC;QACnC,UAAU,EAAE,KAAK,CAAC,OAAO,CAAC,WAAW,CAAC;QACtC,YAAY,EAAE,KAAK,CAAC,OAAO,CAAC,WAAW,CAAC;QACxC,aAAa,EAAE,KAAK,CAAC,OAAO,CAAC,WAAW,CAAC;QACzC,aAAa,EAAE,KAAK,CAAC,OAAO,CAAC,WAAW,CAAC;QACzC,aAAa,EAAE,KAAK,CAAC,OAAO,CAAC,WAAW,CAAC;QACzC,UAAU,EAAE,KAAK,CAAC,OAAO,CAAC,WAAW,CAAC;QACtC,QAAQ,EAAE,KAAK,CAAC,OAAO,CAAC,WAAW,CAAC;QACpC,WAAW,EAAE,KAAK,CAAC,OAAO,CAAC,WAAW,CAAC;QACvC,OAAO,EAAE,KAAK,CAAC,OAAO,CAAC,WAAW,CAAC;QACnC,UAAU,EAAE,KAAK,CAAC,OAAO,CAAC,WAAW,CAAC;QACtC,SAAS,EAAE,KAAK,CAAC,OAAO,CAAC,WAAW,CAAC;QACrC,WAAW,EAAE,KAAK,CAAC,OAAO,CAAC,WAAW,CAAC;QACvC,WAAW,EAAE,KAAK,CAAC,OAAO,CAAC,WAAW,CAAC;QACvC,OAAO,EAAE,KAAK,CAAC,OAAO,CAAC,WAAW,CAAC;QACnC,SAAS,EAAE,KAAK,CAAC,OAAO,CAAC,WAAW,CAAC;QACrC,UAAU,EAAE,KAAK,CAAC,OAAO,CAAC,WAAW,CAAC;QACtC,IAAI,EAAE,KAAK,CAAC,OAAO,CAAC,WAAW,CAAC;QAChC,SAAS,EAAE,KAAK,CAAC,OAAO,CAAC,WAAW,CAAC;QACrC,IAAI,EAAE,KAAK,CAAC,OAAO,CAAC,WAAW,CAAC;QAChC,KAAK,EAAE,KAAK,CAAC,OAAO,CAAC,WAAW,CAAC;QACjC,WAAW,EAAE,KAAK,CAAC,OAAO,CAAC,WAAW,CAAC;QACvC,QAAQ,EAAE,KAAK,CAAC,OAAO,CAAC,WAAW,CAAC;QACpC,OAAO,EAAE,KAAK,CAAC,OAAO,CAAC,WAAW,CAAC;QACnC,SAAS,EAAE,KAAK,CAAC,OAAO,CAAC,WAAW,CAAC;QACrC,MAAM,EAAE,KAAK,CAAC,OAAO,CAAC,WAAW,CAAC;QAClC,KAAK,EAAE,KAAK,CAAC,OAAO,CAAC,WAAW,CAAC;QACjC,KAAK,EAAE,KAAK,CAAC,OAAO,CAAC,WAAW,CAAC;QACjC,QAAQ,EAAE,KAAK,CAAC,OAAO,CAAC,WAAW,CAAC;QACpC,aAAa,EAAE,KAAK,CAAC,OAAO,CAAC,WAAW,CAAC;QACzC,SAAS,EAAE,KAAK,CAAC,OAAO,CAAC,WAAW,CAAC;QACrC,YAAY,EAAE,KAAK,CAAC,OAAO,CAAC,WAAW,CAAC;QACxC,SAAS,EAAE,KAAK,CAAC,OAAO,CAAC,WAAW,CAAC;QACrC,UAAU,EAAE,KAAK,CAAC,OAAO,CAAC,WAAW,CAAC;QACtC,SAAS,EAAE,KAAK,CAAC,OAAO,CAAC,WAAW,CAAC;QACrC,oBAAoB,EAAE,KAAK,CAAC,OAAO,CAAC,WAAW,CAAC;QAChD,SAAS,EAAE,KAAK,CAAC,OAAO,CAAC,WAAW,CAAC;QACrC,UAAU,EAAE,KAAK,CAAC,OAAO,CAAC,WAAW,CAAC;QACtC,SAAS,EAAE,KAAK,CAAC,OAAO,CAAC,WAAW,CAAC;QACrC,WAAW,EAAE,KAAK,CAAC,OAAO,CAAC,WAAW,CAAC;QACvC,aAAa,EAAE,KAAK,CAAC,OAAO,CAAC,WAAW,CAAC;QACzC,YAAY,EAAE,KAAK,CAAC,OAAO,CAAC,WAAW,CAAC;QACxC,cAAc,EAAE,KAAK,CAAC,OAAO,CAAC,WAAW,CAAC;QAC1C,cAAc,EAAE,KAAK,CAAC,OAAO,CAAC,WAAW,CAAC;QAC1C,WAAW,EAAE,KAAK,CAAC,OAAO,CAAC,WAAW,CAAC;QACvC,IAAI,EAAE,KAAK,CAAC,OAAO,CAAC,WAAW,CAAC;QAChC,SAAS,EAAE,KAAK,CAAC,OAAO,CAAC,WAAW,CAAC;QACrC,KAAK,EAAE,KAAK,CAAC,OAAO,CAAC,WAAW,CAAC;QACjC,OAAO,EAAE,KAAK,CAAC,OAAO,CAAC,WAAW,CAAC;QACnC,MAAM,EAAE,KAAK,CAAC,OAAO,CAAC,WAAW,CAAC;QAClC,gBAAgB,EAAE,KAAK,CAAC,OAAO,CAAC,WAAW,CAAC;QAC5C,UAAU,EAAE,KAAK,CAAC,OAAO,CAAC,WAAW,CAAC;QACtC,YAAY,EAAE,KAAK,CAAC,OAAO,CAAC,WAAW,CAAC;QACxC,YAAY,EAAE,KAAK,CAAC,OAAO,CAAC,WAAW,CAAC;QACxC,cAAc,EAAE,KAAK,CAAC,OAAO,CAAC,WAAW,CAAC;QAC1C,eAAe,EAAE,KAAK,CAAC,OAAO,CAAC,WAAW,CAAC;QAC3C,iBAAiB,EAAE,KAAK,CAAC,OAAO,CAAC,WAAW,CAAC;QAC7C,eAAe,EAAE,KAAK,CAAC,OAAO,CAAC,WAAW,CAAC;QAC3C,eAAe,EAAE,KAAK,CAAC,OAAO,CAAC,WAAW,CAAC;QAC3C,YAAY,EAAE,KAAK,CAAC,OAAO,CAAC,WAAW,CAAC;QACxC,SAAS,EAAE,KAAK,CAAC,OAAO,CAAC,WAAW,CAAC;QACrC,SAAS,EAAE,KAAK,CAAC,OAAO,CAAC,WAAW,CAAC;QACrC,QAAQ,EAAE,KAAK,CAAC,OAAO,CAAC,WAAW,CAAC;QACpC,WAAW,EAAE,KAAK,CAAC,OAAO,CAAC,WAAW,CAAC;QACvC,IAAI,EAAE,KAAK,CAAC,OAAO,CAAC,WAAW,CAAC;QAChC,OAAO,EAAE,KAAK,CAAC,OAAO,CAAC,WAAW,CAAC;QACnC,KAAK,EAAE,KAAK,CAAC,OAAO,CAAC,WAAW,CAAC;QACjC,SAAS,EAAE,KAAK,CAAC,OAAO,CAAC,WAAW,CAAC;QACrC,MAAM,EAAE,KAAK,CAAC,OAAO,CAAC,WAAW,CAAC;QAClC,SAAS,EAAE,KAAK,CAAC,OAAO,CAAC,WAAW,CAAC;QACrC,MAAM,EAAE,KAAK,CAAC,OAAO,CAAC,WAAW,CAAC;QAClC,aAAa,EAAE,KAAK,CAAC,OAAO,CAAC,WAAW,CAAC;QACzC,SAAS,EAAE,KAAK,CAAC,OAAO,CAAC,WAAW,CAAC;QACrC,aAAa,EAAE,KAAK,CAAC,OAAO,CAAC,WAAW,CAAC;QACzC,aAAa,EAAE,KAAK,CAAC,OAAO,CAAC,WAAW,CAAC;QACzC,UAAU,EAAE,KAAK,CAAC,OAAO,CAAC,WAAW,CAAC;QACtC,SAAS,EAAE,KAAK,CAAC,OAAO,CAAC,WAAW,CAAC;QACrC,IAAI,EAAE,KAAK,CAAC,OAAO,CAAC,WAAW,CAAC;QAChC,IAAI,EAAE,KAAK,CAAC,OAAO,CAAC,WAAW,CAAC;QAChC,IAAI,EAAE,KAAK,CAAC,OAAO,CAAC,WAAW,CAAC;QAChC,UAAU,EAAE,KAAK,CAAC,OAAO,CAAC,WAAW,CAAC;QACtC,MAAM,EAAE,KAAK,CAAC,OAAO,CAAC,WAAW,CAAC;QAClC,GAAG,EAAE,KAAK,CAAC,OAAO,CAAC,WAAW,CAAC;QAC/B,SAAS,EAAE,KAAK,CAAC,OAAO,CAAC,WAAW,CAAC;QACrC,SAAS,EAAE,KAAK,CAAC,OAAO,CAAC,WAAW,CAAC;QACrC,WAAW,EAAE,KAAK,CAAC,OAAO,CAAC,WAAW,CAAC;QACvC,MAAM,EAAE,KAAK,CAAC,OAAO,CAAC,WAAW,CAAC;QAClC,UAAU,EAAE,KAAK,CAAC,OAAO,CAAC,WAAW,CAAC;QACtC,QAAQ,EAAE,KAAK,CAAC,OAAO,CAAC,WAAW,CAAC;QACpC,QAAQ,EAAE,KAAK,CAAC,OAAO,CAAC,WAAW,CAAC;QACpC,MAAM,EAAE,KAAK,CAAC,OAAO,CAAC,WAAW,CAAC;QAClC,MAAM,EAAE,KAAK,CAAC,OAAO,CAAC,WAAW,CAAC;QAClC,OAAO,EAAE,KAAK,CAAC,OAAO,CAAC,WAAW,CAAC;QACnC,SAAS,EAAE,KAAK,CAAC,OAAO,CAAC,WAAW,CAAC;QACrC,SAAS,EAAE,KAAK,CAAC,OAAO,CAAC,WAAW,CAAC;QACrC,IAAI,EAAE,KAAK,CAAC,OAAO,CAAC,WAAW,CAAC;QAChC,WAAW,EAAE,KAAK,CAAC,OAAO,CAAC,WAAW,CAAC;QACvC,SAAS,EAAE,KAAK,CAAC,OAAO,CAAC,WAAW,CAAC;QACrC,GAAG,EAAE,KAAK,CAAC,OAAO,CAAC,WAAW,CAAC;QAC/B,IAAI,EAAE,KAAK,CAAC,OAAO,CAAC,WAAW,CAAC;QAChC,OAAO,EAAE,KAAK,CAAC,OAAO,CAAC,WAAW,CAAC;QACnC,MAAM,EAAE,KAAK,CAAC,OAAO,CAAC,WAAW,CAAC;QAClC,WAAW,EAAE,KAAK,CAAC,OAAO,CAAC,WAAW,CAAC;QACvC,SAAS,EAAE,KAAK,CAAC,OAAO,CAAC,WAAW,CAAC;QACrC,MAAM,EAAE,KAAK,CAAC,OAAO,CAAC,WAAW,CAAC;QAClC,KAAK,EAAE,KAAK,CAAC,OAAO,CAAC,WAAW,CAAC;QACjC,KAAK,EAAE,KAAK,CAAC,OAAO,CAAC,WAAW,CAAC;QACjC,UAAU,EAAE,KAAK,CAAC,OAAO,CAAC,WAAW,CAAC;QACtC,MAAM,EAAE,KAAK,CAAC,OAAO,CAAC,WAAW,CAAC;QAClC,WAAW,EAAE,KAAK,CAAC,OAAO,CAAC,WAAW,CAAC;KAC1C,CAAC;IAEF,eAAe,CAAQ,EAAE,CAAS;QAC9B,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,KAAK,GAAG,CAAC,CAAC,CAAC;YACf,QAAQ,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC;QACnB,CAAC;QAAC,IAAI,CAAC,CAAC;YACJ,IAAI,KAAK,GAAG,gBAAW,CAAC,CAAC,CAAC,CAAC;YAC3B,CAAC,CAAC,CAAC,GAAG,KAAK,CAAC,CAAC,CAAC;YACd,CAAC,CAAC,CAAC,GAAG,KAAK,CAAC,CAAC,CAAC;YACd,CAAC,CAAC,CAAC,GAAG,KAAK,CAAC,CAAC,CAAC;YACd,CAAC,CAAC,CAAC,GAAG,KAAK,CAAC,CAAC,CAAC;QAClB,CAAC;IACL,CAAC;IAED,kBAAkB,CAAQ,EAAE,GAAW;QACnC,IAAI,KAAK,CAAC;QACV,EAAE,CAAC,CAAC,CAAC,KAAK,GAAG,UAAU,CAAC,IAAI,CAAC,GAAG,CAAC,CAAC,IAAI,IAAI,CAAC,CAAC,CAAC;YACzC,CAAC,CAAC,CAAC,GAAG,QAAQ,CAAC,KAAK,CAAC,CAAC,CAAC,EAAE,EAAE,CAAC,GAAG,KAAK,CAAC;YACrC,CAAC,CAAC,CAAC,GAAG,QAAQ,CAAC,KAAK,CAAC,CAAC,CAAC,EAAE,EAAE,CAAC,CAAC;YAC7B,CAAC,CAAC,CAAC,GAAG,QAAQ,CAAC,KAAK,CAAC,CAAC,CAAC,EAAE,EAAE,CAAC,CAAC;YAC7B,CAAC,CAAC,CAAC,GAAG,QAAQ,CAAC,KAAK,CAAC,CAAC,CAAC,EAAE,EAAE,CAAC,CAAC;QACjC,CAAC;QAAC,IAAI,CAAC,EAAE,CAAC,CAAC,CAAC,KAAK,GAAG,YAAY,CAAC,IAAI,CAAC,GAAG,CAAC,CAAC,IAAI,IAAI,CAAC,CAAC,CAAC;YAClD,CAAC,CAAC,CAAC,GAAG,GAAG,CAAC;YACV,CAAC,CAAC,CAAC,GAAG,QAAQ,CAAC,KAAK,CAAC,CAAC,CAAC,EAAE,EAAE,CAAC,CAAC;YAC7B,CAAC,CAAC,CAAC,GAAG,QAAQ,CAAC,KAAK,CAAC,CAAC,CAAC,EAAE,EAAE,CAAC,CAAC;YAC7B,CAAC,CAAC,CAAC,GAAG,QAAQ,CAAC,KAAK,CAAC,CAAC,CAAC,EAAE,EAAE,CAAC,CAAC;QACjC,CAAC;IACL,CAAC;AACL,CAAC,EAvRS,IAAI,KAAJ,IAAI,QAuRb;ACvRD,IAAU,IAAI,CAiBb;AAjBD,WAAU,IAAI;IAAC,IAAA,OAAO,CAiBrB;IAjBc,WAAA,OAAO,EAAC,CAAC;QACpB,WAAY,UAAU;YAClB,2CAAQ,CAAA;YACR,iDAAgB,CAAA;YAChB,iDAAgB,CAAA;YAChB,iDAAgB,CAAA;YAChB,qDAAkB,CAAA;YAElB,4CAAa,CAAA;YACb,kDAAgB,CAAA;YAChB,kDAAgB,CAAA;YAChB,uDAAkB,CAAA;YAClB,yDAAmB,CAAA;YAEnB,4CAA0F,CAAA;YAC1F,yCAA6G,CAAA;QACjH,CAAC,EAfW,kBAAU,KAAV,kBAAU,QAerB;QAfD,IAAY,UAAU,GAAV,kBAeX,CAAA;IACL,CAAC,EAjBc,OAAO,GAAP,YAAO,KAAP,YAAO,QAiBrB;AAAD,CAAC,EAjBS,IAAI,KAAJ,IAAI,QAiBb;ACfD,IAAU,IAAI,CA4Fb;AA5FD,WAAU,IAAI,EAAC,CAAC;IAKZ,IAAO,UAAU,GAAG,IAAI,CAAC,OAAO,CAAC,UAAU,CAAC;IAE5C;QAMI,iBAAY,KAAqB,EAAE,SAA6B;YAC5D,IAAI,CAAC,IAAI,CAAC,KAAK,EAAE,SAAS,CAAC,CAAC;YAC5B,MAAM,CAAC,MAAM,CAAC,IAAI,CAAC,CAAC;QACxB,CAAC;QAED,sBAAI,GAAJ,UAAK,KAAqB,EAAE,SAA6B;YACrD,IAAI,CAAC,KAAK,GAAG,CAAC,KAAK,IAAI,IAAI,YAAO,CAAC,YAAY,EAAE,CAAC,CAAC,KAAK,EAAE,CAAC;YAC3D,IAAI,CAAC,SAAS,GAAG,CAAC,SAAS,IAAI,IAAI,YAAO,CAAC,gBAAgB,EAAE,CAAC,CAAC,KAAK,EAAE,CAAC;YACvE,IAAI,CAAC,SAAS,GAAG;gBACb,IAAI,EAAE,YAAO,CAAC,IAAI,CAAC,SAAS,CAAC,QAAQ;gBACrC,EAAE,EAAE,YAAO,CAAC,EAAE,CAAC,SAAS,CAAC,QAAQ;gBACjC,MAAM,EAAE,YAAO,CAAC,MAAM,CAAC,SAAS,CAAC,QAAQ;gBACzC,GAAG,EAAE,YAAO,CAAC,GAAG,CAAC,SAAS,CAAC,QAAQ;aACtC,CAAC;YACF,IAAI,CAAC,OAAO,GAAG,YAAO,CAAC,KAAK,CAAC;QACjC,CAAC;QAED,sBAAI,4BAAO;iBAAX;gBACI,MAAM,CAAC,IAAI,CAAC,KAAK,CAAC,OAAO,CAAC;YAC9B,CAAC;iBAED,UAAY,KAAa;gBACrB,EAAE,CAAC,CAAC,IAAI,CAAC,KAAK,CAAC,OAAO,KAAK,KAAK,CAAC,CAAC,CAAC;oBAC/B,IAAI,CAAC,KAAK,CAAC,OAAO,GAAG,KAAK,CAAC;oBAC3B,IAAI,CAAC,SAAS,CAAC,KAAK,CAAC,UAAU,CAAC,OAAO,CAAC,CAAC;gBAC7C,CAAC;YACL,CAAC;;;WAPA;QASD,sBAAI,4BAAO;iBAAX;gBACI,MAAM,CAAC,IAAI,CAAC,KAAK,CAAC,OAAO,CAAC;YAC9B,CAAC;iBAED,UAAY,KAAc;gBACtB,EAAE,CAAC,CAAC,IAAI,CAAC,KAAK,CAAC,OAAO,KAAK,KAAK,CAAC,CAAC,CAAC;oBAC/B,IAAI,CAAC,KAAK,CAAC,OAAO,GAAG,KAAK,CAAC;oBAC3B,IAAI,CAAC,SAAS,CAAC,KAAK,CAAC,UAAU,CAAC,OAAO,CAAC,CAAC;gBAC7C,CAAC;YACL,CAAC;;;WAPA;QASD,sBAAI,qCAAgB;iBAApB;gBACI,MAAM,CAAC,IAAI,CAAC,KAAK,CAAC,eAAe,CAAC,CAAC,CAAC;YACxC,CAAC;iBAED,UAAqB,KAAa;gBAC9B,EAAE,CAAC,CAAC,IAAI,CAAC,KAAK,CAAC,eAAe,CAAC,CAAC,KAAK,KAAK,CAAC,CAAC,CAAC;oBACzC,IAAI,CAAC,KAAK,CAAC,eAAe,CAAC,CAAC,GAAG,KAAK,CAAC;oBACrC,IAAI,CAAC,SAAS,CAAC,KAAK,CAAC,UAAU,CAAC,SAAS,CAAC,CAAC;gBAC/C,CAAC;YACL,CAAC;;;WAPA;QASD,sBAAI,qCAAgB;iBAApB;gBACI,MAAM,CAAC,IAAI,CAAC,KAAK,CAAC,eAAe,CAAC,CAAC,CAAC;YACxC,CAAC;iBAED,UAAqB,KAAa;gBAC9B,EAAE,CAAC,CAAC,IAAI,CAAC,KAAK,CAAC,eAAe,CAAC,CAAC,KAAK,KAAK,CAAC,CAAC,CAAC;oBACzC,IAAI,CAAC,KAAK,CAAC,eAAe,CAAC,CAAC,GAAG,KAAK,CAAC;oBACrC,IAAI,CAAC,SAAS,CAAC,KAAK,CAAC,UAAU,CAAC,SAAS,CAAC,CAAC;gBAC/C,CAAC;YACL,CAAC;;;WAPA;QASD,gCAAc,GAAd;YACI,EAAE,CAAC,IAAI,CAAC,QAAQ,CAAC,IAAI,CAAC,KAAK,CAAC,SAAS,CAAC,CAAC;YACvC,IAAI,CAAC,SAAS,CAAC,KAAK,CAAC,UAAU,CAAC,SAAS,CAAC,CAAC;YAC3C,MAAM,CAAC,IAAI,CAAC;QAChB,CAAC;QAED,8BAAY,GAAZ,UAAa,GAAiB;YAC1B,EAAE,CAAC,IAAI,CAAC,MAAM,CAAC,GAAG,EAAE,IAAI,CAAC,KAAK,CAAC,SAAS,CAAC,CAAC;YAC1C,IAAI,CAAC,SAAS,CAAC,KAAK,CAAC,UAAU,CAAC,SAAS,CAAC,CAAC;YAC3C,MAAM,CAAC,IAAI,CAAC;QAChB,CAAC;QAED,gCAAc,GAAd,UAAe,GAAiB;YAC5B,EAAE,CAAC,IAAI,CAAC,KAAK,CAAC,IAAI,CAAC,KAAK,CAAC,SAAS,EAAE,GAAG,CAAC,CAAC;YACzC,IAAI,CAAC,SAAS,CAAC,KAAK,CAAC,UAAU,CAAC,SAAS,CAAC,CAAC;YAC3C,MAAM,CAAC,IAAI,CAAC;QAChB,CAAC;QACL,cAAC;IAAD,CApFA,AAoFC,IAAA;IApFY,YAAO,UAoFnB,CAAA;AACL,CAAC,EA5FS,IAAI,KAAJ,IAAI,QA4Fb;AC5FD,IAAU,IAAI,CAwIb;AAxID,WAAU,IAAI,EAAC,CAAC;IAMZ,IAAO,UAAU,GAAG,IAAI,CAAC,OAAO,CAAC,UAAU,CAAC;IAE5C;QAMI,mBAAY,KAAuB,EAAE,SAA+B;YAChE,IAAI,CAAC,IAAI,CAAC,KAAK,EAAE,SAAS,CAAC,CAAC;YAC5B,MAAM,CAAC,MAAM,CAAC,IAAI,CAAC,CAAC;QACxB,CAAC;QAED,wBAAI,GAAJ,UAAK,KAAuB,EAAE,SAA+B;YACzD,IAAI,CAAC,QAAQ,GAAG,EAAE,CAAC;YACnB,IAAI,CAAC,KAAK,GAAG,CAAC,KAAK,IAAI,IAAI,cAAS,CAAC,cAAc,EAAE,CAAC,CAAC,KAAK,EAAE,CAAC;YAC/D,IAAI,CAAC,SAAS,GAAG,CAAC,SAAS,IAAI,IAAI,cAAS,CAAC,kBAAkB,EAAE,CAAC,CAAC,KAAK,EAAE,CAAC;YAC3E,IAAI,CAAC,SAAS,GAAG;gBACb,IAAI,EAAE,cAAS,CAAC,IAAI,CAAC,SAAS,CAAC,QAAQ;gBACvC,EAAE,EAAE,cAAS,CAAC,EAAE,CAAC,SAAS,CAAC,QAAQ;gBACnC,MAAM,EAAE,cAAS,CAAC,MAAM,CAAC,SAAS,CAAC,QAAQ;gBAC3C,GAAG,EAAE,cAAS,CAAC,GAAG,CAAC,SAAS,CAAC,QAAQ;aACxC,CAAC;QACN,CAAC;QAED,wBAAI,GAAJ,UAAK,OAAiB;YAClB,IAAI,GAAG,GAAG,IAAI,CAAC,QAAQ,CAAC;YACxB,IAAI,CAAC,GAAG,CAAC,CAAC,CAAC;YACX,EAAE,CAAC,CAAC,CAAC,OAAO,CAAC,CAAC,CAAC;gBACX,MAAM,CAAiC;oBACnC,IAAI;wBACA,CAAC,EAAE,CAAC;wBACJ,MAAM,CAAC,GAAG,CAAC,CAAC,CAAC,CAAC;oBAClB,CAAC;iBACJ,CAAC;YACN,CAAC;YAED,CAAC,GAAG,GAAG,CAAC,MAAM,CAAC;YACf,MAAM,CAAiC;gBACnC,IAAI;oBACA,CAAC,EAAE,CAAC;oBACJ,MAAM,CAAC,GAAG,CAAC,CAAC,CAAC,CAAC;gBAClB,CAAC;aACJ,CAAC;QACN,CAAC;QAED,sBAAI,8BAAO;iBAAX;gBACI,MAAM,CAAC,IAAI,CAAC,KAAK,CAAC,OAAO,CAAC;YAC9B,CAAC;iBAED,UAAY,KAAa;gBACrB,EAAE,CAAC,CAAC,IAAI,CAAC,KAAK,CAAC,OAAO,KAAK,KAAK,CAAC,CAAC,CAAC;oBAC/B,IAAI,CAAC,KAAK,CAAC,OAAO,GAAG,KAAK,CAAC;oBAC3B,IAAI,CAAC,SAAS,CAAC,KAAK,CAAC,UAAU,CAAC,OAAO,CAAC,CAAC;gBAC7C,CAAC;YACL,CAAC;;;WAPA;QASD,sBAAI,8BAAO;iBAAX;gBACI,MAAM,CAAC,IAAI,CAAC,KAAK,CAAC,OAAO,CAAC;YAC9B,CAAC;iBAED,UAAY,KAAc;gBACtB,EAAE,CAAC,CAAC,IAAI,CAAC,KAAK,CAAC,OAAO,KAAK,KAAK,CAAC,CAAC,CAAC;oBAC/B,IAAI,CAAC,KAAK,CAAC,OAAO,GAAG,KAAK,CAAC;oBAC3B,IAAI,CAAC,SAAS,CAAC,KAAK,CAAC,UAAU,CAAC,OAAO,CAAC,CAAC;gBAC7C,CAAC;YACL,CAAC;;;WAPA;QASD,sBAAI,wBAAC;iBAAL;gBACI,MAAM,CAAC,IAAI,CAAC,KAAK,CAAC,MAAM,CAAC,CAAC,CAAC;YAC/B,CAAC;iBAED,UAAM,KAAa;gBACf,EAAE,CAAC,CAAC,IAAI,CAAC,KAAK,CAAC,MAAM,CAAC,CAAC,KAAK,KAAK,CAAC,CAAC,CAAC;oBAChC,IAAI,CAAC,KAAK,CAAC,MAAM,CAAC,CAAC,GAAG,KAAK,CAAC;oBAC5B,IAAI,CAAC,SAAS,CAAC,KAAK,CAAC,UAAU,CAAC,SAAS,CAAC,CAAC;gBAC/C,CAAC;YACL,CAAC;;;WAPA;QASD,sBAAI,wBAAC;iBAAL;gBACI,MAAM,CAAC,IAAI,CAAC,KAAK,CAAC,MAAM,CAAC,CAAC,CAAC;YAC/B,CAAC;iBAED,UAAM,KAAa;gBACf,EAAE,CAAC,CAAC,IAAI,CAAC,KAAK,CAAC,MAAM,CAAC,CAAC,KAAK,KAAK,CAAC,CAAC,CAAC;oBAChC,IAAI,CAAC,KAAK,CAAC,MAAM,CAAC,CAAC,GAAG,KAAK,CAAC;oBAC5B,IAAI,CAAC,SAAS,CAAC,KAAK,CAAC,UAAU,CAAC,SAAS,CAAC,CAAC;gBAC/C,CAAC;YACL,CAAC;;;WAPA;QASD,sBAAI,uCAAgB;iBAApB;gBACI,MAAM,CAAC,IAAI,CAAC,KAAK,CAAC,eAAe,CAAC,CAAC,CAAC;YACxC,CAAC;iBAED,UAAqB,KAAa;gBAC9B,EAAE,CAAC,CAAC,IAAI,CAAC,KAAK,CAAC,eAAe,CAAC,CAAC,KAAK,KAAK,CAAC,CAAC,CAAC;oBACzC,IAAI,CAAC,KAAK,CAAC,eAAe,CAAC,CAAC,GAAG,KAAK,CAAC;oBACrC,IAAI,CAAC,SAAS,CAAC,KAAK,CAAC,UAAU,CAAC,SAAS,CAAC,CAAC;gBAC/C,CAAC;YACL,CAAC;;;WAPA;QASD,sBAAI,uCAAgB;iBAApB;gBACI,MAAM,CAAC,IAAI,CAAC,KAAK,CAAC,eAAe,CAAC,CAAC,CAAC;YACxC,CAAC;iBAED,UAAqB,KAAa;gBAC9B,EAAE,CAAC,CAAC,IAAI,CAAC,KAAK,CAAC,eAAe,CAAC,CAAC,KAAK,KAAK,CAAC,CAAC,CAAC;oBACzC,IAAI,CAAC,KAAK,CAAC,eAAe,CAAC,CAAC,GAAG,KAAK,CAAC;oBACrC,IAAI,CAAC,SAAS,CAAC,KAAK,CAAC,UAAU,CAAC,SAAS,CAAC,CAAC;gBAC/C,CAAC;YACL,CAAC;;;WAPA;QASD,kCAAc,GAAd;YACI,EAAE,CAAC,IAAI,CAAC,QAAQ,CAAC,IAAI,CAAC,KAAK,CAAC,SAAS,CAAC,CAAC;YACvC,IAAI,CAAC,SAAS,CAAC,KAAK,CAAC,UAAU,CAAC,SAAS,CAAC,CAAC;YAC3C,MAAM,CAAC,IAAI,CAAC;QAChB,CAAC;QAED,gCAAY,GAAZ,UAAa,GAAiB;YAC1B,EAAE,CAAC,IAAI,CAAC,MAAM,CAAC,GAAG,EAAE,IAAI,CAAC,KAAK,CAAC,SAAS,CAAC,CAAC;YAC1C,IAAI,CAAC,SAAS,CAAC,KAAK,CAAC,UAAU,CAAC,SAAS,CAAC,CAAC;YAC3C,MAAM,CAAC,IAAI,CAAC;QAChB,CAAC;QAED,kCAAc,GAAd,UAAe,GAAiB;YAC5B,EAAE,CAAC,IAAI,CAAC,KAAK,CAAC,IAAI,CAAC,KAAK,CAAC,SAAS,EAAE,GAAG,CAAC,CAAC;YACzC,IAAI,CAAC,SAAS,CAAC,KAAK,CAAC,UAAU,CAAC,SAAS,CAAC,CAAC;YAC3C,MAAM,CAAC,IAAI,CAAC;QAChB,CAAC;QACL,gBAAC;IAAD,CA/HA,AA+HC,IAAA;IA/HY,cAAS,YA+HrB,CAAA;AACL,CAAC,EAxIS,IAAI,KAAJ,IAAI,QAwIb;AC1ID,IAAU,IAAI,CAoFb;AApFD,WAAU,IAAI,EAAC,CAAC;IAIZ,IAAO,UAAU,GAAG,IAAI,CAAC,OAAO,CAAC,UAAU,CAAC;IAU5C;QAA4B,0BAAO;QAQ/B,gBAAY,KAAoB,EAAE,SAA4B;YAC1D,kBAAM,KAAK,EAAE,SAAS,CAAC,CAAC;YARpB,eAAU,GAA2B,IAAI,CAAC;YAC1C,iBAAY,GAA2B,IAAI,CAAC;QAQpD,CAAC;QAED,qBAAI,GAAJ,UAAK,KAAoB,EAAE,SAA4B;YACnD,IAAI,CAAC,KAAK,GAAG,CAAC,KAAK,IAAI,IAAI,WAAM,CAAC,WAAW,EAAE,CAAC,CAAC,KAAK,EAAE,CAAC;YACzD,IAAI,CAAC,SAAS,GAAG,CAAC,SAAS,IAAI,IAAI,WAAM,CAAC,eAAe,EAAE,CAAC,CAAC,KAAK,EAAE,CAAC;YACrE,IAAI,CAAC,SAAS,GAAG;gBACb,IAAI,EAAE,YAAO,CAAC,IAAI,CAAC,SAAS,CAAC,QAAQ;gBACrC,EAAE,EAAE,YAAO,CAAC,EAAE,CAAC,SAAS,CAAC,QAAQ;gBACjC,MAAM,EAAE,WAAM,CAAC,MAAM,CAAC,SAAS,CAAC,QAAQ;gBACxC,GAAG,EAAE,WAAM,CAAC,GAAG,CAAC,SAAS,CAAC,QAAQ;aACrC,CAAC;YACF,IAAI,CAAC,OAAO,GAAG,YAAO,CAAC,MAAM,CAAC;QAClC,CAAC;QAED,sBAAI,wBAAI;iBAAR,cAAqB,MAAM,CAAC,IAAI,CAAC,KAAK,CAAC,IAAI,CAAC,CAAC,CAAC;iBAC9C,UAAS,KAAa;gBAAtB,iBAgBC;gBAfG,EAAE,CAAC,CAAC,IAAI,CAAC,UAAU,CAAC,CAAC,CAAC;oBAClB,IAAI,CAAC,UAAU,CAAC,OAAO,EAAE,CAAC;oBAC1B,IAAI,CAAC,UAAU,GAAG,IAAI,CAAC;gBAC3B,CAAC;gBACD,EAAE,CAAC,CAAC,CAAC,CAAC,KAAK,CAAC,KAAK,CAAC,CAAC,IAAI,CAAC,KAAK,CAAC,IAAI,CAAC,CAAC,CAAC,CAAC;oBAElC,IAAI,CAAC,SAAS,CAAC,KAAK,CAAC,UAAU,CAAC,OAAO,CAAC,CAAC,UAAU,EAAE,CAAC;gBAC1D,CAAC;gBACD,EAAE,CAAC,CAAC,KAAK,KAAK,IAAI,CAAC,KAAK,CAAC,IAAI,CAAC,CAAC,CAAC;oBAC5B,IAAI,CAAC,KAAK,CAAC,IAAI,GAAG,KAAK,CAAC;oBACxB,IAAI,CAAC,SAAS,CAAC,UAAU,EAAE,CAAC;gBAChC,CAAC;gBACD,EAAE,CAAC,CAAC,KAAK,CAAC,CAAC,CAAC;oBACR,IAAI,CAAC,UAAU,GAAG,KAAK,CAAC,KAAK,CAAC,cAAM,OAAA,KAAI,CAAC,SAAS,CAAC,UAAU,EAAE,EAA3B,CAA2B,CAAC,CAAC;gBACrE,CAAC;YACL,CAAC;;;WAjB6C;QAmB9C,sBAAI,0BAAM;iBAAV,cAAuB,MAAM,CAAC,IAAI,CAAC,KAAK,CAAC,MAAM,CAAC,CAAC,CAAC;iBAClD,UAAW,KAAa;gBAAxB,iBAgBC;gBAfG,EAAE,CAAC,CAAC,IAAI,CAAC,YAAY,CAAC,CAAC,CAAC;oBACpB,IAAI,CAAC,YAAY,CAAC,OAAO,EAAE,CAAC;oBAC5B,IAAI,CAAC,YAAY,GAAG,IAAI,CAAC;gBAC7B,CAAC;gBACD,EAAE,CAAC,CAAC,CAAC,CAAC,KAAK,CAAC,KAAK,CAAC,CAAC,IAAI,CAAC,KAAK,CAAC,MAAM,CAAC,CAAC,CAAC,CAAC;oBAEpC,IAAI,CAAC,SAAS,CAAC,KAAK,CAAC,UAAU,CAAC,OAAO,CAAC,CAAC,UAAU,EAAE,CAAC;gBAC1D,CAAC;gBACD,EAAE,CAAC,CAAC,KAAK,KAAK,IAAI,CAAC,KAAK,CAAC,MAAM,CAAC,CAAC,CAAC;oBAC9B,IAAI,CAAC,KAAK,CAAC,MAAM,GAAG,KAAK,CAAC;oBAC1B,IAAI,CAAC,SAAS,CAAC,UAAU,EAAE,CAAC;gBAChC,CAAC;gBACD,EAAE,CAAC,CAAC,KAAK,CAAC,CAAC,CAAC;oBACR,IAAI,CAAC,YAAY,GAAG,KAAK,CAAC,KAAK,CAAC,cAAM,OAAA,KAAI,CAAC,SAAS,CAAC,UAAU,EAAE,EAA3B,CAA2B,CAAC,CAAC;gBACvE,CAAC;YACL,CAAC;;;WAjBiD;QAmBlD,sBAAI,mCAAe;iBAAnB,cAAgC,MAAM,CAAC,IAAI,CAAC,KAAK,CAAC,eAAe,CAAC,CAAC,CAAC;iBACpE,UAAoB,KAAa;gBAC7B,EAAE,CAAC,CAAC,KAAK,KAAK,IAAI,CAAC,KAAK,CAAC,eAAe,CAAC,CAAC,CAAC;oBACvC,IAAI,CAAC,KAAK,CAAC,eAAe,GAAG,KAAK,CAAC;oBACnC,IAAI,CAAC,SAAS,CAAC,KAAK,CAAC,UAAU,CAAC,OAAO,CAAC,CAAC;gBAC7C,CAAC;YACL,CAAC;;;WANmE;QAOxE,aAAC;IAAD,CArEA,AAqEC,CArE2B,YAAO,GAqElC;IArEY,WAAM,SAqElB,CAAA;AACL,CAAC,EApFS,IAAI,KAAJ,IAAI,QAoFb;ACpFD,IAAU,IAAI,CAwBb;AAxBD,WAAU,IAAI;IAAC,IAAA,OAAO,CAwBrB;IAxBc,WAAA,OAAO,EAAC,CAAC;QAMT,cAAM,GAAa;YAC1B,KAAK,YAAC,GAAgB;gBAClB,IAAI,KAAK,GAAiB,GAAG,CAAC,KAAK,EAC/B,IAAI,GAAG,KAAK,CAAC,IAAI,CAAC;gBAEtB,EAAE,CAAC,IAAI,CAAC,IAAI,CAAC,CAAC,EAAE,CAAC,EAAE,IAAI,CAAC,KAAK,EAAE,IAAI,CAAC,MAAM,EAAE,GAAG,CAAC,QAAQ,CAAC,CAAC;gBAC1D,EAAE,CAAC,IAAI,CAAC,IAAI,CAAC,CAAC,EAAE,CAAC,EAAE,IAAI,CAAC,KAAK,EAAE,IAAI,CAAC,MAAM,EAAE,GAAG,CAAC,UAAU,CAAC,CAAC;gBAC5D,EAAE,CAAC,CAAC,KAAK,CAAC,MAAM,IAAI,KAAK,CAAC,eAAe,GAAG,CAAC,CAAC,CAAC,CAAC;oBAE5C,IAAI,EAAE,GAAG,KAAK,CAAC,eAAe,GAAG,CAAC,CAAC;oBACnC,EAAE,CAAC,IAAI,CAAC,MAAM,CAAC,GAAG,CAAC,QAAQ,EAAE,EAAE,CAAC,OAAO,CAAC,IAAI,CAAC,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,CAAC,CAAC,CAAC;gBAClE,CAAC;YACL,CAAC;YACD,IAAI,YAAC,GAAkB,EAAE,GAAgB;gBACrC,GAAG,CAAC,GAAG,CAAC,SAAS,EAAE,CAAC;gBACpB,GAAG,CAAC,GAAG,CAAC,SAAS,EAAE,CAAC;YACxB,CAAC;SACJ,CAAC;IACN,CAAC,EAxBc,OAAO,GAAP,YAAO,KAAP,YAAO,QAwBrB;AAAD,CAAC,EAxBS,IAAI,KAAJ,IAAI,QAwBb;ACrBD,IAAU,IAAI,CAyEb;AAzED,WAAU,IAAI,EAAC,CAAC;IACZ,IAAO,UAAU,GAAG,IAAI,CAAC,OAAO,CAAC,UAAU,CAAC;IAG5C,IAAI,GAAG,GAAG,IAAI,CAAC,EAAE,GAAG,CAAC,CAAC;IAEtB;QAA6B,2BAAM;QAAnC;YAA6B,8BAAM;QAiDnC,CAAC;QAhDG,sBAAI,GAAJ,UAAK,KAAoB,EAAE,SAA4B;YACnD,gBAAK,CAAC,IAAI,YAAC,KAAK,EAAE,SAAS,CAAC,CAAC;YAC7B,IAAI,CAAC,OAAO,GAAG,cAAc,CAAC;QAClC,CAAC;QAED,sBAAI,sBAAC;iBAAL;gBACI,MAAM,CAAC,IAAI,CAAC,KAAK,CAAC,MAAM,CAAC,CAAC,CAAC;YAC/B,CAAC;iBAED,UAAM,KAAa;gBACf,EAAE,CAAC,CAAC,IAAI,CAAC,KAAK,CAAC,MAAM,CAAC,CAAC,KAAK,KAAK,CAAC,CAAC,CAAC;oBAChC,IAAI,CAAC,KAAK,CAAC,MAAM,CAAC,CAAC,GAAG,KAAK,CAAC;oBAC5B,IAAI,CAAC,SAAS,CAAC,KAAK,CAAC,UAAU,CAAC,SAAS,CAAC,CAAC;gBAC/C,CAAC;YACL,CAAC;;;WAPA;QASD,sBAAI,sBAAC;iBAAL;gBACI,MAAM,CAAC,IAAI,CAAC,KAAK,CAAC,MAAM,CAAC,CAAC,CAAC;YAC/B,CAAC;iBAED,UAAM,KAAa;gBACf,EAAE,CAAC,CAAC,IAAI,CAAC,KAAK,CAAC,MAAM,CAAC,CAAC,KAAK,KAAK,CAAC,CAAC,CAAC;oBAChC,IAAI,CAAC,KAAK,CAAC,MAAM,CAAC,CAAC,GAAG,KAAK,CAAC;oBAC5B,IAAI,CAAC,SAAS,CAAC,KAAK,CAAC,UAAU,CAAC,SAAS,CAAC,CAAC;gBAC/C,CAAC;YACL,CAAC;;;WAPA;QASD,sBAAI,0BAAK;iBAAT;gBACI,MAAM,CAAC,IAAI,CAAC,KAAK,CAAC,IAAI,CAAC,KAAK,CAAC;YACjC,CAAC;iBAED,UAAU,KAAa;gBACnB,EAAE,CAAC,CAAC,IAAI,CAAC,KAAK,CAAC,IAAI,CAAC,KAAK,KAAK,KAAK,CAAC,CAAC,CAAC;oBAClC,IAAI,CAAC,KAAK,CAAC,IAAI,CAAC,KAAK,GAAG,KAAK,CAAC;oBAC9B,IAAI,CAAC,SAAS,CAAC,KAAK,CAAC,UAAU,CAAC,SAAS,GAAG,UAAU,CAAC,OAAO,CAAC,CAAC;gBACpE,CAAC;YACL,CAAC;;;WAPA;QASD,sBAAI,2BAAM;iBAAV;gBACI,MAAM,CAAC,IAAI,CAAC,KAAK,CAAC,IAAI,CAAC,MAAM,CAAC;YAClC,CAAC;iBAED,UAAW,KAAa;gBACpB,EAAE,CAAC,CAAC,IAAI,CAAC,KAAK,CAAC,IAAI,CAAC,MAAM,KAAK,KAAK,CAAC,CAAC,CAAC;oBACnC,IAAI,CAAC,KAAK,CAAC,IAAI,CAAC,MAAM,GAAG,KAAK,CAAC;oBAC/B,IAAI,CAAC,SAAS,CAAC,KAAK,CAAC,UAAU,CAAC,SAAS,GAAG,UAAU,CAAC,OAAO,CAAC,CAAC;gBACpE,CAAC;YACL,CAAC;;;WAPA;QAQL,cAAC;IAAD,CAjDA,AAiDC,CAjD4B,WAAM,GAiDlC;IAjDY,YAAO,UAiDnB,CAAA;IAED,IAAI,cAAc,GAAqB;QACnC,KAAK,EAAE,YAAO,CAAC,MAAM,CAAC,KAAK;QAC3B,IAAI,YAAC,GAAyB,EAAE,GAAwB;YACpD,IAAI,EAAE,GAAG,GAAG,CAAC,QAAQ,CAAC;YACtB,EAAE,CAAC,CAAC,EAAE,CAAC,KAAK,IAAI,CAAC,IAAI,EAAE,CAAC,MAAM,IAAI,CAAC,CAAC,CAAC,CAAC;gBAElC,MAAM,CAAC;YACX,CAAC;YACD,IAAI,EAAE,GAAG,EAAE,CAAC,KAAK,GAAG,CAAC,EACjB,EAAE,GAAG,EAAE,CAAC,MAAM,GAAG,CAAC,CAAC;YACvB,IAAI,GAAG,GAAG,GAAG,CAAC,GAAG,CAAC;YAClB,GAAG,CAAC,SAAS,EAAE,CAAC;YAChB,GAAG,CAAC,OAAO,CAAC,EAAE,CAAC,CAAC,GAAG,EAAE,EAAE,EAAE,CAAC,CAAC,GAAG,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,CAAC,EAAE,CAAC,EAAE,GAAG,EAAE,KAAK,CAAC,CAAC;YAC5D,GAAG,CAAC,SAAS,EAAE,CAAC;QACpB,CAAC;KACJ,CAAC;AACN,CAAC,EAzES,IAAI,KAAJ,IAAI,QAyEb;AC5ED,IAAU,IAAI,CAkBb;AAlBD,WAAU,IAAI,EAAC,CAAC;IACZ,WAAY,QAAQ;QAChB,6CAAW,CAAA;QACX,6CAAW,CAAA;IACf,CAAC,EAHW,aAAQ,KAAR,aAAQ,QAGnB;IAHD,IAAY,QAAQ,GAAR,aAGX,CAAA;IAED,WAAY,WAAW;QACnB,+CAAS,CAAA;QACT,+CAAS,CAAA;QACT,+CAAS,CAAA;IACb,CAAC,EAJW,gBAAW,KAAX,gBAAW,QAItB;IAJD,IAAY,WAAW,GAAX,gBAIX,CAAA;IAED,WAAY,UAAU;QAClB,2CAAQ,CAAA;QACR,+CAAU,CAAA;QACV,6CAAS,CAAA;QACT,mDAAY,CAAA;IAChB,CAAC,EALW,eAAU,KAAV,eAAU,QAKrB;IALD,IAAY,UAAU,GAAV,eAKX,CAAA;AACL,CAAC,EAlBS,IAAI,KAAJ,IAAI,QAkBb;AClBD,IAAU,IAAI,CAmDb;AAnDD,WAAU,IAAI,EAAC,CAAC;IACD,cAAS,GAAG;QACnB,MAAM,EAAE,QAAQ;QAChB,MAAM,EAAE,QAAQ;QAChB,OAAO,EAAE,SAAS;KACrB,CAAC;IAES,gBAAW,GAAG;QACrB,cAAc,EAAE,iBAAiB;QACjC,cAAc,EAAE,iBAAiB;QACjC,SAAS,EAAE,WAAW;QACtB,aAAa,EAAE,gBAAgB;QAC/B,MAAM,EAAE,QAAQ;QAChB,YAAY,EAAE,eAAe;QAC7B,QAAQ,EAAE,UAAU;QACpB,aAAa,EAAE,gBAAgB;QAC/B,aAAa,EAAE,gBAAgB;KAClC,CAAC;IAEF,WAAY,UAAU;QAClB,6CAAU,CAAA;QACV,yDAAgB,CAAA;QAChB,+CAAW,CAAA;QACX,iDAAY,CAAA;QACZ,iDAAY,CAAA;QACZ,qDAAc,CAAA;QACd,6CAAU,CAAA;QACV,uDAAe,CAAA;QACf,+CAAW,CAAA;QACX,yDAAgB,CAAA;IACpB,CAAC,EAXW,eAAU,KAAV,eAAU,QAWrB;IAXD,IAAY,UAAU,GAAV,eAWX,CAAA;IAWU,gBAAW,GAAU;QAC5B,MAAM,EAAE,gDAAgD;QACxD,IAAI,EAAE,EAAE;QACR,OAAO,EAAE,gBAAW,CAAC,MAAM;QAC3B,KAAK,EAAE,cAAS,CAAC,MAAM;QACvB,MAAM,EAAE,UAAU,CAAC,MAAM;QACzB,QAAQ;YACJ,MAAM,CAAC,SAAI,CAAC,QAAQ,CAAC,gBAAW,CAAC,CAAC;QACtC,CAAC;KACJ,CAAC;AACN,CAAC,EAnDS,IAAI,KAAJ,IAAI,QAmDb;ACnDD,IAAU,IAAI,CA2Cb;AA3CD,WAAU,IAAI,EAAC,CAAC;IACZ;QAAA;YACY,oBAAe,GAAa,IAAI,CAAC;YACjC,kBAAa,GAAa,IAAI,CAAC;YAC/B,mBAAc,GAAa,IAAI,CAAC;YAChC,iBAAY,GAAa,IAAI,CAAC;QAqC1C,CAAC;QAnCG,mCAAc,GAAd,UAAe,EAAY;YACvB,IAAI,CAAC,eAAe,GAAG,EAAE,CAAC;YAC1B,MAAM,CAAC,IAAI,CAAC;QAChB,CAAC;QAED,iCAAY,GAAZ,UAAa,EAAY;YACrB,IAAI,CAAC,aAAa,GAAG,EAAE,CAAC;YACxB,MAAM,CAAC,IAAI,CAAC;QAChB,CAAC;QAED,kCAAa,GAAb,UAAc,EAAY;YACtB,IAAI,CAAC,cAAc,GAAG,EAAE,CAAC;YACzB,MAAM,CAAC,IAAI,CAAC;QAChB,CAAC;QAED,gCAAW,GAAX,UAAY,EAAY;YACpB,IAAI,CAAC,YAAY,GAAG,EAAE,CAAC;YACvB,MAAM,CAAC,IAAI,CAAC;QAChB,CAAC;QAED,iCAAY,GAAZ;YACI,IAAI,CAAC,eAAe,IAAI,IAAI,CAAC,eAAe,EAAE,CAAC;QACnD,CAAC;QAED,+BAAU,GAAV;YACI,IAAI,CAAC,aAAa,IAAI,IAAI,CAAC,aAAa,EAAE,CAAC;QAC/C,CAAC;QAED,gCAAW,GAAX;YACI,IAAI,CAAC,cAAc,IAAI,IAAI,CAAC,cAAc,EAAE,CAAC;QACjD,CAAC;QAED,8BAAS,GAAT;YACI,IAAI,CAAC,YAAY,IAAI,IAAI,CAAC,YAAY,EAAE,CAAC;QAC7C,CAAC;QACL,iBAAC;IAAD,CAzCA,AAyCC,IAAA;IAzCY,eAAU,aAyCtB,CAAA;AACL,CAAC,EA3CS,IAAI,KAAJ,IAAI,QA2Cb;AC3CD,IAAU,IAAI,CAoFb;AApFD,WAAU,IAAI,EAAC,CAAC;IACZ;QASI;YATJ,iBAkFC;YAjFW,iBAAY,GAA4C,IAAI,CAAC;YAC7D,kBAAa,GAAG,EAAE,CAAC,IAAI,CAAC,IAAI,CAAC,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,CAAC,CAAC;YACvC,aAAQ,GAAG,IAAI,IAAI,CAAC,QAAQ,CAAC,YAAY,EAAE,CAAC;YAE9C,WAAM,GAAG,IAAI,kBAAa,EAAE,CAAC;YAC7B,kBAAa,GAAyB,yBAAoB,CAAC,GAAG,CAAC;YAC/D,iBAAY,GAAqB,qBAAgB,CAAC,gBAAgB,CAAC;YAGvE,IAAI,CAAC,MAAM,CAAC,KAAK,CAAC,cAAM,OAAA,KAAI,CAAC,QAAQ,CAAC,EAAE,EAAE,EAAlB,CAAkB,CAAC,CAAC;QAChD,CAAC;QAED,sBAAI,uCAAY;iBAAhB;gBACI,MAAM,CAAC,IAAI,CAAC,aAAa,CAAC;YAC9B,CAAC;iBAED,UAAiB,KAA2B;gBACxC,EAAE,CAAC,CAAC,IAAI,CAAC,aAAa,KAAK,KAAK,CAAC,CAAC,CAAC;oBAC/B,IAAI,CAAC,aAAa,GAAG,KAAK,CAAC;oBAC3B,IAAI,CAAC,QAAQ,CAAC,EAAE,EAAE,CAAC;gBACvB,CAAC;YACL,CAAC;;;WAPA;QASD,sBAAI,sCAAW;iBAAf;gBACI,MAAM,CAAC,IAAI,CAAC,YAAY,CAAC;YAC7B,CAAC;iBAED,UAAgB,KAAuB;gBACnC,EAAE,CAAC,CAAC,IAAI,CAAC,YAAY,KAAK,KAAK,CAAC,CAAC,CAAC;oBAC9B,IAAI,CAAC,YAAY,GAAG,KAAK,CAAC;oBAC1B,IAAI,CAAC,QAAQ,CAAC,EAAE,EAAE,CAAC;gBACvB,CAAC;YACL,CAAC;;;WAPA;QASD,sBAAI,gCAAK;iBAAT;gBACI,MAAM,CAAC,IAAI,CAAC,MAAM,CAAC;YACvB,CAAC;;;WAAA;QAED,6BAAK,GAAL,UAAM,SAAmB;YACrB,MAAM,CAAC,IAAI,CAAC,QAAQ,CAAC,KAAK,CAAC,SAAS,CAAC,CAAC;QAC1C,CAAC;QAED,6BAAK,GAAL,UAAM,GAA6B,EAAE,MAAgB;YACjD,EAAE,CAAC,CAAC,IAAI,CAAC,YAAY,IAAI,EAAE,CAAC,IAAI,CAAC,KAAK,CAAC,IAAI,CAAC,aAAa,EAAE,MAAM,CAAC,CAAC;gBAC/D,MAAM,CAAC;YACX,EAAE,CAAC,IAAI,CAAC,MAAM,CAAC,MAAM,EAAE,IAAI,CAAC,aAAa,CAAC,CAAC;YAC3C,IAAI,CAAC,YAAY,GAAG,IAAI,CAAC,WAAW,CAAC,GAAG,EAAE,MAAM,CAAC,CAAC;QACtD,CAAC;QAED,qCAAa,GAAb;YACI,MAAM,CAAC,IAAI,CAAC,YAAY,CAAC;QAC7B,CAAC;QAES,mCAAW,GAArB,UAAsB,GAA6B,EAAE,MAAgB;YACjE,MAAM,CAAC,CAAC,IAAI,CAAC,YAAY,CAAC,CAAC,CAAC;gBACxB,KAAK,yBAAoB,CAAC,GAAG;oBACzB,MAAM,CAAC,IAAI,CAAC,SAAS,CAAC,GAAG,EAAE,MAAM,CAAC,CAAC;gBACvC,QAAQ;gBACR,KAAK,yBAAoB,CAAC,OAAO;oBAC7B,MAAM,CAAC,IAAI,CAAC,aAAa,CAAC,GAAG,EAAE,MAAM,CAAC,CAAC;gBAC3C,KAAK,yBAAoB,CAAC,MAAM;oBAC5B,MAAM,CAAC,IAAI,CAAC,YAAY,CAAC,GAAG,EAAE,MAAM,CAAC,CAAC;YAC9C,CAAC;QACL,CAAC;QAQS,gCAAQ,GAAlB,UAAmB,MAAgB,EAAE,KAAgB;YACjD,IAAI,MAAM,GAAG,EAAC,CAAC,EAAE,KAAK,CAAC,CAAC,EAAE,CAAC,EAAE,KAAK,CAAC,CAAC,EAAC,CAAC;YACtC,EAAE,CAAC,CAAC,IAAI,CAAC,WAAW,KAAK,qBAAgB,CAAC,gBAAgB,CAAC,CAAC,CAAC;gBACzD,MAAM,CAAC,CAAC,IAAI,MAAM,CAAC,KAAK,CAAC;gBACzB,MAAM,CAAC,CAAC,IAAI,MAAM,CAAC,MAAM,CAAC;YAC9B,CAAC;YACD,MAAM,CAAC,CAAC,IAAI,MAAM,CAAC,CAAC,CAAC;YACrB,MAAM,CAAC,CAAC,IAAI,MAAM,CAAC,CAAC,CAAC;YACrB,MAAM,CAAC,MAAM,CAAC;QAClB,CAAC;QACL,oBAAC;IAAD,CAlFA,AAkFC,IAAA;IAlFqB,kBAAa,gBAkFlC,CAAA;AACL,CAAC,EApFS,IAAI,KAAJ,IAAI,QAoFb;ACpFD,IAAU,IAAI,CAMb;AAND,WAAU,IAAI,EAAC,CAAC;IACZ,WAAY,oBAAoB;QAC5B,6DAAO,CAAA;QACP,qEAAW,CAAA;QACX,mEAAU,CAAA;IACd,CAAC,EAJW,yBAAoB,KAApB,yBAAoB,QAI/B;IAJD,IAAY,oBAAoB,GAApB,yBAIX,CAAA;AACL,CAAC,EANS,IAAI,KAAJ,IAAI,QAMb;ACND,IAAU,IAAI,CAWb;AAXD,WAAU,IAAI,EAAC,CAAC;IAMZ;QACI,sBAAmB,KAAY,EAAS,MAAc;YAAnC,UAAK,GAAL,KAAK,CAAO;YAAS,WAAM,GAAN,MAAM,CAAQ;YAClD,MAAM,CAAC,MAAM,CAAC,IAAI,CAAC,CAAC;QACxB,CAAC;QACL,mBAAC;IAAD,CAJA,AAIC,IAAA;IAJY,iBAAY,eAIxB,CAAA;AACL,CAAC,EAXS,IAAI,KAAJ,IAAI,QAWb;ACXD,IAAU,IAAI,CAkGb;AAlGD,WAAU,IAAI,EAAC,CAAC;IACZ;QAAA;YACc,aAAQ,GAAQ,EAAE,CAAC;YACnB,aAAQ,GAAG,IAAI,IAAI,CAAC,QAAQ,CAAC,YAAY,EAAE,CAAC;QA8F1D,CAAC;QA5FG,sBAAI,6BAAM;iBAAV;gBACI,MAAM,CAAC,IAAI,CAAC,QAAQ,CAAC,MAAM,CAAC;YAChC,CAAC;;;WAAA;QAED,yBAAK,GAAL;YACI,IAAI,CAAC,QAAQ,CAAC,MAAM,GAAG,CAAC,CAAC;YACzB,IAAI,CAAC,QAAQ,CAAC,EAAE,EAAE,CAAC;YACnB,MAAM,CAAC,IAAI,CAAC;QAChB,CAAC;QAED,uBAAG,GAAH,UAAI,IAAO;YACP,IAAI,CAAC,QAAQ,CAAC,IAAI,CAAC,IAAI,CAAC,CAAC;YACzB,MAAM,CAAC,MAAM,CAAC,IAAI,CAAC,CAAC;YACpB,IAAI,CAAC,QAAQ,CAAC,EAAE,EAAE,CAAC;YACnB,MAAM,CAAC,IAAI,CAAC;QAChB,CAAC;QAED,2BAAO,GAAP,UAAQ,KAAU;YACd,IAAI,OAAO,GAAG,IAAI,CAAC,QAAQ,CAAC;YAC5B,GAAG,CAAC,CAAC,IAAI,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,KAAK,CAAC,MAAM,EAAE,CAAC,EAAE,EAAE,CAAC;gBACpC,MAAM,CAAC,MAAM,CAAC,KAAK,CAAC,CAAC,CAAC,CAAC,CAAC;YAC5B,CAAC;YACD,OAAO,CAAC,IAAI,CAAC,KAAK,CAAC,OAAO,EAAE,KAAK,CAAC,CAAC;YACnC,IAAI,CAAC,QAAQ,CAAC,EAAE,EAAE,CAAC;YACnB,MAAM,CAAC,IAAI,CAAC;QAChB,CAAC;QAED,0BAAM,GAAN,UAAO,KAAa,EAAE,IAAO;YACzB,IAAI,CAAC,QAAQ,CAAC,MAAM,CAAC,KAAK,EAAE,CAAC,EAAE,IAAI,CAAC,CAAC;YACrC,MAAM,CAAC,MAAM,CAAC,IAAI,CAAC,CAAC;YACpB,IAAI,CAAC,QAAQ,CAAC,EAAE,EAAE,CAAC;YACnB,MAAM,CAAC,IAAI,CAAC;QAChB,CAAC;QAED,8BAAU,GAAV,UAAW,KAAa,EAAE,KAAU;YAChC,GAAG,CAAC,CAAC,IAAI,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,KAAK,CAAC,MAAM,EAAE,CAAC,EAAE,EAAE,CAAC;gBACpC,MAAM,CAAC,MAAM,CAAC,KAAK,CAAC,CAAC,CAAC,CAAC,CAAC;YAC5B,CAAC;YACD,IAAI,OAAO,GAAG,IAAI,CAAC,QAAQ,CAAC;YAC5B,GAAG,CAAC,CAAC,IAAI,CAAC,GAAG,KAAK,CAAC,MAAM,GAAG,CAAC,EAAE,CAAC,IAAI,CAAC,EAAE,CAAC,EAAE,EAAE,CAAC;gBACzC,OAAO,CAAC,MAAM,CAAC,KAAK,EAAE,CAAC,EAAE,KAAK,CAAC,CAAC,CAAC,CAAC,CAAC;YACvC,CAAC;YACD,IAAI,CAAC,QAAQ,CAAC,EAAE,EAAE,CAAC;YACnB,MAAM,CAAC,IAAI,CAAC;QAChB,CAAC;QAED,wBAAI,GAAJ,UAAK,OAAU,EAAE,OAAU;YACvB,MAAM,CAAC,IAAI,CAAC,MAAM,CAAC,IAAI,CAAC,QAAQ,CAAC,OAAO,CAAC,OAAO,CAAC,EAAE,OAAO,CAAC,CAAC;QAChE,CAAC;QAED,0BAAM,GAAN,UAAO,KAAa,EAAE,OAAU;YAC5B,IAAI,OAAO,GAAG,IAAI,CAAC,QAAQ,CAAC;YAC5B,EAAE,CAAC,CAAC,KAAK,GAAG,CAAC,IAAI,KAAK,IAAI,OAAO,CAAC,MAAM,CAAC;gBACrC,MAAM,CAAC,IAAI,CAAC;YAChB,OAAO,CAAC,KAAK,CAAC,GAAG,OAAO,CAAC;YACzB,MAAM,CAAC,MAAM,CAAC,OAAO,CAAC,CAAC;YACvB,IAAI,CAAC,QAAQ,CAAC,EAAE,EAAE,CAAC;YACnB,MAAM,CAAC,IAAI,CAAC;QAChB,CAAC;QAED,0BAAM,GAAN,UAAO,IAAO;YACV,MAAM,CAAC,IAAI,CAAC,QAAQ,CAAC,IAAI,CAAC,QAAQ,CAAC,OAAO,CAAC,IAAI,CAAC,CAAC,CAAC;QACtD,CAAC;QAED,4BAAQ,GAAR,UAAS,KAAa;YAClB,IAAI,OAAO,GAAG,IAAI,CAAC,QAAQ,CAAC;YAC5B,EAAE,CAAC,CAAC,KAAK,GAAG,CAAC,IAAI,KAAK,IAAI,OAAO,CAAC,MAAM,CAAC;gBACrC,MAAM,CAAC,IAAI,CAAC;YAChB,OAAO,CAAC,MAAM,CAAC,KAAK,EAAE,CAAC,CAAC,CAAC;YACzB,IAAI,CAAC,QAAQ,CAAC,EAAE,EAAE,CAAC;YACnB,MAAM,CAAC,IAAI,CAAC;QAChB,CAAC;QAED,yBAAK,GAAL,UAAM,SAAqB;YACvB,MAAM,CAAC,IAAI,CAAC,QAAQ,CAAC,KAAK,CAAC,SAAS,CAAC,CAAC;QAC1C,CAAC;QAED,wBAAI,GAAJ;YACI,MAAM,CAAC,SAAS,CAAC,SAAS,CAAI,IAAI,CAAC,QAAQ,CAAC,CAAC;QACjD,CAAC;QAEM,mBAAS,GAAhB,UAAoB,GAAQ;YACxB,IAAI,CAAC,GAAG,CAAC,CAAC,CAAC;YACX,MAAM,CAAC;gBACH,IAAI;oBACA,CAAC,EAAE,CAAC;oBACJ,EAAE,CAAC,CAAC,CAAC,IAAI,GAAG,CAAC,MAAM,CAAC;wBAChB,MAAM,CAAC,EAAC,IAAI,EAAE,IAAI,EAAC,CAAC;oBACxB,MAAM,CAAC,EAAC,IAAI,EAAE,KAAK,EAAE,KAAK,EAAE,GAAG,CAAC,CAAC,CAAC,EAAC,CAAC;gBACxC,CAAC;aACJ,CAAA;QACL,CAAC;QACL,gBAAC;IAAD,CAhGA,AAgGC,IAAA;IAhGY,cAAS,YAgGrB,CAAA;AACL,CAAC,EAlGS,IAAI,KAAJ,IAAI,QAkGb;AChGD,IAAU,IAAI,CA4Bb;AA5BD,WAAU,IAAI,EAAC,CAAC;IAKZ;QAAmC,iCAAwB;QAA3D;YAAmC,8BAAwB;QAsB3D,CAAC;QArBG,kCAAU,GAAV;YACI,IAAI,GAAG,GAAkB,IAAI,CAAC;YAC9B,IAAI,GAAG,GAAkB,IAAI,CAAC;YAE9B,IAAI,GAAG,GAAoB,IAAI,CAAC,QAAQ,CAAC,KAAK,CAAC,CAAC,CAAC,CAAC;YAClD,GAAG,CAAC,CAAC,IAAI,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,GAAG,CAAC,MAAM,EAAE,CAAC,EAAE,EAAE,CAAC;gBAClC,IAAI,GAAG,GAAG,GAAG,CAAC,CAAC,CAAC,CAAC;gBACjB,GAAG,CAAC,IAAI,CAAC,GAAG,CAAC,CAAC;gBACd,EAAE,CAAC,CAAC,CAAC,GAAG,IAAI,GAAG,CAAC,MAAM,GAAG,GAAG,CAAC,MAAM,CAAC;oBAChC,GAAG,GAAG,GAAG,CAAC;gBACd,EAAE,CAAC,CAAC,CAAC,GAAG,IAAI,GAAG,CAAC,MAAM,GAAG,GAAG,CAAC,MAAM,CAAC;oBAChC,GAAG,GAAG,GAAG,CAAC;YAClB,CAAC;YAED,EAAE,CAAC,CAAC,CAAC,CAAC,GAAG,CAAC;gBACN,GAAG,CAAC,OAAO,CAAC,EAAC,MAAM,EAAE,CAAC,EAAE,KAAK,EAAE,GAAG,CAAC,KAAK,EAAC,CAAC,CAAC;YAC/C,EAAE,CAAC,CAAC,CAAC,CAAC,GAAG,CAAC;gBACN,GAAG,CAAC,IAAI,CAAC,EAAC,MAAM,EAAE,CAAC,EAAE,KAAK,EAAE,GAAG,CAAC,KAAK,EAAC,CAAC,CAAC;YAE5C,MAAM,CAAC,cAAS,CAAC,SAAS,CAAgB,GAAG,CAAC,CAAC;QACnD,CAAC;QACL,oBAAC;IAAD,CAtBA,AAsBC,CAtBkC,cAAS,GAsB3C;IAtBY,kBAAa,gBAsBzB,CAAA;AACL,CAAC,EA5BS,IAAI,KAAJ,IAAI,QA4Bb;AC9BD,IAAU,IAAI,CAqIb;AArID,WAAU,IAAI,EAAC,CAAC;IAIZ,IAAO,UAAU,GAAG,IAAI,CAAC,OAAO,CAAC,UAAU,CAAC;IAQ5C;QAA2B,yBAAO;QAM9B,eAAY,KAAmB,EAAE,SAA2B;YACxD,kBAAM,KAAK,EAAE,SAAS,CAAC,CAAC;QAC5B,CAAC;QAED,oBAAI,GAAJ,UAAK,KAAmB,EAAE,SAA2B;YAArD,iBAcC;YAbG,IAAI,CAAC,KAAK,GAAG,CAAC,KAAK,IAAI,IAAI,UAAK,CAAC,UAAU,EAAE,CAAC,CAAC,KAAK,EAAE,CAAC;YACvD,IAAI,CAAC,SAAS,GAAG,CAAC,SAAS,IAAI,IAAI,UAAK,CAAC,cAAc,EAAE,CAAC,CAAC,KAAK,EAAE,CAAC;YACnE,IAAI,CAAC,SAAS,GAAG;gBACb,IAAI,EAAE,UAAK,CAAC,IAAI,CAAC,SAAS,CAAC,QAAQ;gBACnC,EAAE,EAAE,UAAK,CAAC,EAAE,CAAC,SAAS,CAAC,QAAQ;gBAC/B,MAAM,EAAE,YAAO,CAAC,MAAM,CAAC,SAAS,CAAC,QAAQ;gBACzC,GAAG,EAAE,UAAK,CAAC,GAAG,CAAC,SAAS,CAAC,QAAQ;aACpC,CAAC;YACF,IAAI,CAAC,OAAO,GAAG,YAAY,CAAC;YAC5B,IAAI,CAAC,KAAK,CAAC,MAAM,CAAC,KAAK,CACnB,cAAM,OAAA,KAAI,CAAC,eAAe,EAAE,EAAtB,CAAsB,EAC5B,UAAC,CAAC,IAAK,OAAA,KAAI,CAAC,eAAe,CAAC,CAAC,CAAC,EAAvB,CAAuB,EAC9B,cAAM,OAAA,KAAI,CAAC,cAAc,EAAE,EAArB,CAAqB,CAAC,CAAC;QACrC,CAAC;QAED,sBAAI,4BAAS;iBAAb;gBACI,MAAM,CAAC,IAAI,CAAC,KAAK,CAAC,MAAM,CAAC,GAAG,CAAC;YACjC,CAAC;iBAGD,UAAc,KAAa;gBACvB,IAAI,CAAC,KAAK,CAAC,MAAM,CAAC,GAAG,GAAG,KAAK,CAAC;YAClC,CAAC;;;WALA;QAOD,sBAAI,0BAAO;iBAAX;gBACI,MAAM,CAAC,IAAI,CAAC,KAAK,CAAC,OAAO,CAAC;YAC9B,CAAC;iBAED,UAAY,KAAc;gBACtB,EAAE,CAAC,CAAC,IAAI,CAAC,KAAK,CAAC,OAAO,KAAK,KAAK,CAAC,CAAC,CAAC;oBAC/B,IAAI,CAAC,KAAK,CAAC,OAAO,GAAG,KAAK,CAAC;oBAC3B,IAAI,CAAC,SAAS,CAAC,KAAK,CAAC,UAAU,CAAC,OAAO,CAAC,CAAC;gBAC7C,CAAC;YACL,CAAC;;;WAPA;QASD,sBAAI,oBAAC;iBAAL;gBACI,MAAM,CAAC,IAAI,CAAC,KAAK,CAAC,MAAM,CAAC,CAAC,CAAC;YAC/B,CAAC;iBAED,UAAM,KAAa;gBACf,EAAE,CAAC,CAAC,IAAI,CAAC,KAAK,CAAC,MAAM,CAAC,CAAC,KAAK,KAAK,CAAC,CAAC,CAAC;oBAChC,IAAI,CAAC,KAAK,CAAC,MAAM,CAAC,CAAC,GAAG,KAAK,CAAC;oBAC5B,IAAI,CAAC,SAAS,CAAC,KAAK,CAAC,UAAU,CAAC,SAAS,CAAC,CAAC;gBAC/C,CAAC;YACL,CAAC;;;WAPA;QASD,sBAAI,oBAAC;iBAAL;gBACI,MAAM,CAAC,IAAI,CAAC,KAAK,CAAC,MAAM,CAAC,CAAC,CAAC;YAC/B,CAAC;iBAED,UAAM,KAAa;gBACf,EAAE,CAAC,CAAC,IAAI,CAAC,KAAK,CAAC,MAAM,CAAC,CAAC,KAAK,KAAK,CAAC,CAAC,CAAC;oBAChC,IAAI,CAAC,KAAK,CAAC,MAAM,CAAC,CAAC,GAAG,KAAK,CAAC;oBAC5B,IAAI,CAAC,SAAS,CAAC,KAAK,CAAC,UAAU,CAAC,SAAS,CAAC,CAAC;gBAC/C,CAAC;YACL,CAAC;;;WAPA;QASD,sBAAI,wBAAK;iBAAT;gBACI,MAAM,CAAC,IAAI,CAAC,KAAK,CAAC,IAAI,CAAC,KAAK,CAAC;YACjC,CAAC;iBAED,UAAU,KAAa;gBACnB,EAAE,CAAC,CAAC,IAAI,CAAC,KAAK,CAAC,IAAI,CAAC,KAAK,KAAK,KAAK,CAAC,CAAC,CAAC;oBAClC,IAAI,CAAC,KAAK,CAAC,IAAI,CAAC,KAAK,GAAG,KAAK,CAAC;oBAC9B,IAAI,CAAC,SAAS,CAAC,KAAK,CAAC,UAAU,CAAC,OAAO,GAAG,UAAU,CAAC,SAAS,CAAC,CAAC;gBACpE,CAAC;YACL,CAAC;;;WAPA;QASD,sBAAI,yBAAM;iBAAV;gBACI,MAAM,CAAC,IAAI,CAAC,KAAK,CAAC,IAAI,CAAC,MAAM,CAAC;YAClC,CAAC;iBAED,UAAW,KAAa;gBACpB,EAAE,CAAC,CAAC,IAAI,CAAC,KAAK,CAAC,IAAI,CAAC,MAAM,KAAK,KAAK,CAAC,CAAC,CAAC;oBACnC,IAAI,CAAC,KAAK,CAAC,IAAI,CAAC,MAAM,GAAG,KAAK,CAAC;oBAC/B,IAAI,CAAC,SAAS,CAAC,KAAK,CAAC,UAAU,CAAC,OAAO,GAAG,UAAU,CAAC,SAAS,CAAC,CAAC;gBACpE,CAAC;YACL,CAAC;;;WAPA;QASS,+BAAe,GAAzB;YACI,IAAI,CAAC,cAAc,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC;QAC9B,CAAC;QAES,+BAAe,GAAzB,UAA0B,GAAQ;YAC9B,OAAO,CAAC,KAAK,CAAC,qBAAqB,EAAE,GAAG,CAAC,CAAC;QAC9C,CAAC;QAES,8BAAc,GAAxB;YACI,IAAI,MAAM,GAAG,IAAI,CAAC,KAAK,CAAC,MAAM,CAAC;YAC/B,IAAI,CAAC,cAAc,CAAC,MAAM,CAAC,YAAY,EAAE,MAAM,CAAC,aAAa,CAAC,CAAC;QACnE,CAAC;QAES,8BAAc,GAAxB,UAAyB,KAAa,EAAE,MAAc;YAClD,IAAI,WAAW,GAAG,IAAI,CAAC,KAAK,CAAC,OAAO,CAAC;YACrC,WAAW,CAAC,KAAK,GAAG,KAAK,CAAC;YAC1B,WAAW,CAAC,MAAM,GAAG,MAAM,CAAC;YAC5B,IAAI,CAAC,SAAS,CAAC,KAAK,CAAC,UAAU,CAAC,OAAO,GAAG,UAAU,CAAC,OAAO,CAAC,CAAC,UAAU,EAAE,CAAC;QAC/E,CAAC;QACL,YAAC;IAAD,CA7GA,AA6GC,CA7G0B,YAAO,GA6GjC;IA7GY,UAAK,QA6GjB,CAAA;IAED,IAAI,YAAY,GAAqB;QACjC,KAAK,YAAC,GAAwB;QAC9B,CAAC;QACD,IAAI,YAAC,GAAyB,EAAE,GAAwB;YACpD,IAAI,KAAK,GAAgB,GAAG,CAAC,KAAK,EAC9B,IAAI,GAAoB,GAAG,CAAC,SAAS,CAAC;YAC1C,GAAG,CAAC,QAAQ,CAAC,IAAI,CAAC,gBAAgB,CAAC,CAAC;YACpC,KAAK,CAAC,MAAM,CAAC,IAAI,CAAC,GAAG,CAAC,GAAG,CAAC,CAAC;QAC/B,CAAC;KACJ,CAAC;AACN,CAAC,EArIS,IAAI,KAAJ,IAAI,QAqIb;ACnID,IAAU,IAAI,CAkEb;AAlED,WAAU,IAAI,EAAC,CAAC;IAKZ;QAA2B,yBAAS;QAApC;YAA2B,8BAAS;QA4DpC,CAAC;QAvDG,sBAAI,wBAAK;iBAAT;gBACI,MAAM,CAAC,IAAI,CAAC,IAAI,CAAC,GAAG,CAAC,MAAM,CAAC,KAAK,CAAC;YACtC,CAAC;;;WAAA;QAED,sBAAI,yBAAM;iBAAV;gBACI,MAAM,CAAC,IAAI,CAAC,IAAI,CAAC,GAAG,CAAC,MAAM,CAAC,MAAM,CAAC;YACvC,CAAC;;;WAAA;QAED,oBAAI,GAAJ,UAAK,KAAuB,EAAE,SAA+B;YAA7D,iBAKC;YAJG,gBAAK,CAAC,IAAI,YAAC,KAAK,EAAE,SAAS,CAAC,CAAC;YAC7B,IAAI,CAAC,UAAU,GAAG,IAAI,eAAU,EAAE,CAAC;YACnC,IAAI,CAAC,IAAI,GAAG,IAAI,WAAM,CAAC,aAAa,EAAE,CAAC;YACvC,IAAI,CAAC,MAAM,GAAG,IAAI,UAAK,CAAC,UAAC,GAAG,IAAK,OAAA,KAAI,CAAC,MAAM,CAAC,GAAG,CAAC,EAAhB,CAAgB,CAAC,CAAC;QACvD,CAAC;QAED,sBAAM,GAAN,UAAO,GAA6B;YAChC,IAAI,CAAC,IAAI,CAAC,IAAI,CAAC,GAAG,CAAC,CAAC;YACpB,MAAM,CAAC,IAAI,CAAC;QAChB,CAAC;QAED,wBAAQ,GAAR;YACI,IAAI,CAAC,MAAM,CAAC,MAAM,EAAE,CAAC;YACrB,MAAM,CAAC,IAAI,CAAC;QAChB,CAAC;QAED,0BAAU,GAAV;YACI,IAAI,CAAC,MAAM,CAAC,OAAO,EAAE,CAAC;YACtB,MAAM,CAAC,IAAI,CAAC;QAChB,CAAC;QAED,uBAAO,GAAP;YACI,IAAI,CAAC,UAAU,CAAC,YAAY,EAAE,CAAC;YAC/B,WAAM,CAAC,OAAO,CAAC,IAAI,CAAC,CAAC;YACrB,IAAI,CAAC,UAAU,CAAC,UAAU,EAAE,CAAC;YAC7B,MAAM,CAAC,IAAI,CAAC;QAChB,CAAC;QAED,sBAAM,GAAN;YACI,IAAI,GAAG,GAAG,IAAI,CAAC,IAAI,EACf,KAAK,GAAG,IAAI,CAAC,SAAS,CAAC,KAAK,EAC5B,GAAG,GAAG,GAAG,CAAC,GAAG,CAAC;YAElB,IAAI,CAAC,UAAU,CAAC,WAAW,EAAE,CAAC;YAC9B,GAAG,CAAC,SAAS,GAAG,SAAS,CAAC;YAC1B,GAAG,CAAC,QAAQ,CAAC,KAAK,CAAC,CAAC,EAAE,KAAK,CAAC,CAAC,EAAE,KAAK,CAAC,KAAK,EAAE,KAAK,CAAC,MAAM,CAAC,CAAC;YAC1D,WAAM,CAAC,MAAM,CAAC,IAAI,EAAE,GAAG,EAAE,KAAK,CAAC,CAAC;YAChC,IAAI,CAAC,UAAU,CAAC,SAAS,EAAE,CAAC;YAE5B,MAAM,CAAC,IAAI,CAAC;QAChB,CAAC;QAES,sBAAM,GAAhB,UAAiB,GAAW;YACxB,IAAI,CAAC,OAAO,EAAE;iBACT,MAAM,EAAE,CAAC;QAClB,CAAC;QACL,YAAC;IAAD,CA5DA,AA4DC,CA5D0B,cAAS,GA4DnC;IA5DY,UAAK,QA4DjB,CAAA;AACL,CAAC,EAlES,IAAI,KAAJ,IAAI,QAkEb;AClED,IAAU,IAAI,CA4Eb;AA5ED,WAAU,IAAI,EAAC,CAAC;IACZ;QAAyC,uCAAa;QAAtD;YAAyC,8BAAa;YAC1C,WAAM,GAAc,EAAC,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAC,CAAC;YACjC,SAAI,GAAc,EAAC,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAC,CAAC;QAgE3C,CAAC;QA9DG,sBAAI,sCAAK;iBAAT;gBACI,MAAM,CAAC,IAAI,CAAC,MAAM,CAAC;YACvB,CAAC;iBAED,UAAU,KAAgB;gBACtB,EAAE,CAAC,CAAC,IAAI,CAAC,MAAM,KAAK,KAAK,CAAC,CAAC,CAAC;oBACxB,IAAI,CAAC,MAAM,GAAG,KAAK,CAAC;oBACpB,MAAM,CAAC,MAAM,CAAC,KAAK,CAAC,CAAC;oBACrB,IAAI,CAAC,QAAQ,CAAC,EAAE,EAAE,CAAC;gBACvB,CAAC;YACL,CAAC;;;WARA;QAUD,sBAAI,oCAAG;iBAAP;gBACI,MAAM,CAAC,IAAI,CAAC,IAAI,CAAC;YACrB,CAAC;iBAED,UAAQ,KAAgB;gBACpB,EAAE,CAAC,CAAC,IAAI,CAAC,IAAI,KAAK,KAAK,CAAC,CAAC,CAAC;oBACtB,IAAI,CAAC,IAAI,GAAG,KAAK,CAAC;oBAClB,MAAM,CAAC,MAAM,CAAC,KAAK,CAAC,CAAC;oBACrB,IAAI,CAAC,QAAQ,CAAC,EAAE,EAAE,CAAC;gBACvB,CAAC;YACL,CAAC;;;WARA;QAUS,uCAAS,GAAnB,UAAoB,GAA6B,EAAE,MAAgB;YAC/D,IAAI,MAAM,GAAG,IAAI,CAAC,QAAQ,CAAC,MAAM,EAAE,IAAI,CAAC,KAAK,CAAC,CAAC;YAC/C,IAAI,IAAI,GAAG,IAAI,CAAC,QAAQ,CAAC,MAAM,EAAE,IAAI,CAAC,GAAG,CAAC,CAAC;YAC3C,IAAI,GAAG,GAAG,GAAG,CAAC,oBAAoB,CAAC,MAAM,CAAC,CAAC,EAAE,MAAM,CAAC,CAAC,EAAE,IAAI,CAAC,CAAC,EAAE,IAAI,CAAC,CAAC,CAAC,CAAC;YACvE,GAAG,CAAC,CAAC,IAAI,EAAE,GAAG,IAAI,CAAC,KAAK,CAAC,IAAI,EAAE,EAAE,MAAM,GAAG,EAAE,CAAC,IAAI,EAAE,EAAE,CAAC,MAAM,CAAC,IAAI,EAAE,MAAM,GAAG,EAAE,CAAC,IAAI,EAAE,EAAE,CAAC;gBACpF,YAAY,CAAC,GAAG,EAAE,MAAM,CAAC,KAAK,CAAC,CAAC;YACpC,CAAC;YACD,MAAM,CAAC,GAAG,CAAC;QACf,CAAC;QAES,2CAAa,GAAvB,UAAwB,GAA6B,EAAE,MAAgB;YACnE,IAAI,MAAM,GAAG,IAAI,CAAC,QAAQ,CAAC,MAAM,EAAE,IAAI,CAAC,KAAK,CAAC,CAAC;YAC/C,IAAI,IAAI,GAAG,IAAI,CAAC,QAAQ,CAAC,MAAM,EAAE,IAAI,CAAC,GAAG,CAAC,CAAC;YAC3C,MAAM,CAAC,IAAI,CAAC,kBAAkB,CAAC,GAAG,EAAE,mBAAc,CAAC,wBAAwB,CAAC,MAAM,EAAE,IAAI,EAAE,MAAM,CAAC,CAAC,CAAC;QACvG,CAAC;QAES,0CAAY,GAAtB,UAAuB,GAA6B,EAAE,MAAgB;YAClE,IAAI,MAAM,GAAG,IAAI,CAAC,QAAQ,CAAC,MAAM,EAAE,IAAI,CAAC,KAAK,CAAC,CAAC;YAC/C,IAAI,IAAI,GAAG,IAAI,CAAC,QAAQ,CAAC,MAAM,EAAE,IAAI,CAAC,GAAG,CAAC,CAAC;YAC3C,MAAM,CAAC,IAAI,CAAC,kBAAkB,CAAC,GAAG,EAAE,mBAAc,CAAC,yBAAyB,CAAC,MAAM,EAAE,IAAI,EAAE,MAAM,CAAC,CAAC,CAAC;QACxG,CAAC;QAEO,gDAAkB,GAA1B,UAA2B,GAA6B,EAAE,YAA0C;YAChG,IAAI,GAAG,GAAG,GAAG,CAAC,oBAAoB,CAAC,YAAY,CAAC,EAAE,EAAE,YAAY,CAAC,EAAE,EAAE,YAAY,CAAC,EAAE,EAAE,YAAY,CAAC,EAAE,CAAC,CAAC;YACvG,IAAI,QAAQ,GAAG,IAAI,CAAC,KAAK,CAAC,UAAU,EAAE,CAAC;YACvC,GAAG,CAAC,CAAC,EAAE,YAAY,CAAC,IAAI,EAAE,GAAG,CAAC;gBAC1B,GAAG,CAAC,CAAC,IAAI,MAAM,GAAG,QAAQ,CAAC,IAAI,EAAE,EAAE,CAAC,MAAM,CAAC,IAAI,EAAE,MAAM,GAAG,QAAQ,CAAC,IAAI,EAAE,EAAE,CAAC;oBACxE,IAAI,GAAG,GAAG,MAAM,CAAC,KAAK,CAAC;oBACvB,IAAI,KAAK,GAAG;wBACR,KAAK,EAAE,GAAG,CAAC,KAAK;wBAChB,MAAM,EAAE,YAAY,CAAC,WAAW,CAAC,GAAG,CAAC,MAAM,CAAC;qBAC/C,CAAC;oBACF,EAAE,CAAC,CAAC,KAAK,CAAC,MAAM,IAAI,CAAC,IAAI,KAAK,CAAC,MAAM,IAAI,CAAC,CAAC;wBACvC,YAAY,CAAC,GAAG,EAAE,KAAK,CAAC,CAAC;gBACjC,CAAC;YACL,CAAC;YACD,MAAM,CAAC,GAAG,CAAC;QACf,CAAC;QACL,0BAAC;IAAD,CAlEA,AAkEC,CAlEwC,kBAAa,GAkErD;IAlEY,wBAAmB,sBAkE/B,CAAA;IAED,sBAAsB,GAAmB,EAAE,IAAmB;QAG1D,IAAI,MAAM,GAAG,IAAI,CAAC,GAAG,CAAC,GAAG,EAAE,IAAI,CAAC,GAAG,CAAC,GAAG,EAAE,IAAI,CAAC,MAAM,CAAC,CAAC,CAAC;QACvD,IAAI,KAAK,GAAG,IAAI,CAAC,KAAK,CAAC,QAAQ,EAAE,CAAC;QAClC,GAAG,CAAC,YAAY,CAAC,MAAM,EAAE,KAAK,CAAC,CAAC;IACpC,CAAC;AACL,CAAC,EA5ES,IAAI,KAAJ,IAAI,QA4Eb;AC9ED,IAAU,IAAI,CAwJb;AAxJD,WAAU,IAAI,EAAC,CAAC;IAIZ,IAAO,UAAU,GAAG,IAAI,CAAC,OAAO,CAAC,UAAU,CAAC;IAQ5C;QAA0B,wBAAM;QAK5B,cAAY,KAAkB,EAAE,SAA0B;YACtD,kBAAM,KAAK,EAAE,SAAS,CAAC,CAAC;QAC5B,CAAC;QAED,mBAAI,GAAJ,UAAK,KAAkB,EAAE,SAA0B;YAC/C,IAAI,CAAC,KAAK,GAAG,CAAC,KAAK,IAAI,IAAI,SAAI,CAAC,SAAS,EAAE,CAAC,CAAC,KAAK,EAAE,CAAC;YACrD,IAAI,CAAC,SAAS,GAAG,CAAC,SAAS,IAAI,IAAI,SAAI,CAAC,aAAa,EAAE,CAAC,CAAC,KAAK,EAAE,CAAC;YACjE,IAAI,CAAC,SAAS,GAAG;gBACb,IAAI,EAAE,SAAI,CAAC,IAAI,CAAC,SAAS,CAAC,QAAQ;gBAClC,EAAE,EAAE,SAAI,CAAC,EAAE,CAAC,SAAS,CAAC,QAAQ;gBAC9B,MAAM,EAAE,SAAI,CAAC,MAAM,CAAC,SAAS,CAAC,QAAQ;gBACtC,GAAG,EAAE,SAAI,CAAC,GAAG,CAAC,SAAS,CAAC,QAAQ;aACnC,CAAC;YACF,IAAI,CAAC,OAAO,GAAG,YAAO,CAAC,IAAI,CAAC;QAChC,CAAC;QAED,sBAAI,mBAAC;iBAAL;gBACI,MAAM,CAAC,IAAI,CAAC,KAAK,CAAC,MAAM,CAAC,CAAC,CAAC;YAC/B,CAAC;iBAED,UAAM,KAAa;gBACf,EAAE,CAAC,CAAC,IAAI,CAAC,KAAK,CAAC,MAAM,CAAC,CAAC,KAAK,KAAK,CAAC,CAAC,CAAC;oBAChC,IAAI,CAAC,KAAK,CAAC,MAAM,CAAC,CAAC,GAAG,KAAK,CAAC;oBAC5B,IAAI,CAAC,SAAS,CAAC,KAAK,CAAC,UAAU,CAAC,SAAS,CAAC,CAAC;gBAC/C,CAAC;YACL,CAAC;;;WAPA;QASD,sBAAI,mBAAC;iBAAL;gBACI,MAAM,CAAC,IAAI,CAAC,KAAK,CAAC,MAAM,CAAC,CAAC,CAAC;YAC/B,CAAC;iBAED,UAAM,KAAa;gBACf,EAAE,CAAC,CAAC,IAAI,CAAC,KAAK,CAAC,MAAM,CAAC,CAAC,KAAK,KAAK,CAAC,CAAC,CAAC;oBAChC,IAAI,CAAC,KAAK,CAAC,MAAM,CAAC,CAAC,GAAG,KAAK,CAAC;oBAC5B,IAAI,CAAC,SAAS,CAAC,KAAK,CAAC,UAAU,CAAC,SAAS,CAAC,CAAC;gBAC/C,CAAC;YACL,CAAC;;;WAPA;QASD,sBAAI,uBAAK;iBAAT;gBACI,MAAM,CAAC,IAAI,CAAC,KAAK,CAAC,IAAI,CAAC,KAAK,CAAC;YACjC,CAAC;iBAED,UAAU,KAAa;gBACnB,EAAE,CAAC,CAAC,IAAI,CAAC,KAAK,CAAC,IAAI,CAAC,KAAK,KAAK,KAAK,CAAC,CAAC,CAAC;oBAClC,IAAI,CAAC,KAAK,CAAC,IAAI,CAAC,KAAK,GAAG,KAAK,CAAC;oBAC9B,IAAI,CAAC,SAAS,CAAC,KAAK,CAAC,UAAU,CAAC,OAAO,GAAG,UAAU,CAAC,SAAS,CAAC,CAAC;gBACpE,CAAC;YACL,CAAC;;;WAPA;QASD,sBAAI,wBAAM;iBAAV;gBACI,MAAM,CAAC,IAAI,CAAC,KAAK,CAAC,IAAI,CAAC,MAAM,CAAC;YAClC,CAAC;iBAED,UAAW,KAAa;gBACpB,EAAE,CAAC,CAAC,IAAI,CAAC,KAAK,CAAC,IAAI,CAAC,MAAM,KAAK,KAAK,CAAC,CAAC,CAAC;oBACnC,IAAI,CAAC,KAAK,CAAC,IAAI,CAAC,MAAM,GAAG,KAAK,CAAC;oBAC/B,IAAI,CAAC,SAAS,CAAC,KAAK,CAAC,UAAU,CAAC,OAAO,GAAG,UAAU,CAAC,SAAS,CAAC,CAAC;gBACpE,CAAC;YACL,CAAC;;;WAPA;QASD,sBAAI,yBAAO;iBAAX;gBACI,MAAM,CAAC,IAAI,CAAC,KAAK,CAAC,OAAO,CAAC;YAC9B,CAAC;iBAED,UAAY,KAAc;gBACtB,EAAE,CAAC,CAAC,IAAI,CAAC,KAAK,CAAC,OAAO,KAAK,KAAK,CAAC,CAAC,CAAC;oBAC/B,IAAI,CAAC,KAAK,CAAC,OAAO,GAAG,KAAK,CAAC;oBAC3B,IAAI,CAAC,SAAS,CAAC,KAAK,CAAC,UAAU,CAAC,OAAO,CAAC,CAAC;gBAC7C,CAAC;YACL,CAAC;;;WAPA;QASD,sBAAI,sBAAI;iBAAR;gBACI,MAAM,CAAC,IAAI,CAAC,KAAK,CAAC,IAAI,CAAC;YAC3B,CAAC;iBAED,UAAS,KAAiB;gBACtB,EAAE,CAAC,CAAC,IAAI,CAAC,KAAK,CAAC,IAAI,KAAK,KAAK,CAAC,CAAC,CAAC;oBAC5B,IAAI,CAAC,KAAK,CAAC,IAAI,GAAG,KAAK,CAAC;oBACxB,IAAI,CAAC,SAAS,CAAC,OAAO,CAAC,OAAO,CAAC,KAAK,CAAC,CAAC;oBACtC,IAAI,CAAC,SAAS;yBACT,KAAK,CAAC,UAAU,CAAC,OAAO,CAAC;yBACzB,UAAU,EAAE,CAAC;gBACtB,CAAC;YACL,CAAC;;;WAVA;QAYD,sBAAI,0BAAQ;iBAAZ;gBACI,MAAM,CAAC,IAAI,CAAC,KAAK,CAAC,QAAQ,CAAC;YAC/B,CAAC;iBAED,UAAa,KAAe;gBACxB,EAAE,CAAC,CAAC,IAAI,CAAC,KAAK,CAAC,QAAQ,KAAK,KAAK,CAAC,CAAC,CAAC;oBAChC,IAAI,CAAC,KAAK,CAAC,QAAQ,GAAG,KAAK,CAAC;oBAC5B,IAAI,CAAC,SAAS,CAAC,UAAU,EAAE,CAAC;gBAChC,CAAC;YACL,CAAC;;;WAPA;QASD,sBAAI,+BAAa;iBAAjB;gBACI,MAAM,CAAC,IAAI,CAAC,KAAK,CAAC,aAAa,CAAC;YACpC,CAAC;iBAED,UAAkB,KAAiB;gBAC/B,EAAE,CAAC,CAAC,IAAI,CAAC,KAAK,CAAC,aAAa,KAAK,KAAK,CAAC,CAAC,CAAC;oBACrC,IAAI,CAAC,KAAK,CAAC,aAAa,GAAG,KAAK,CAAC;oBACjC,IAAI,CAAC,SAAS;yBACT,KAAK,CAAC,UAAU,CAAC,OAAO,CAAC;yBACzB,UAAU,EAAE,CAAC;gBACtB,CAAC;YACL,CAAC;;;WATA;QAWD,sBAAI,gCAAc;iBAAlB;gBACI,MAAM,CAAC,IAAI,CAAC,KAAK,CAAC,cAAc,CAAC;YACrC,CAAC;iBAED,UAAmB,KAAkB;gBACjC,EAAE,CAAC,CAAC,IAAI,CAAC,KAAK,CAAC,cAAc,KAAK,KAAK,CAAC,CAAC,CAAC;oBACtC,IAAI,CAAC,KAAK,CAAC,cAAc,GAAG,KAAK,CAAC;oBAClC,IAAI,CAAC,SAAS;yBACT,KAAK,CAAC,UAAU,CAAC,OAAO,CAAC;yBACzB,UAAU,EAAE,CAAC;gBACtB,CAAC;YACL,CAAC;;;WATA;QAWD,sBAAI,kCAAgB;iBAApB;gBACI,MAAM,CAAC,IAAI,CAAC,KAAK,CAAC,gBAAgB,CAAC;YACvC,CAAC;iBAED,UAAqB,KAAa;gBAC9B,EAAE,CAAC,CAAC,IAAI,CAAC,KAAK,CAAC,gBAAgB,KAAK,KAAK,CAAC,CAAC,CAAC;oBACxC,IAAI,CAAC,KAAK,CAAC,gBAAgB,GAAG,KAAK,CAAC;oBACpC,IAAI,CAAC,SAAS;yBACT,KAAK,CAAC,UAAU,CAAC,OAAO,CAAC;yBACzB,UAAU,EAAE,CAAC;gBACtB,CAAC;YACL,CAAC;;;WATA;QAUL,WAAC;IAAD,CA3IA,AA2IC,CA3IyB,WAAM,GA2I/B;IA3IY,SAAI,OA2IhB,CAAA;AACL,CAAC,EAxJS,IAAI,KAAJ,IAAI,QAwJb;ACtJD,IAAU,IAAI,CAGb;AAHD,WAAU,IAAI,EAAC,CAAC;IACZ;QAA4B,0BAAoB;QAAhD;YAA4B,8BAAoB;QAChD,CAAC;QAAD,aAAC;IAAD,CADA,AACC,CAD2B,cAAS,GACpC;IADY,WAAM,SAClB,CAAA;AACL,CAAC,EAHS,IAAI,KAAJ,IAAI,QAGb;ACLD,IAAU,IAAI,CAwJb;AAxJD,WAAU,IAAI,EAAC,CAAC;IACZ,IAAO,UAAU,GAAG,IAAI,CAAC,OAAO,CAAC,UAAU,CAAC;IAK5C;QAA8B,4BAAM;QAKhC,kBAAY,KAAsB,EAAE,SAA0B;YAC1D,kBAAM,KAAK,EAAE,SAAS,CAAC,CAAC;QAC5B,CAAC;QAED,uBAAI,GAAJ,UAAK,KAAuB,EAAE,SAA2B;YAAzD,iBAeC;YAdG,IAAI,CAAC,KAAK,GAAG,CAAC,KAAK,IAAI,IAAI,aAAQ,CAAC,aAAa,EAAE,CAAC,CAAC,KAAK,EAAE,CAAC;YAC7D,IAAI,CAAC,SAAS,GAAG,CAAC,SAAS,IAAI,IAAI,SAAI,CAAC,aAAa,EAAE,CAAC,CAAC,KAAK,EAAE,CAAC;YACjE,IAAI,CAAC,SAAS,GAAG;gBACb,IAAI,EAAE,aAAQ,CAAC,IAAI,CAAC,SAAS,CAAC,QAAQ;gBACtC,EAAE,EAAE,SAAI,CAAC,EAAE,CAAC,SAAS,CAAC,QAAQ;gBAC9B,MAAM,EAAE,SAAI,CAAC,MAAM,CAAC,SAAS,CAAC,QAAQ;gBACtC,GAAG,EAAE,SAAI,CAAC,GAAG,CAAC,SAAS,CAAC,QAAQ;aACnC,CAAC;YACF,IAAI,CAAC,OAAO,GAAG,YAAO,CAAC,IAAI,CAAC;YAC5B,IAAI,CAAC,KAAK,CAAC,MAAM,CAAC,KAAK,CAAC;gBACpB,EAAE,CAAC,CAAC,KAAI,CAAC,KAAK,CAAC,IAAI,CAAC;oBAChB,KAAI,CAAC,KAAK,CAAC,IAAI,CAAC,KAAK,EAAE,CAAC;YAEhC,CAAC,CAAC,CAAC;QACP,CAAC;QAED,sBAAI,4BAAM;iBAAV;gBACI,MAAM,CAAC,IAAI,CAAC,KAAK,CAAC,MAAM,CAAC;YAC7B,CAAC;;;WAAA;QAED,sBAAI,4BAAM;iBAAV;gBACI,MAAM,CAAC,IAAI,CAAC,MAAM,CAAC;YACvB,CAAC;iBAED,UAAW,KAAc;gBACrB,EAAE,CAAC,CAAC,IAAI,CAAC,KAAK,CAAC,MAAM,KAAK,KAAK,CAAC,CAAC,CAAC;oBAC9B,IAAI,CAAC,KAAK,CAAC,MAAM,GAAG,KAAK,CAAC;oBAC1B,IAAI,CAAC,SAAS,CAAC,UAAU,EAAE,CAAC;gBAChC,CAAC;YACL,CAAC;;;WAPA;QASD,sBAAI,uBAAC;iBAAL;gBACI,MAAM,CAAC,IAAI,CAAC,KAAK,CAAC,MAAM,CAAC,CAAC,CAAC;YAC/B,CAAC;iBAED,UAAM,KAAa;gBACf,EAAE,CAAC,CAAC,IAAI,CAAC,KAAK,CAAC,MAAM,CAAC,CAAC,KAAK,KAAK,CAAC,CAAC,CAAC;oBAChC,IAAI,CAAC,KAAK,CAAC,MAAM,CAAC,CAAC,GAAG,KAAK,CAAC;oBAC5B,IAAI,CAAC,SAAS,CAAC,KAAK,CAAC,UAAU,CAAC,SAAS,CAAC,CAAC;gBAC/C,CAAC;YACL,CAAC;;;WAPA;QASD,sBAAI,uBAAC;iBAAL;gBACI,MAAM,CAAC,IAAI,CAAC,KAAK,CAAC,MAAM,CAAC,CAAC,CAAC;YAC/B,CAAC;iBAED,UAAM,KAAa;gBACf,EAAE,CAAC,CAAC,IAAI,CAAC,KAAK,CAAC,MAAM,CAAC,CAAC,KAAK,KAAK,CAAC,CAAC,CAAC;oBAChC,IAAI,CAAC,KAAK,CAAC,MAAM,CAAC,CAAC,GAAG,KAAK,CAAC;oBAC5B,IAAI,CAAC,SAAS,CAAC,KAAK,CAAC,UAAU,CAAC,SAAS,CAAC,CAAC;gBAC/C,CAAC;YACL,CAAC;;;WAPA;QASD,sBAAI,2BAAK;iBAAT;gBACI,MAAM,CAAC,IAAI,CAAC,KAAK,CAAC,IAAI,CAAC,KAAK,CAAC;YACjC,CAAC;iBAED,UAAU,KAAa;gBACnB,EAAE,CAAC,CAAC,IAAI,CAAC,KAAK,CAAC,IAAI,CAAC,KAAK,KAAK,KAAK,CAAC,CAAC,CAAC;oBAClC,IAAI,CAAC,KAAK,CAAC,IAAI,CAAC,KAAK,GAAG,KAAK,CAAC;oBAC9B,IAAI,CAAC,SAAS,CAAC,KAAK,CAAC,UAAU,CAAC,OAAO,GAAG,UAAU,CAAC,SAAS,CAAC,CAAC;gBACpE,CAAC;YACL,CAAC;;;WAPA;QASD,sBAAI,4BAAM;iBAAV;gBACI,MAAM,CAAC,IAAI,CAAC,KAAK,CAAC,IAAI,CAAC,MAAM,CAAC;YAClC,CAAC;iBAED,UAAW,KAAa;gBACpB,EAAE,CAAC,CAAC,IAAI,CAAC,KAAK,CAAC,IAAI,CAAC,MAAM,KAAK,KAAK,CAAC,CAAC,CAAC;oBACnC,IAAI,CAAC,KAAK,CAAC,IAAI,CAAC,MAAM,GAAG,KAAK,CAAC;oBAC/B,IAAI,CAAC,SAAS,CAAC,KAAK,CAAC,UAAU,CAAC,OAAO,GAAG,UAAU,CAAC,SAAS,CAAC,CAAC;gBACpE,CAAC;YACL,CAAC;;;WAPA;QASD,sBAAI,6BAAO;iBAAX;gBACI,MAAM,CAAC,IAAI,CAAC,KAAK,CAAC,OAAO,CAAC;YAC9B,CAAC;iBAED,UAAY,KAAc;gBACtB,EAAE,CAAC,CAAC,IAAI,CAAC,KAAK,CAAC,OAAO,KAAK,KAAK,CAAC,CAAC,CAAC;oBAC/B,IAAI,CAAC,KAAK,CAAC,OAAO,GAAG,KAAK,CAAC;oBAC3B,IAAI,CAAC,SAAS,CAAC,KAAK,CAAC,UAAU,CAAC,OAAO,CAAC,CAAC;gBAC7C,CAAC;YACL,CAAC;;;WAPA;QASD,sBAAI,8BAAQ;iBAAZ;gBACI,MAAM,CAAC,IAAI,CAAC,KAAK,CAAC,QAAQ,CAAC;YAC/B,CAAC;iBAED,UAAa,KAAe;gBACxB,EAAE,CAAC,CAAC,IAAI,CAAC,KAAK,CAAC,QAAQ,KAAK,KAAK,CAAC,CAAC,CAAC;oBAChC,IAAI,CAAC,KAAK,CAAC,QAAQ,GAAG,KAAK,CAAC;oBAC5B,IAAI,CAAC,SAAS,CAAC,UAAU,EAAE,CAAC;gBAChC,CAAC;YACL,CAAC;;;WAPA;QASD,sBAAI,mCAAa;iBAAjB;gBACI,MAAM,CAAC,IAAI,CAAC,KAAK,CAAC,aAAa,CAAC;YACpC,CAAC;iBAED,UAAkB,KAAiB;gBAC/B,EAAE,CAAC,CAAC,IAAI,CAAC,KAAK,CAAC,aAAa,KAAK,KAAK,CAAC,CAAC,CAAC;oBACrC,IAAI,CAAC,KAAK,CAAC,aAAa,GAAG,KAAK,CAAC;oBACjC,IAAI,CAAC,SAAS;yBACT,KAAK,CAAC,UAAU,CAAC,OAAO,CAAC;yBACzB,UAAU,EAAE,CAAC;gBACtB,CAAC;YACL,CAAC;;;WATA;QAWD,sBAAI,oCAAc;iBAAlB;gBACI,MAAM,CAAC,IAAI,CAAC,KAAK,CAAC,cAAc,CAAC;YACrC,CAAC;iBAED,UAAmB,KAAkB;gBACjC,EAAE,CAAC,CAAC,IAAI,CAAC,KAAK,CAAC,cAAc,KAAK,KAAK,CAAC,CAAC,CAAC;oBACtC,IAAI,CAAC,KAAK,CAAC,cAAc,GAAG,KAAK,CAAC;oBAClC,IAAI,CAAC,SAAS;yBACT,KAAK,CAAC,UAAU,CAAC,OAAO,CAAC;yBACzB,UAAU,EAAE,CAAC;gBACtB,CAAC;YACL,CAAC;;;WATA;QAWD,sBAAI,sCAAgB;iBAApB;gBACI,MAAM,CAAC,IAAI,CAAC,KAAK,CAAC,gBAAgB,CAAC;YACvC,CAAC;iBAED,UAAqB,KAAa;gBAC9B,EAAE,CAAC,CAAC,IAAI,CAAC,KAAK,CAAC,gBAAgB,KAAK,KAAK,CAAC,CAAC,CAAC;oBACxC,IAAI,CAAC,KAAK,CAAC,gBAAgB,GAAG,KAAK,CAAC;oBACpC,IAAI,CAAC,SAAS;yBACT,KAAK,CAAC,UAAU,CAAC,OAAO,CAAC;yBACzB,UAAU,EAAE,CAAC;gBACtB,CAAC;YACL,CAAC;;;WATA;QAUL,eAAC;IAAD,CAjJA,AAiJC,CAjJ6B,WAAM,GAiJnC;IAjJY,aAAQ,WAiJpB,CAAA;AACL,CAAC,EAxJS,IAAI,KAAJ,IAAI,QAwJb;ACtJD,IAAU,IAAI,CA4Jb;AA5JD,WAAU,IAAI,EAAC,CAAC;IACZ,IAAI,SAAS,GAAsB,QAAQ,CAAC,aAAa,CAAC,QAAQ,CAAC,CAAC;IACpE,IAAI,MAAM,GAA6B,SAAS,CAAC,UAAU,CAAC,IAAI,CAAC,CAAC;IAClE,IAAI,OAAO,GAAG,KAAK,CAAC;IAEpB;QAAyC,uCAAa;QAAtD;YAAyC,8BAAa;YAC1C,YAAO,GAAc,EAAC,CAAC,EAAE,GAAG,EAAE,CAAC,EAAE,GAAG,EAAC,CAAC;YACtC,YAAO,GAAc,EAAC,CAAC,EAAE,GAAG,EAAE,CAAC,EAAE,GAAG,EAAC,CAAC;YACtC,YAAO,GAAc,EAAC,CAAC,EAAE,GAAG,EAAE,CAAC,EAAE,GAAG,EAAC,CAAC;QA2IlD,CAAC;QAzIG,sBAAI,uCAAM;iBAAV;gBACI,MAAM,CAAC,IAAI,CAAC,OAAO,CAAC;YACxB,CAAC;iBAED,UAAW,KAAgB;gBACvB,EAAE,CAAC,CAAC,IAAI,CAAC,OAAO,KAAK,KAAK,CAAC,CAAC,CAAC;oBACzB,IAAI,CAAC,OAAO,GAAG,KAAK,CAAC;oBACrB,MAAM,CAAC,MAAM,CAAC,KAAK,CAAC,CAAC;oBACrB,IAAI,CAAC,QAAQ,CAAC,EAAE,EAAE,CAAC;gBACvB,CAAC;YACL,CAAC;;;WARA;QAUD,sBAAI,uCAAM;iBAAV;gBACI,MAAM,CAAC,IAAI,CAAC,OAAO,CAAC;YACxB,CAAC;iBAED,UAAW,KAAgB;gBACvB,EAAE,CAAC,CAAC,IAAI,CAAC,OAAO,KAAK,KAAK,CAAC,CAAC,CAAC;oBACzB,IAAI,CAAC,OAAO,GAAG,KAAK,CAAC;oBACrB,MAAM,CAAC,MAAM,CAAC,KAAK,CAAC,CAAC;oBACrB,IAAI,CAAC,QAAQ,CAAC,EAAE,EAAE,CAAC;gBACvB,CAAC;YACL,CAAC;;;WARA;QAUD,sBAAI,wCAAO;iBAAX;gBACI,MAAM,CAAC,IAAI,CAAC,OAAO,CAAC,CAAC,CAAC;YAC1B,CAAC;iBAED,UAAY,KAAa;gBACrB,EAAE,CAAC,CAAC,IAAI,CAAC,OAAO,CAAC,CAAC,KAAK,KAAK,CAAC,CAAC,CAAC;oBAC3B,IAAI,CAAC,OAAO,CAAC,CAAC,GAAG,KAAK,CAAC;oBACvB,IAAI,CAAC,QAAQ,CAAC,EAAE,EAAE,CAAC;gBACvB,CAAC;YACL,CAAC;;;WAPA;QASD,sBAAI,wCAAO;iBAAX;gBACI,MAAM,CAAC,IAAI,CAAC,OAAO,CAAC,CAAC,CAAC;YAC1B,CAAC;iBAED,UAAY,KAAa;gBACrB,EAAE,CAAC,CAAC,IAAI,CAAC,OAAO,CAAC,CAAC,KAAK,KAAK,CAAC,CAAC,CAAC;oBAC3B,IAAI,CAAC,OAAO,CAAC,CAAC,GAAG,KAAK,CAAC;oBACvB,IAAI,CAAC,QAAQ,CAAC,EAAE,EAAE,CAAC;gBACvB,CAAC;YACL,CAAC;;;WAPA;QASS,uCAAS,GAAnB,UAAoB,GAA6B,EAAE,MAAgB;YAC/D,IAAI,IAAI,GAAG,IAAI,CAAC,YAAY,CAAC,MAAM,CAAC,CAAC;YACrC,IAAI,GAAG,GAAG,CAAC,CAAC,IAAI,CAAC,QAAQ,GAAG,MAAM,GAAG,GAAG,CAAC,CAAC,oBAAoB,CAAC,IAAI,CAAC,EAAE,EAAE,IAAI,CAAC,EAAE,EAAE,CAAC,EAAE,IAAI,CAAC,EAAE,EAAE,IAAI,CAAC,EAAE,EAAE,IAAI,CAAC,EAAE,CAAC,CAAC;YAC/G,GAAG,CAAC,CAAC,IAAI,EAAE,GAAG,IAAI,CAAC,KAAK,CAAC,IAAI,EAAE,EAAE,MAAM,GAAG,EAAE,CAAC,IAAI,EAAE,EAAE,CAAC,MAAM,CAAC,IAAI,EAAE,MAAM,GAAG,EAAE,CAAC,IAAI,EAAE,EAAE,CAAC;gBACpF,YAAY,CAAC,GAAG,EAAE,MAAM,CAAC,KAAK,CAAC,CAAC;YACpC,CAAC;YACD,MAAM,CAAC,IAAI,CAAC,GAAG,CAAC,GAAG,EAAE,GAAG,EAAE,IAAI,EAAE,MAAM,CAAC,CAAC;QAC5C,CAAC;QAES,2CAAa,GAAvB,UAAwB,GAA6B,EAAE,MAAgB;YACnE,IAAI,IAAI,GAAG,IAAI,CAAC,YAAY,CAAC,MAAM,CAAC,CAAC;YACrC,MAAM,CAAC,IAAI,CAAC,kBAAkB,CAAC,IAAI,EAAE,MAAM,EAAE,KAAK,CAAC,CAAC;QACxD,CAAC;QAES,0CAAY,GAAtB,UAAuB,GAA6B,EAAE,MAAgB;YAClE,IAAI,IAAI,GAAG,IAAI,CAAC,YAAY,CAAC,MAAM,CAAC,CAAC;YACrC,MAAM,CAAC,IAAI,CAAC,kBAAkB,CAAC,IAAI,EAAE,MAAM,EAAE,IAAI,CAAC,CAAC;QACvD,CAAC;QAEO,gDAAkB,GAA1B,UAA2B,IAAqC,EAAE,MAAgB,EAAE,OAAgB;YAChG,SAAS,CAAC,KAAK,GAAG,MAAM,CAAC,KAAK,CAAC;YAC/B,SAAS,CAAC,MAAM,GAAG,MAAM,CAAC,MAAM,CAAC;YACjC,MAAM,CAAC,IAAI,EAAE,CAAC;YACd,EAAE,CAAC,CAAC,CAAC,IAAI,CAAC,QAAQ,CAAC;gBACf,MAAM,CAAC,KAAK,CAAC,IAAI,CAAC,EAAE,EAAE,IAAI,CAAC,EAAE,CAAC,CAAC;YACnC,MAAM,CAAC,wBAAwB,GAAG,kBAAkB,CAAC;YAErD,IAAI,QAAQ,GAAG,KAAK,CAAC;YACrB,IAAI,QAAQ,GAAG,IAAI,CAAC,KAAK,CAAC,UAAU,EAAE,CAAC;YACvC,GAAG,CAAC,CAAC,IAAI,QAAQ,GAAG,mBAAc,CAAC,cAAc,CAAC,IAAI,EAAE,MAAM,CAAC,EAAE,QAAQ,CAAC,IAAI,EAAE,EAAE,QAAQ,GAAG,CAAC,QAAQ,EAAE,CAAC;gBACrG,IAAI,GAAG,GAAG,QAAQ,CAAC,cAAc,CAAC,MAAM,CAAC,CAAC;gBAC1C,GAAG,CAAC,CAAC,IAAI,MAAM,GAAG,QAAQ,CAAC,IAAI,EAAE,EAAE,CAAC,MAAM,CAAC,IAAI,EAAE,MAAM,GAAG,QAAQ,CAAC,IAAI,EAAE,EAAE,CAAC;oBACxE,IAAI,GAAG,GAAG,MAAM,CAAC,KAAK,CAAC;oBACvB,IAAI,KAAK,GAAG;wBACR,KAAK,EAAE,GAAG,CAAC,KAAK;wBAChB,MAAM,EAAE,CAAC,OAAO,IAAI,QAAQ,CAAC,GAAG,CAAC,GAAG,GAAG,CAAC,MAAM,GAAG,GAAG,CAAC,MAAM;qBAC9D,CAAC;oBACF,YAAY,CAAC,GAAG,EAAE,KAAK,CAAC,CAAC;gBAC7B,CAAC;gBACD,MAAM,CAAC,SAAS,GAAG,GAAG,CAAC;gBACvB,MAAM,CAAC,SAAS,EAAE,CAAC;gBACnB,MAAM,CAAC,GAAG,CAAC,QAAQ,CAAC,EAAE,EAAE,QAAQ,CAAC,EAAE,EAAE,QAAQ,CAAC,EAAE,EAAE,CAAC,EAAE,CAAC,GAAG,IAAI,CAAC,EAAE,EAAE,KAAK,CAAC,CAAC;gBACzE,MAAM,CAAC,SAAS,EAAE,CAAC;gBACnB,MAAM,CAAC,IAAI,EAAE,CAAC;YAClB,CAAC;YAED,IAAI,OAAO,GAAG,MAAM,CAAC,aAAa,CAAC,SAAS,EAAE,WAAW,CAAC,CAAC;YAC3D,MAAM,CAAC,OAAO,EAAE,CAAC;YACjB,MAAM,CAAC,OAAO,CAAC;QACnB,CAAC;QAEO,0CAAY,GAApB,UAAqB,MAAgB;YACjC,IAAI,OAAO,GAAG,IAAI,CAAC,QAAQ,CAAC,MAAM,EAAE,IAAI,CAAC,MAAM,CAAC,CAAC;YACjD,IAAI,OAAO,GAAG,IAAI,CAAC,QAAQ,CAAC,MAAM,EAAE,IAAI,CAAC,MAAM,CAAC,CAAC;YACjD,IAAI,OAAO,GAAG,IAAI,CAAC,QAAQ,CAAC,MAAM,EAAE,IAAI,CAAC,OAAO,CAAC,CAAC;YAElD,IAAI,GAAG,GAAG,IAAI,CAAC,GAAG,CAAC,OAAO,CAAC,CAAC,EAAE,OAAO,CAAC,CAAC,CAAC,CAAC;YACzC,IAAI,IAAI,GAAG,IAAI,CAAC,GAAG,CAAC,MAAM,CAAC,KAAK,EAAE,MAAM,CAAC,MAAM,CAAC,EAC5C,EAAE,GAAG,MAAM,CAAC,KAAK,GAAG,IAAI,EACxB,EAAE,GAAG,MAAM,CAAC,MAAM,GAAG,IAAI,CAAC;YAC9B,MAAM,CAAC;gBACH,EAAE,EAAE,OAAO,CAAC,CAAC,GAAG,EAAE;gBAClB,EAAE,EAAE,OAAO,CAAC,CAAC,GAAG,EAAE;gBAClB,EAAE,EAAE,OAAO,CAAC,CAAC,GAAG,EAAE;gBAClB,EAAE,EAAE,OAAO,CAAC,CAAC,GAAG,EAAE;gBAClB,EAAE,EAAE,GAAG;gBACP,IAAI,EAAE,IAAI;gBACV,EAAE,EAAE,MAAM,CAAC,KAAK,GAAG,IAAI;gBACvB,EAAE,EAAE,MAAM,CAAC,MAAM,GAAG,IAAI;gBACxB,QAAQ,EAAE,IAAI,CAAC,GAAG,CAAC,OAAO,CAAC,CAAC,GAAG,OAAO,CAAC,CAAC,CAAC,GAAG,OAAO;aACtD,CAAC;QACN,CAAC;QAEO,iCAAG,GAAX,UAAY,GAA6B,EAAE,IAAyC,EAAE,IAAqC,EAAE,MAAgB;YAIzI,EAAE,CAAC,CAAC,IAAI,CAAC,QAAQ,CAAC;gBACd,MAAM,CAAC,IAAI,CAAC;YAEhB,SAAS,CAAC,KAAK,GAAG,MAAM,CAAC,KAAK,CAAC;YAC/B,SAAS,CAAC,MAAM,GAAG,MAAM,CAAC,MAAM,CAAC;YAEjC,MAAM,CAAC,IAAI,EAAE,CAAC;YACd,MAAM,CAAC,KAAK,CAAC,IAAI,CAAC,EAAE,EAAE,IAAI,CAAC,EAAE,CAAC,CAAC;YAC/B,MAAM,CAAC,SAAS,GAAG,IAAI,CAAC;YACxB,MAAM,CAAC,QAAQ,CAAC,CAAC,EAAE,CAAC,EAAE,IAAI,CAAC,IAAI,EAAE,IAAI,CAAC,IAAI,CAAC,CAAC;YAC5C,IAAI,OAAO,GAAG,GAAG,CAAC,aAAa,CAAC,SAAS,EAAE,WAAW,CAAC,CAAC;YACxD,MAAM,CAAC,OAAO,EAAE,CAAC;YACjB,MAAM,CAAC,OAAO,CAAC;QACnB,CAAC;QACL,0BAAC;IAAD,CA9IA,AA8IC,CA9IwC,kBAAa,GA8IrD;IA9IY,wBAAmB,sBA8I/B,CAAA;IAED,sBAAsB,GAAmB,EAAE,IAAmB;QAG1D,IAAI,MAAM,GAAG,IAAI,CAAC,GAAG,CAAC,GAAG,EAAE,IAAI,CAAC,GAAG,CAAC,GAAG,EAAE,IAAI,CAAC,MAAM,CAAC,CAAC,CAAC;QACvD,IAAI,KAAK,GAAG,IAAI,CAAC,KAAK,CAAC,QAAQ,EAAE,CAAC;QAClC,GAAG,CAAC,YAAY,CAAC,MAAM,EAAE,KAAK,CAAC,CAAC;IACpC,CAAC;AACL,CAAC,EA5JS,IAAI,KAAJ,IAAI,QA4Jb;AC3JD,IAAU,IAAI,CAsEb;AAtED,WAAU,IAAI,EAAC,CAAC;IACZ,IAAO,UAAU,GAAG,IAAI,CAAC,OAAO,CAAC,UAAU,CAAC;IAI5C;QAA+B,6BAAM;QAArC;YAA+B,8BAAM;QAiDrC,CAAC;QAhDG,wBAAI,GAAJ,UAAK,KAAoB,EAAE,SAA4B;YACnD,gBAAK,CAAC,IAAI,YAAC,KAAK,EAAE,SAAS,CAAC,CAAC;YAC7B,IAAI,CAAC,OAAO,GAAG,gBAAgB,CAAC;QACpC,CAAC;QAED,sBAAI,wBAAC;iBAAL;gBACI,MAAM,CAAC,IAAI,CAAC,KAAK,CAAC,MAAM,CAAC,CAAC,CAAC;YAC/B,CAAC;iBAED,UAAM,KAAa;gBACf,EAAE,CAAC,CAAC,IAAI,CAAC,KAAK,CAAC,MAAM,CAAC,CAAC,KAAK,KAAK,CAAC,CAAC,CAAC;oBAChC,IAAI,CAAC,KAAK,CAAC,MAAM,CAAC,CAAC,GAAG,KAAK,CAAC;oBAC5B,IAAI,CAAC,SAAS,CAAC,KAAK,CAAC,UAAU,CAAC,SAAS,CAAC,CAAC;gBAC/C,CAAC;YACL,CAAC;;;WAPA;QASD,sBAAI,wBAAC;iBAAL;gBACI,MAAM,CAAC,IAAI,CAAC,KAAK,CAAC,MAAM,CAAC,CAAC,CAAC;YAC/B,CAAC;iBAED,UAAM,KAAa;gBACf,EAAE,CAAC,CAAC,IAAI,CAAC,KAAK,CAAC,MAAM,CAAC,CAAC,KAAK,KAAK,CAAC,CAAC,CAAC;oBAChC,IAAI,CAAC,KAAK,CAAC,MAAM,CAAC,CAAC,GAAG,KAAK,CAAC;oBAC5B,IAAI,CAAC,SAAS,CAAC,KAAK,CAAC,UAAU,CAAC,SAAS,CAAC,CAAC;gBAC/C,CAAC;YACL,CAAC;;;WAPA;QASD,sBAAI,4BAAK;iBAAT;gBACI,MAAM,CAAC,IAAI,CAAC,KAAK,CAAC,IAAI,CAAC,KAAK,CAAC;YACjC,CAAC;iBAED,UAAU,KAAa;gBACnB,EAAE,CAAC,CAAC,IAAI,CAAC,KAAK,CAAC,IAAI,CAAC,KAAK,KAAK,KAAK,CAAC,CAAC,CAAC;oBAClC,IAAI,CAAC,KAAK,CAAC,IAAI,CAAC,KAAK,GAAG,KAAK,CAAC;oBAC9B,IAAI,CAAC,SAAS,CAAC,KAAK,CAAC,UAAU,CAAC,SAAS,GAAG,UAAU,CAAC,OAAO,CAAC,CAAC;gBACpE,CAAC;YACL,CAAC;;;WAPA;QASD,sBAAI,6BAAM;iBAAV;gBACI,MAAM,CAAC,IAAI,CAAC,KAAK,CAAC,IAAI,CAAC,MAAM,CAAC;YAClC,CAAC;iBAED,UAAW,KAAa;gBACpB,EAAE,CAAC,CAAC,IAAI,CAAC,KAAK,CAAC,IAAI,CAAC,MAAM,KAAK,KAAK,CAAC,CAAC,CAAC;oBACnC,IAAI,CAAC,KAAK,CAAC,IAAI,CAAC,MAAM,GAAG,KAAK,CAAC;oBAC/B,IAAI,CAAC,SAAS,CAAC,KAAK,CAAC,UAAU,CAAC,SAAS,GAAG,UAAU,CAAC,OAAO,CAAC,CAAC;gBACpE,CAAC;YACL,CAAC;;;WAPA;QAQL,gBAAC;IAAD,CAjDA,AAiDC,CAjD8B,WAAM,GAiDpC;IAjDY,cAAS,YAiDrB,CAAA;IAED,IAAI,gBAAgB,GAAqB;QACrC,KAAK,EAAE,YAAO,CAAC,MAAM,CAAC,KAAK;QAC3B,IAAI,YAAC,GAAyB,EAAE,GAAwB;YACpD,IAAI,EAAE,GAAG,GAAG,CAAC,QAAQ,CAAC;YACtB,EAAE,CAAC,CAAC,EAAE,CAAC,KAAK,IAAI,CAAC,IAAI,EAAE,CAAC,MAAM,IAAI,CAAC,CAAC,CAAC,CAAC;gBAElC,MAAM,CAAC;YACX,CAAC;YACD,IAAI,GAAG,GAAG,GAAG,CAAC,GAAG,CAAC;YAClB,GAAG,CAAC,SAAS,EAAE,CAAC;YAChB,GAAG,CAAC,IAAI,CAAC,EAAE,CAAC,CAAC,EAAE,EAAE,CAAC,CAAC,EAAE,EAAE,CAAC,KAAK,EAAE,EAAE,CAAC,MAAM,CAAC,CAAC;YAC1C,GAAG,CAAC,SAAS,EAAE,CAAC;QACpB,CAAC;KACJ,CAAC;AACN,CAAC,EAtES,IAAI,KAAJ,IAAI,QAsEb;ACzED,IAAU,IAAI,CA4Bb;AA5BD,WAAU,IAAI,EAAC,CAAC;IACZ;QAII,yBAAY,KAAoB;YAHxB,WAAM,GAAU,IAAI,CAAC;YACrB,aAAQ,GAAG,IAAI,IAAI,CAAC,QAAQ,CAAC,YAAY,EAAE,CAAC;YAGhD,IAAI,CAAC,KAAK,GAAG,IAAI,UAAK,CAAC,KAAK,CAAC,CAAC;QAClC,CAAC;QAED,sBAAI,kCAAK;iBAAT,cAAqB,MAAM,CAAC,IAAI,CAAC,MAAM,CAAC,CAAC,CAAC;iBAC1C,UAAU,KAAY;gBAClB,EAAE,CAAC,CAAC,CAAC,UAAK,CAAC,MAAM,CAAC,IAAI,CAAC,MAAM,EAAE,KAAK,CAAC,CAAC,CAAC,CAAC;oBACpC,IAAI,CAAC,QAAQ,CAAC,EAAE,EAAE,CAAC;gBACvB,CAAC;gBACD,IAAI,CAAC,MAAM,GAAG,KAAK,CAAC;YACxB,CAAC;;;WANyC;QAQ1C,+BAAK,GAAL,UAAM,SAAqB;YACvB,MAAM,CAAC,IAAI,CAAC,QAAQ,CAAC,KAAK,CAAC,SAAS,CAAC,CAAC;QAC1C,CAAC;QAED,+BAAK,GAAL,UAAM,GAA6B,EAAE,MAAgB;QACrD,CAAC;QAED,uCAAa,GAAb;YACI,MAAM,CAAC,IAAI,CAAC,KAAK,CAAC,QAAQ,EAAE,CAAC;QACjC,CAAC;QACL,sBAAC;IAAD,CA1BA,AA0BC,IAAA;IA1BY,oBAAe,kBA0B3B,CAAA;AACL,CAAC,EA5BS,IAAI,KAAJ,IAAI,QA4Bb;AC5BD,IAAU,IAAI,CAoBb;AApBD,WAAU,IAAI,EAAC,CAAC;IAcZ,WAAY,OAAO;QACf,qCAAQ,CAAA;QACR,qCAAQ,CAAA;QACR,2CAAW,CAAA;QACX,uDAAiB,CAAA;IACrB,CAAC,EALW,YAAO,KAAP,YAAO,QAKlB;IALD,IAAY,OAAO,GAAP,YAKX,CAAA;AACL,CAAC,EApBS,IAAI,KAAJ,IAAI,QAoBb;AClBD,IAAU,IAAI,CAiKb;AAjKD,WAAU,IAAI,EAAC,CAAC;IAGZ,IAAO,UAAU,GAAG,IAAI,CAAC,OAAO,CAAC,UAAU,CAAC;IAG5C;QAA0B,wBAAO;QAO7B,cAAY,KAAkB,EAAE,SAA6B;YACzD,kBAAM,KAAK,EAAE,SAAS,CAAC,CAAC;YAPpB,eAAU,GAA2B,IAAI,CAAC;YAC1C,iBAAY,GAA2B,IAAI,CAAC;QAOpD,CAAC;QAED,mBAAI,GAAJ,UAAK,KAAkB,EAAE,SAA6B;YAClD,IAAI,CAAC,KAAK,GAAG,CAAC,KAAK,IAAI,IAAI,SAAI,CAAC,SAAS,EAAE,CAAC,CAAC,KAAK,EAAE,CAAC;YACrD,IAAI,CAAC,SAAS,GAAG,CAAC,SAAS,IAAI,IAAI,YAAO,CAAC,gBAAgB,EAAE,CAAC,CAAC,KAAK,EAAE,CAAC;YACvE,IAAI,CAAC,SAAS,GAAG;gBACb,IAAI,EAAE,YAAO,CAAC,IAAI,CAAC,SAAS,CAAC,QAAQ;gBACrC,EAAE,EAAE,SAAI,CAAC,EAAE,CAAC,SAAS,CAAC,QAAQ;gBAC9B,MAAM,EAAE,SAAI,CAAC,MAAM,CAAC,SAAS,CAAC,QAAQ;gBACtC,GAAG,EAAE,SAAI,CAAC,GAAG,CAAC,SAAS,CAAC,QAAQ;aACnC,CAAC;YACF,IAAI,CAAC,OAAO,GAAG,YAAO,CAAC,KAAK,CAAC;QACjC,CAAC;QAED,sBAAI,sBAAI;iBAAR,cAAqB,MAAM,CAAC,IAAI,CAAC,KAAK,CAAC,IAAI,CAAC,CAAC,CAAC;iBAC9C,UAAS,KAAa;gBAAtB,iBAgBC;gBAfG,EAAE,CAAC,CAAC,IAAI,CAAC,UAAU,CAAC,CAAC,CAAC;oBAClB,IAAI,CAAC,UAAU,CAAC,OAAO,EAAE,CAAC;oBAC1B,IAAI,CAAC,UAAU,GAAG,IAAI,CAAC;gBAC3B,CAAC;gBACD,EAAE,CAAC,CAAC,CAAC,CAAC,KAAK,CAAC,KAAK,CAAC,CAAC,IAAI,CAAC,KAAK,CAAC,IAAI,CAAC,CAAC,CAAC,CAAC;oBAElC,IAAI,CAAC,SAAS,CAAC,KAAK,CAAC,UAAU,CAAC,OAAO,CAAC,CAAC,UAAU,EAAE,CAAC;gBAC1D,CAAC;gBACD,EAAE,CAAC,CAAC,KAAK,KAAK,IAAI,CAAC,KAAK,CAAC,IAAI,CAAC,CAAC,CAAC;oBAC5B,IAAI,CAAC,KAAK,CAAC,IAAI,GAAG,KAAK,CAAC;oBACxB,IAAI,CAAC,SAAS,CAAC,UAAU,EAAE,CAAC;gBAChC,CAAC;gBACD,EAAE,CAAC,CAAC,KAAK,CAAC,CAAC,CAAC;oBACR,IAAI,CAAC,UAAU,GAAG,KAAK,CAAC,KAAK,CAAC,cAAM,OAAA,KAAI,CAAC,SAAS,CAAC,UAAU,EAAE,EAA3B,CAA2B,CAAC,CAAC;gBACrE,CAAC;YACL,CAAC;;;WAjB6C;QAmB9C,sBAAI,wBAAM;iBAAV,cAAuB,MAAM,CAAC,IAAI,CAAC,KAAK,CAAC,MAAM,CAAC,CAAC,CAAC;iBAClD,UAAW,KAAa;gBAAxB,iBAgBC;gBAfG,EAAE,CAAC,CAAC,IAAI,CAAC,YAAY,CAAC,CAAC,CAAC;oBACpB,IAAI,CAAC,YAAY,CAAC,OAAO,EAAE,CAAC;oBAC5B,IAAI,CAAC,YAAY,GAAG,IAAI,CAAC;gBAC7B,CAAC;gBACD,EAAE,CAAC,CAAC,CAAC,CAAC,KAAK,CAAC,KAAK,CAAC,CAAC,IAAI,CAAC,KAAK,CAAC,MAAM,CAAC,CAAC,CAAC,CAAC;oBAEpC,IAAI,CAAC,SAAS,CAAC,KAAK,CAAC,UAAU,CAAC,OAAO,CAAC,CAAC,UAAU,EAAE,CAAC;gBAC1D,CAAC;gBACD,EAAE,CAAC,CAAC,KAAK,KAAK,IAAI,CAAC,KAAK,CAAC,MAAM,CAAC,CAAC,CAAC;oBAC9B,IAAI,CAAC,KAAK,CAAC,MAAM,GAAG,KAAK,CAAC;oBAC1B,IAAI,CAAC,SAAS,CAAC,UAAU,EAAE,CAAC;gBAChC,CAAC;gBACD,EAAE,CAAC,CAAC,KAAK,CAAC,CAAC,CAAC;oBACR,IAAI,CAAC,YAAY,GAAG,KAAK,CAAC,KAAK,CAAC,cAAM,OAAA,KAAI,CAAC,SAAS,CAAC,UAAU,EAAE,EAA3B,CAA2B,CAAC,CAAC;gBACvE,CAAC;YACL,CAAC;;;WAjBiD;QAmBlD,sBAAI,iCAAe;iBAAnB,cAAgC,MAAM,CAAC,IAAI,CAAC,KAAK,CAAC,eAAe,CAAC,CAAC,CAAC;iBACpE,UAAoB,KAAa;gBAC7B,EAAE,CAAC,CAAC,KAAK,KAAK,IAAI,CAAC,KAAK,CAAC,eAAe,CAAC,CAAC,CAAC;oBACvC,IAAI,CAAC,KAAK,CAAC,eAAe,GAAG,KAAK,CAAC;oBACnC,IAAI,CAAC,SAAS,CAAC,KAAK,CAAC,UAAU,CAAC,OAAO,CAAC,CAAC;gBAC7C,CAAC;YACL,CAAC;;;WANmE;QAQpE,sBAAI,mBAAC;iBAAL;gBACI,MAAM,CAAC,IAAI,CAAC,KAAK,CAAC,MAAM,CAAC,CAAC,CAAC;YAC/B,CAAC;iBAED,UAAM,KAAa;gBACf,EAAE,CAAC,CAAC,IAAI,CAAC,KAAK,CAAC,MAAM,CAAC,CAAC,KAAK,KAAK,CAAC,CAAC,CAAC;oBAChC,IAAI,CAAC,KAAK,CAAC,MAAM,CAAC,CAAC,GAAG,KAAK,CAAC;oBAC5B,IAAI,CAAC,SAAS,CAAC,KAAK,CAAC,UAAU,CAAC,SAAS,CAAC,CAAC;gBAC/C,CAAC;YACL,CAAC;;;WAPA;QASD,sBAAI,mBAAC;iBAAL;gBACI,MAAM,CAAC,IAAI,CAAC,KAAK,CAAC,MAAM,CAAC,CAAC,CAAC;YAC/B,CAAC;iBAED,UAAM,KAAa;gBACf,EAAE,CAAC,CAAC,IAAI,CAAC,KAAK,CAAC,MAAM,CAAC,CAAC,KAAK,KAAK,CAAC,CAAC,CAAC;oBAChC,IAAI,CAAC,KAAK,CAAC,MAAM,CAAC,CAAC,GAAG,KAAK,CAAC;oBAC5B,IAAI,CAAC,SAAS,CAAC,KAAK,CAAC,UAAU,CAAC,SAAS,CAAC,CAAC;gBAC/C,CAAC;YACL,CAAC;;;WAPA;QASD,sBAAI,sBAAI;iBAAR;gBACI,MAAM,CAAC,IAAI,CAAC,KAAK,CAAC,IAAI,CAAC;YAC3B,CAAC;iBAED,UAAS,KAAa;gBAClB,IAAI,CAAC,KAAK,CAAC,IAAI,GAAG,KAAK,CAAC;gBACxB,IAAI,CAAC,SAAS,CAAC,KAAK,CAAC,UAAU,CAAC,IAAI,CAAC,CAAC;YAC1C,CAAC;;;WALA;QAOD,sBAAI,4BAAU;iBAAd;gBACI,MAAM,CAAC,IAAI,CAAC,KAAK,CAAC,IAAI,CAAC,MAAM,CAAC;YAClC,CAAC;iBAED,UAAe,KAAa;gBACxB,EAAE,CAAC,CAAC,IAAI,CAAC,KAAK,CAAC,IAAI,CAAC,MAAM,KAAK,KAAK,CAAC,CAAC,CAAC;oBACnC,IAAI,CAAC,KAAK,CAAC,IAAI,CAAC,MAAM,GAAG,KAAK,CAAC;oBAC/B,IAAI,CAAC,SAAS,CAAC,KAAK,CAAC,UAAU,CAAC,IAAI,CAAC,CAAC;gBAC1C,CAAC;YACL,CAAC;;;WAPA;QASD,sBAAI,0BAAQ;iBAAZ;gBACI,MAAM,CAAC,IAAI,CAAC,KAAK,CAAC,IAAI,CAAC,IAAI,CAAC;YAChC,CAAC;iBAED,UAAa,KAAa;gBACtB,EAAE,CAAC,CAAC,IAAI,CAAC,KAAK,CAAC,IAAI,CAAC,IAAI,KAAK,KAAK,CAAC,CAAC,CAAC;oBACjC,IAAI,CAAC,KAAK,CAAC,IAAI,CAAC,IAAI,GAAG,KAAK,CAAC;oBAC7B,IAAI,CAAC,SAAS,CAAC,KAAK,CAAC,UAAU,CAAC,IAAI,CAAC,CAAC;gBAC1C,CAAC;YACL,CAAC;;;WAPA;QASD,sBAAI,6BAAW;iBAAf;gBACI,MAAM,CAAC,IAAI,CAAC,KAAK,CAAC,IAAI,CAAC,OAAO,CAAC;YACnC,CAAC;iBAED,UAAgB,KAAa;gBACzB,EAAE,CAAC,CAAC,IAAI,CAAC,KAAK,CAAC,IAAI,CAAC,OAAO,KAAK,KAAK,CAAC,CAAC,CAAC;oBACpC,IAAI,CAAC,KAAK,CAAC,IAAI,CAAC,OAAO,GAAG,KAAK,CAAC;oBAChC,IAAI,CAAC,SAAS,CAAC,KAAK,CAAC,UAAU,CAAC,IAAI,CAAC,CAAC;gBAC1C,CAAC;YACL,CAAC;;;WAPA;QASD,sBAAI,2BAAS;iBAAb;gBACI,MAAM,CAAC,IAAI,CAAC,KAAK,CAAC,IAAI,CAAC,KAAK,CAAC;YACjC,CAAC;iBAED,UAAc,KAAa;gBACvB,EAAE,CAAC,CAAC,IAAI,CAAC,KAAK,CAAC,IAAI,CAAC,KAAK,KAAK,KAAK,CAAC,CAAC,CAAC;oBAClC,IAAI,CAAC,KAAK,CAAC,IAAI,CAAC,KAAK,GAAG,KAAK,CAAC;oBAC9B,IAAI,CAAC,SAAS,CAAC,KAAK,CAAC,UAAU,CAAC,IAAI,CAAC,CAAC;gBAC1C,CAAC;YACL,CAAC;;;WAPA;QASD,sBAAI,4BAAU;iBAAd;gBACI,MAAM,CAAC,IAAI,CAAC,KAAK,CAAC,IAAI,CAAC,MAAM,CAAC;YAClC,CAAC;iBAED,UAAe,KAAiB;gBAC5B,EAAE,CAAC,CAAC,IAAI,CAAC,KAAK,CAAC,IAAI,CAAC,MAAM,KAAK,KAAK,CAAC,CAAC,CAAC;oBACnC,IAAI,CAAC,KAAK,CAAC,IAAI,CAAC,MAAM,GAAG,KAAK,CAAC;oBAC/B,IAAI,CAAC,SAAS,CAAC,KAAK,CAAC,UAAU,CAAC,IAAI,CAAC,CAAC;gBAC1C,CAAC;YACL,CAAC;;;WAPA;QAQL,WAAC;IAAD,CA1JA,AA0JC,CA1JyB,YAAO,GA0JhC;IA1JY,SAAI,OA0JhB,CAAA;AACL,CAAC,EAjKS,IAAI,KAAJ,IAAI,QAiKb;ACnKD,IAAU,IAAI,CAiDb;AAjDD,WAAU,IAAI,EAAC,CAAC;IACZ;QAII,eAAmB,QAA8B;YAA9B,aAAQ,GAAR,QAAQ,CAAsB;YAHzC,YAAO,GAAG,KAAK,CAAC;YAChB,WAAM,GAAW,CAAC,CAAC;QAG3B,CAAC;QAED,sBAAM,GAAN;YAAA,iBAGC;YAFG,IAAI,CAAC,OAAO,GAAG,IAAI,CAAC;YACpB,IAAI,CAAC,MAAM,GAAG,OAAO,CAAC,OAAO,CAAC,UAAC,GAAG,IAAK,OAAA,KAAI,CAAC,OAAO,CAAC,GAAG,CAAC,EAAjB,CAAiB,CAAC,CAAC;QAC9D,CAAC;QAED,uBAAO,GAAP;YACI,IAAI,CAAC,OAAO,GAAG,KAAK,CAAC;YACrB,EAAE,CAAC,CAAC,IAAI,CAAC,MAAM,CAAC,CAAC,CAAC;gBACd,OAAO,CAAC,MAAM,CAAC,IAAI,CAAC,MAAM,CAAC,CAAC;gBAC5B,IAAI,CAAC,MAAM,GAAG,CAAC,CAAC;YACpB,CAAC;QACL,CAAC;QAES,uBAAO,GAAjB,UAAkB,GAAW;YAA7B,iBAGC;YAFG,IAAI,CAAC,QAAQ,IAAI,IAAI,CAAC,QAAQ,CAAC,GAAG,CAAC,CAAC;YACpC,IAAI,CAAC,MAAM,GAAG,OAAO,CAAC,OAAO,CAAC,UAAC,GAAG,IAAK,OAAA,KAAI,CAAC,OAAO,CAAC,GAAG,CAAC,EAAjB,CAAiB,CAAC,CAAC;QAC9D,CAAC;QACL,YAAC;IAAD,CAxBA,AAwBC,IAAA;IAxBY,UAAK,QAwBjB,CAAA;IAED,IAAU,OAAO,CAqBhB;IArBD,WAAU,OAAO,EAAC,CAAC;QACf,IAAI,GAAG,GAAG,MAAM,CAAC,qBAAqB;eACzB,MAAO,CAAC,2BAA2B;eACnC,MAAO,CAAC,wBAAwB;eAChC,MAAO,CAAC,sBAAsB;eAC9B,MAAO,CAAC,uBAAuB;eACrC,CAAC,UAAC,QAAQ,IAAK,OAAA,MAAM,CAAC,UAAU,CAAC,QAAQ,EAAE,IAAI,GAAG,GAAG,CAAC,EAAvC,CAAuC,CAAC,CAAC;QAC/D,IAAI,GAAG,GAAG,MAAM,CAAC,oBAAoB;eACxB,MAAO,CAAC,0BAA0B;eAClC,MAAO,CAAC,uBAAuB;eAC/B,MAAO,CAAC,qBAAqB;eAC7B,MAAO,CAAC,sBAAsB;eACpC,CAAC,UAAC,MAAc,IAAK,OAAA,MAAM,CAAC,YAAY,CAAC,MAAM,CAAC,EAA3B,CAA2B,CAAC,CAAC;QAEzD,iBAAwB,QAA8B;YAClD,MAAM,CAAC,GAAG,CAAC,QAAQ,CAAC,CAAC;QACzB,CAAC;QAFe,eAAO,UAEtB,CAAA;QAED,gBAAuB,MAAc;YACjC,MAAM,CAAC,GAAG,CAAC,MAAM,CAAC,CAAC;QACvB,CAAC;QAFe,cAAM,SAErB,CAAA;IACL,CAAC,EArBS,OAAO,KAAP,OAAO,QAqBhB;AACL,CAAC,EAjDS,IAAI,KAAJ,IAAI,QAiDb;ACjDD,IAAU,IAAI,CAyDb;AAzDD,WAAU,IAAI;IAAC,IAAA,OAAO,CAyDrB;IAzDc,WAAA,OAAO,EAAC,CAAC;QAcpB;YAAA;gBACY,WAAM,GAAG,kBAAU,CAAC,IAAI,CAAC;gBAKjC,cAAS,GAAG,EAAE,CAAC,IAAI,CAAC,QAAQ,EAAE,CAAC;gBAC/B,YAAO,GAAG,EAAE,CAAC,OAAO,CAAC,IAAI,CAAC,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,CAAC,CAAC;gBACtC,YAAO,GAAG,EAAE,CAAC,IAAI,CAAC,IAAI,CAAC,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,CAAC,CAAC;gBAEnC,UAAK,GAAG,EAAE,CAAC,IAAI,CAAC,IAAI,CAAC,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,CAAC,CAAC;YAgCrC,CAAC;YA9BG,kCAAO,GAAP,UAAQ,KAAiB;gBACrB,MAAM,CAAC,CAAC,IAAI,CAAC,MAAM,GAAG,KAAK,CAAC,GAAG,CAAC,CAAC;YACrC,CAAC;YAED,gCAAK,GAAL,UAAM,OAAmB;gBACrB,IAAI,CAAC,MAAM,IAAI,OAAO,CAAC;gBACvB,MAAM,CAAC,IAAI,CAAC;YAChB,CAAC;YAED,kCAAO,GAAP,UAAQ,OAAmB;gBACvB,IAAI,CAAC,MAAM,IAAI,CAAC,OAAO,CAAC;gBACxB,MAAM,CAAC,IAAI,CAAC;YAChB,CAAC;YAED,gCAAK,GAAL;gBACI,IAAI,CAAC,OAAO,GAAG,GAAG,CAAC;gBACnB,IAAI,CAAC,OAAO,GAAG,IAAI,CAAC;gBACpB,EAAE,CAAC,IAAI,CAAC,QAAQ,CAAC,IAAI,CAAC,SAAS,CAAC,CAAC;gBACjC,EAAE,CAAC,OAAO,CAAC,IAAI,CAAC,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,IAAI,CAAC,OAAO,CAAC,CAAC;gBAC1C,EAAE,CAAC,IAAI,CAAC,IAAI,CAAC,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,IAAI,CAAC,OAAO,CAAC,CAAC;gBACvC,EAAE,CAAC,IAAI,CAAC,IAAI,CAAC,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,IAAI,CAAC,KAAK,CAAC,CAAC;gBACrC,IAAI,CAAC,MAAM,GAAG,kBAAU,CAAC,IAAI,CAAC;gBAC9B,MAAM,CAAC,IAAI,CAAC;YAChB,CAAC;YAED,qCAAU,GAAV;gBACI,IAAI,CAAC,KAAK,CAAC,kBAAU,CAAC,UAAU,CAAC,CAAC;gBAClC,EAAE,CAAC,IAAI,CAAC,KAAK,CAAC,IAAI,CAAC,KAAK,EAAE,IAAI,CAAC,OAAO,CAAC,CAAC;gBACxC,MAAM,CAAC,IAAI,CAAC;YAChB,CAAC;YACL,uBAAC;QAAD,CA1CA,AA0CC,IAAA;QA1CY,wBAAgB,mBA0C5B,CAAA;IACL,CAAC,EAzDc,OAAO,GAAP,YAAO,KAAP,YAAO,QAyDrB;AAAD,CAAC,EAzDS,IAAI,KAAJ,IAAI,QAyDb;ACvDD,IAAU,IAAI,CAKb;AALD,WAAU,IAAI;IAAC,IAAA,SAAS,CAKvB;IALc,WAAA,SAAS,EAAC,CAAC;QAGtB;YAAwC,sCAAwB;YAAhE;gBAAwC,8BAAwB;YAChE,CAAC;YAAD,yBAAC;QAAD,CADA,AACC,CADuC,YAAO,CAAC,gBAAgB,GAC/D;QADY,4BAAkB,qBAC9B,CAAA;IACL,CAAC,EALc,SAAS,GAAT,cAAS,KAAT,cAAS,QAKvB;AAAD,CAAC,EALS,IAAI,KAAJ,IAAI,QAKb;ACPD,IAAU,IAAI,CAiDb;AAjDD,WAAU,IAAI;IAAC,IAAA,OAAO,CAiDrB;IAjDc,WAAA,OAAO,EAAC,CAAC;QAmBpB;YAAA;gBACI,YAAO,GAAW,GAAG,CAAC;gBACtB,YAAO,GAAY,IAAI,CAAC;gBACxB,WAAM,GAAG,EAAC,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAC,CAAC;gBACtB,SAAI,GAAG,EAAC,KAAK,EAAE,CAAC,EAAE,MAAM,EAAE,CAAC,EAAC,CAAC;gBAC7B,cAAS,GAAG,EAAE,CAAC,IAAI,CAAC,QAAQ,EAAE,CAAC;gBAC/B,oBAAe,GAAG,EAAC,CAAC,EAAE,GAAG,EAAE,CAAC,EAAE,GAAG,EAAC,CAAC;YAuBvC,CAAC;YArBG,4BAAK,GAAL;gBACI,IAAI,CAAC,OAAO,GAAG,GAAG,CAAC;gBACnB,IAAI,CAAC,OAAO,GAAG,IAAI,CAAC;gBACpB,IAAI,CAAC,MAAM,CAAC,CAAC,GAAG,CAAC,CAAC;gBAClB,IAAI,CAAC,MAAM,CAAC,CAAC,GAAG,CAAC,CAAC;gBAClB,IAAI,CAAC,IAAI,CAAC,KAAK,GAAG,CAAC,CAAC;gBACpB,IAAI,CAAC,IAAI,CAAC,MAAM,GAAG,CAAC,CAAC;gBACrB,EAAE,CAAC,IAAI,CAAC,QAAQ,CAAC,IAAI,CAAC,SAAS,CAAC,CAAC;gBACjC,IAAI,CAAC,eAAe,CAAC,CAAC,GAAG,GAAG,CAAC;gBAC7B,IAAI,CAAC,eAAe,CAAC,CAAC,GAAG,GAAG,CAAC;gBAC7B,MAAM,CAAC,IAAI,CAAC;YAChB,CAAC;YAED,yCAAkB,GAAlB,UAAmB,IAAuB;gBACtC,IAAI,EAAE,GAAG,IAAI,CAAC,eAAe,EACzB,IAAI,GAAG,IAAI,CAAC,IAAI,CAAC;gBACrB,MAAM,CAAC;oBACH,CAAC,EAAE,EAAE,CAAC,CAAC,GAAG,IAAI,CAAC,KAAK;oBACpB,CAAC,EAAE,EAAE,CAAC,CAAC,GAAG,IAAI,CAAC,MAAM;iBACxB,CAAC;YACN,CAAC;YACL,mBAAC;QAAD,CA7BA,AA6BC,IAAA;QA7BY,oBAAY,eA6BxB,CAAA;IACL,CAAC,EAjDc,OAAO,GAAP,YAAO,KAAP,YAAO,QAiDrB;AAAD,CAAC,EAjDS,IAAI,KAAJ,IAAI,QAiDb;AC/CD,IAAU,IAAI,CAMb;AAND,WAAU,IAAI;IAAC,IAAA,SAAS,CAMvB;IANc,WAAA,SAAS,EAAC,CAAC;QAItB;YAAoC,kCAAoB;YAAxD;gBAAoC,8BAAoB;YACxD,CAAC;YAAD,qBAAC;QAAD,CADA,AACC,CADmC,YAAO,CAAC,YAAY,GACvD;QADY,wBAAc,iBAC1B,CAAA;IACL,CAAC,EANc,SAAS,GAAT,cAAS,KAAT,cAAS,QAMvB;AAAD,CAAC,EANS,IAAI,KAAJ,IAAI,QAMb;ACRD,IAAU,IAAI,CAKb;AALD,WAAU,IAAI;IAAC,IAAA,MAAM,CAKpB;IALc,WAAA,MAAM,EAAC,CAAC;QACnB,aAAoB,EAAoB,EAAE,GAA8B,EAAE,GAAiB,EAAE,OAA2B;YACpH,IAAI,SAAS,GAAG,EAAE,CAAC,SAAS,CAAC,GAAG,CAAC;YACjC,SAAS,CAAC,OAAO,CAAC,EAAE,EAAE,GAAG,EAAE,GAAG,EAAE,OAAO,CAAC,CAAC;QAC7C,CAAC;QAHe,UAAG,MAGlB,CAAA;IACL,CAAC,EALc,MAAM,GAAN,WAAM,KAAN,WAAM,QAKpB;AAAD,CAAC,EALS,IAAI,KAAJ,IAAI,QAKb;ACHD,IAAU,IAAI,CA4Db;AA5DD,WAAU,IAAI;IAAC,IAAA,MAAM,CA4DpB;IA5Dc,WAAA,MAAM,EAAC,CAAC;QAMnB,iBAAwB,EAAoB,EAAE,MAAyB;YACnE,MAAM,CAAC,EAAE,EAAE,MAAM,CAAC,CAAC;YACnB,IAAI,WAAW,GAAgC,EAAE,CAAC;YAClD,GAAG,CAAC,CAAC,IAAI,MAAM,GAAG,SAAI,CAAC,SAAS,CAAC,EAAE,CAAC,EAAE,GAAG,GAAG,MAAM,CAAC,IAAI,EAAE,EAAE,CAAC,CAAC,GAAG,EAAE,GAAG,GAAG,MAAM,CAAC,IAAI,EAAE,EAAE,CAAC;gBACpF,OAAO,CAAC,GAAG,EAAE,EAAE,CAAC,CAAC;gBACjB,WAAW,CAAC,IAAI,CAAC,GAAG,CAAC,SAAS,CAAC,CAAC;YACpC,CAAC;YACD,IAAI,CAAC,EAAE,EAAE,MAAM,EAAE,WAAW,CAAC,CAAC;QAClC,CAAC;QARe,cAAO,UAQtB,CAAA;QAED,IAAM,oBAAoB,GAAkC;YACxD,OAAO,EAAE,GAAG;YACZ,OAAO,EAAE,IAAI;YACb,SAAS,EAAE,EAAE,CAAC,IAAI,CAAC,QAAQ,EAAE;YAC7B,OAAO,EAAE,EAAE,CAAC,IAAI,CAAC,IAAI,CAAC,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,CAAC;YACjC,OAAO,YAAC,KAAiB;gBACrB,MAAM,CAAC,KAAK,CAAA;YAChB,CAAC;YACD,KAAK,YAAC,OAAmB;YACzB,CAAC;YACD,OAAO,YAAC,OAAmB;YAC3B,CAAC;YACD,KAAK;YACL,CAAC;SACJ,CAAC;QAEF,gBAAgB,EAAoB,EAAE,MAAwB;YAC1D,IAAI,SAAS,GAAG,EAAE,CAAC,SAAS,CAAC,IAAI,CAAC;YAClC,IAAI,GAAG,GAA+B;gBAClC,MAAM,EAAE,SAAI,CAAC,SAAS,CAAC,EAAE,CAAC;gBAC1B,KAAK,EAAE,EAAE,CAAC,KAAK;gBACf,SAAS,EAAE,EAAE,CAAC,SAAS;gBACvB,UAAU,EAAE,MAAM,GAAG,MAAM,CAAC,SAAS,GAAG,oBAAoB;aAC/D,CAAC;YACF,EAAE,CAAC,CAAC,SAAS,CAAC,SAAS,CAAC,GAAG,CAAC,CAAC,CAAC,CAAC;gBAC3B,SAAS,CAAC,OAAO,CAAC,GAAG,CAAC,CAAC;gBACvB,SAAS,CAAC,KAAK,CAAC,GAAG,CAAC,CAAC;YACzB,CAAC;QACL,CAAC;QAED,cAAc,EAAoB,EAAE,MAAwB,EAAE,WAAwC;YAClG,IAAI,SAAS,GAAG,EAAE,CAAC,SAAS,CAAC,EAAE,CAAC;YAChC,IAAI,GAAG,GAA6B;gBAChC,KAAK,EAAE,EAAE,CAAC,KAAK;gBACf,SAAS,EAAE,EAAE,CAAC,SAAS;gBACvB,WAAW,EAAE,WAAW;aAC3B,CAAC;YACF,EAAE,CAAC,CAAC,SAAS,CAAC,SAAS,CAAC,GAAG,CAAC,CAAC,CAAC,CAAC;gBAC3B,IAAI,IAAI,GAAG,SAAS,CAAC,OAAO,CAAC,GAAG,CAAC,CAAC;gBAClC,EAAE,CAAC,CAAC,MAAM,CAAC;oBACP,MAAM,CAAC,SAAS,CAAC,KAAK,CAAC,IAAI,CAAC,CAAC;gBACjC,SAAS,CAAC,KAAK,CAAC,GAAG,CAAC,CAAC;YACzB,CAAC;QACL,CAAC;IACL,CAAC,EA5Dc,MAAM,GAAN,WAAM,KAAN,WAAM,QA4DpB;AAAD,CAAC,EA5DS,IAAI,KAAJ,IAAI,QA4Db;AC9DD,IAAU,IAAI,CA4Jb;AA5JD,WAAU,IAAI;IAAC,IAAA,MAAM,CA4JpB;IA5Jc,WAAA,MAAM,EAAC,CAAC;QACnB,IAAO,IAAI,GAAG,EAAE,CAAC,IAAI,CAAC;QAEtB,IAAI,IAAI,GAAa;YACjB,MAAM;YACN,QAAQ;YACR,OAAO;YACP,MAAM;SACT,CAAC;QACF,IAAI,KAAK,GAAa;YAClB,OAAO;YACP,OAAO;YACP,OAAO;SACV,CAAC;QACF;YAOI;gBANQ,iBAAY,GAAG,EAAE,CAAC;gBAC1B,qBAAgB,GAAG,IAAI,CAAC,QAAQ,EAAE,CAAC;gBAM/B,MAAM,CAAC,gBAAgB,CAAC,IAAI,EAAE;oBAC1B,kBAAkB,EAAE,EAAC,KAAK,EAAE,IAAI,CAAC,QAAQ,EAAE,EAAE,QAAQ,EAAE,KAAK,EAAC;oBAC7D,aAAa,EAAE,EAAC,KAAK,EAAE,aAAa,CAAC,WAAW,EAAE,QAAQ,EAAE,KAAK,EAAC;oBAClE,MAAM,EAAE,EAAC,KAAK,EAAE,IAAI,wBAAiB,EAAE,EAAE,QAAQ,EAAE,KAAK,EAAC;iBAC5D,CAAC,CAAC;YACP,CAAC;YAED,sBAAW,4BAAW;qBAAtB;oBACI,EAAE,CAAC,CAAC,SAAS,CAAC,OAAO,KAAK,6BAA6B,CAAC,CAAC,CAAC;wBACtD,IAAI,OAAO,GAAG,YAAY,EAAE,CAAC;wBAC7B,MAAM,CAAC,OAAO,GAAG,CAAC,IAAI,OAAO,GAAG,EAAE,CAAC;oBACvC,CAAC;oBACD,MAAM,CAAC,IAAI,CAAC;gBAChB,CAAC;;;eAAA;YAED,4BAAI,GAAJ,UAAK,GAA6B;gBAC9B,MAAM,CAAC,gBAAgB,CAAC,IAAI,EAAE;oBAC1B,KAAK,EAAE,EAAC,KAAK,EAAE,GAAG,EAAE,QAAQ,EAAE,KAAK,EAAC;iBACvC,CAAC,CAAC;gBACH,IAAI,CAAC,IAAI,CAAC,IAAI,CAAC,GAAG,CAAC,CAAC;gBACpB,MAAM,CAAC,IAAI,CAAC;YAChB,CAAC;YAED,qCAAa,GAAb;gBACI,IAAI,KAAK,GAAG,IAAI,CAAC,IAAI,CAAC,QAAQ,CAAC;gBAC/B,IAAI,CAAC,KAAK,CAAC,KAAK,EAAE,KAAK,CAAC,CAAC;YAC7B,CAAC;YAED,4BAAI,GAAJ;gBACI,IAAI,CAAC,YAAY,CAAC,IAAI,CAAC,IAAI,CAAC,MAAM,CAAC,IAAI,CAAC,gBAAgB,CAAC,CAAC,CAAC;gBAC3D,IAAI,CAAC,GAAG,CAAC,IAAI,EAAE,CAAC;YACpB,CAAC;YAED,+BAAO,GAAP;gBACI,IAAI,GAAG,GAAG,IAAI,CAAC,YAAY,CAAC,GAAG,EAAE,CAAC;gBAClC,EAAE,CAAC,CAAC,GAAG,CAAC;oBACJ,IAAI,CAAC,MAAM,CAAC,GAAG,EAAE,IAAI,CAAC,gBAAgB,CAAC,CAAC;gBAC5C,IAAI,CAAC,GAAG,CAAC,OAAO,EAAE,CAAC;YACvB,CAAC;YAED,oCAAY,GAAZ,UAAa,GAAW,EAAE,GAAW,EAAE,GAAW,EAAE,GAAW,EAAE,EAAU,EAAE,EAAU;gBACnF,IAAI,CAAC,IAAI,CAAC,IAAI,CAAC,gBAAgB,EAAE,GAAG,EAAE,GAAG,EAAE,GAAG,EAAE,GAAG,EAAE,EAAE,EAAE,EAAE,CAAC,CAAC;gBAC7D,IAAI,CAAC,GAAG,CAAC,YAAY,CAAC,GAAG,EAAE,GAAG,EAAE,GAAG,EAAE,GAAG,EAAE,EAAE,EAAE,EAAE,CAAC,CAAC;YACtD,CAAC;YAED,sCAAc,GAAd;gBACI,IAAI,CAAC,QAAQ,CAAC,IAAI,CAAC,gBAAgB,CAAC,CAAC;gBACrC,IAAI,GAAG,GAAQ,IAAI,CAAC,GAAG,CAAC;gBACxB,EAAE,CAAC,CAAC,GAAG,CAAC,cAAc,CAAC;oBACnB,GAAG,CAAC,cAAc,EAAE,CAAC;YAC7B,CAAC;YAED,iCAAS,GAAT,UAAU,GAAW,EAAE,GAAW,EAAE,GAAW,EAAE,GAAW,EAAE,EAAU,EAAE,EAAU;gBAChF,IAAI,EAAE,GAAG,IAAI,CAAC,gBAAgB,CAAC;gBAC/B,IAAI,CAAC,QAAQ,CAAC,EAAE,EAAE,IAAI,CAAC,MAAM,CAAC,CAAC,GAAG,EAAE,GAAG,EAAE,GAAG,EAAE,GAAG,EAAE,EAAE,EAAE,EAAE,CAAC,CAAC,EAAE,EAAE,CAAC,CAAC;gBACjE,IAAI,CAAC,GAAG,CAAC,SAAS,CAAC,GAAG,EAAE,GAAG,EAAE,GAAG,EAAE,GAAG,EAAE,EAAE,EAAE,EAAE,CAAC,CAAC;YACnD,CAAC;YAED,6BAAK,GAAL,UAAM,CAAS,EAAE,CAAS;gBACtB,IAAI,CAAC,KAAK,CAAC,IAAI,CAAC,gBAAgB,EAAE,CAAC,EAAE,CAAC,CAAC,CAAC;gBACxC,IAAI,CAAC,GAAG,CAAC,KAAK,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC;YACzB,CAAC;YAED,8BAAM,GAAN,UAAO,KAAa;gBAChB,IAAI,EAAE,GAAG,IAAI,CAAC,gBAAgB,CAAC;gBAC/B,IAAI,CAAC,GAAG,IAAI,CAAC,YAAY,CAAC,KAAK,CAAC,CAAC;gBACjC,IAAI,CAAC,QAAQ,CAAC,EAAE,EAAE,CAAC,EAAE,EAAE,CAAC,CAAC;gBACzB,IAAI,CAAC,GAAG,CAAC,MAAM,CAAC,KAAK,CAAC,CAAC;YAC3B,CAAC;YAED,iCAAS,GAAT,UAAU,CAAS,EAAE,CAAS;gBAC1B,IAAI,CAAC,SAAS,CAAC,IAAI,CAAC,gBAAgB,EAAE,CAAC,EAAE,CAAC,CAAC,CAAC;gBAC5C,IAAI,CAAC,GAAG,CAAC,SAAS,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC;YAC7B,CAAC;YAED,6BAAK,GAAL,UAAM,GAAiB;gBACnB,IAAI,EAAE,GAAG,IAAI,CAAC,KAAK,CAAC,IAAI,CAAC,gBAAgB,EAAE,GAAG,CAAC,CAAC;gBAChD,IAAI,CAAC,GAAG,CAAC,YAAY,CAAC,EAAE,CAAC,CAAC,CAAC,EAAE,EAAE,CAAC,CAAC,CAAC,EAAE,EAAE,CAAC,CAAC,CAAC,EAAE,EAAE,CAAC,CAAC,CAAC,EAAE,EAAE,CAAC,CAAC,CAAC,EAAE,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC;YACpE,CAAC;YAED,gCAAQ,GAAR,UAAS,GAAiB;gBACtB,IAAI,EAAE,GAAG,IAAI,CAAC,QAAQ,CAAC,IAAI,CAAC,gBAAgB,EAAE,GAAG,CAAC,CAAC;gBACnD,IAAI,CAAC,GAAG,CAAC,YAAY,CAAC,EAAE,CAAC,CAAC,CAAC,EAAE,EAAE,CAAC,CAAC,CAAC,EAAE,EAAE,CAAC,CAAC,CAAC,EAAE,EAAE,CAAC,CAAC,CAAC,EAAE,EAAE,CAAC,CAAC,CAAC,EAAE,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC;YACpE,CAAC;YAED,gCAAQ,GAAR,UAAS,IAAc;gBACnB,IAAI,GAAG,GAAG,IAAI,CAAC,GAAG,CAAC;gBACnB,GAAG,CAAC,SAAS,EAAE,CAAC;gBAChB,GAAG,CAAC,IAAI,CAAC,IAAI,CAAC,CAAC,EAAE,IAAI,CAAC,CAAC,EAAE,IAAI,CAAC,KAAK,EAAE,IAAI,CAAC,MAAM,CAAC,CAAC;gBAClD,GAAG,CAAC,IAAI,EAAE,CAAC;YACf,CAAC;YAED,8BAAM,GAAN,UAAO,MAAgB,EAAE,KAAa,EAAE,QAAmB;gBACvD,IAAI,GAAG,GAAG,IAAI,CAAC,GAAG,CAAC;gBACnB,KAAK,CAAC,KAAK,CAAC,GAAG,EAAE,MAAM,CAAC,CAAC;gBACzB,GAAG,CAAC,SAAS,GAAG,KAAK,CAAC,aAAa,EAAE,CAAC;gBACtC,EAAE,CAAC,CAAC,QAAQ,IAAI,IAAI,CAAC,CAAC,CAAC;oBACb,GAAI,CAAC,QAAQ,GAAG,GAAG,CAAC,UAAU,GAAG,SAAS,CAAC;oBACjD,GAAG,CAAC,IAAI,EAAE,CAAC;gBACf,CAAC;gBAAC,IAAI,CAAC,CAAC;oBACJ,IAAI,EAAE,GAAG,QAAQ,KAAK,aAAQ,CAAC,OAAO,GAAG,SAAS,GAAG,SAAS,CAAC;oBACzD,GAAI,CAAC,QAAQ,GAAG,GAAG,CAAC,UAAU,GAAG,EAAE,CAAC;oBAC1C,GAAG,CAAC,IAAI,CAAC,EAAE,CAAC,CAAC;gBACjB,CAAC;YACL,CAAC;YAED,gCAAQ,GAAR,UAAS,MAAgB,EAAE,KAAa,EAAE,SAAiB;gBACvD,IAAI,GAAG,GAAG,IAAI,CAAC,GAAG,CAAC;gBACnB,KAAK,CAAC,KAAK,CAAC,GAAG,EAAE,MAAM,CAAC,CAAC;gBACzB,GAAG,CAAC,WAAW,GAAG,KAAK,CAAC,aAAa,EAAE,CAAC;gBACxC,GAAG,CAAC,SAAS,GAAG,SAAS,CAAC;gBAC1B,GAAG,CAAC,MAAM,EAAE,CAAC;YACjB,CAAC;YAED,yCAAiB,GAAjB,UAAkB,CAAS,EAAE,CAAS,EAAE,SAAiB;gBACrD,IAAI,GAAG,GAAG,IAAI,CAAC,GAAG,CAAC;gBACnB,GAAG,CAAC,SAAS,GAAG,SAAS,CAAC;gBAC1B,MAAM,CAAC,GAAG,CAAC,eAAe,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC;YACrC,CAAC;YAED,uCAAe,GAAf,UAAgB,OAAmB,EAAE,QAAqB,EAAE,UAAkB;gBAC1E,IAAI,GAAG,GAAG,IAAI,CAAC,GAAG,CAAC;gBACnB,GAAG,CAAC,OAAO,GAAG,IAAI,CAAC,OAAO,IAAI,CAAC,CAAC,IAAI,IAAI,CAAC,CAAC,CAAC,CAAC;gBAC5C,GAAG,CAAC,QAAQ,GAAG,KAAK,CAAC,QAAQ,IAAI,CAAC,CAAC,IAAI,KAAK,CAAC,CAAC,CAAC,CAAC;gBAChD,GAAG,CAAC,UAAU,GAAG,UAAU,CAAC;YAChC,CAAC;YACL,oBAAC;QAAD,CAtIA,AAsIC,IAAA;QAtIY,oBAAa,gBAsIzB,CAAA;QAED;YACI,IAAI,EAAE,GAAG,IAAI,MAAM,CAAC,6BAA6B,CAAC,CAAC;YACnD,EAAE,CAAC,CAAC,EAAE,CAAC,IAAI,CAAC,SAAS,CAAC,SAAS,CAAC,IAAI,IAAI,CAAC;gBACrC,MAAM,CAAC,UAAU,CAAC,MAAM,CAAC,EAAE,CAAC,CAAC;YACjC,MAAM,CAAC,CAAC,CAAC,CAAC;QACd,CAAC;IACL,CAAC,EA5Jc,MAAM,GAAN,WAAM,KAAN,WAAM,QA4JpB;AAAD,CAAC,EA5JS,IAAI,KAAJ,IAAI,QA4Jb;AC1JD,IAAU,IAAI,CAiBb;AAjBD,WAAU,IAAI;IAAC,IAAA,MAAM,CAiBpB;IAjBc,WAAA,MAAM,EAAC,CAAC;QAGnB,gBAAuB,EAAoB,EAAE,GAAkB,EAAE,MAAgB;YAC7E,IAAI,SAAS,GAAG,EAAE,CAAC,SAAS,CAAC,MAAM,CAAC;YACpC,IAAI,GAAG,GAAsC;gBACzC,MAAM,EAAE,SAAI,CAAC,SAAS,CAAC,EAAE,EAAE,IAAI,CAAC;gBAChC,KAAK,EAAE,EAAE,CAAC,KAAK;gBACf,SAAS,EAAE,EAAE,CAAC,SAAS;gBACvB,OAAO,EAAmB,EAAG,CAAC,OAAO;gBACrC,GAAG,EAAE,GAAG;gBACR,QAAQ,EAAE,MAAM;gBAChB,SAAS,EAAE,EAAE,CAAC,IAAI,CAAC,IAAI,CAAC,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,CAAC;aACtC,CAAC;YACF,SAAS,CAAC,OAAO,CAAC,GAAG,CAAC,CAAC;YACvB,SAAS,CAAC,KAAK,CAAC,GAAG,CAAC,CAAC;QACzB,CAAC;QAbe,aAAM,SAarB,CAAA;IACL,CAAC,EAjBc,MAAM,GAAN,WAAM,KAAN,WAAM,QAiBpB;AAAD,CAAC,EAjBS,IAAI,KAAJ,IAAI,QAiBb;ACnBD,IAAU,IAAI,CA+Cb;AA/CD,WAAU,IAAI;IAAC,IAAA,GAAG,CA+CjB;IA/Cc,WAAA,GAAG;QAAC,IAAA,OAAO,CA+CzB;QA/CkB,WAAA,SAAO,EAAC,CAAC;YAExB,IAAO,IAAI,GAAG,EAAE,CAAC,IAAI,CAAC;YAEtB,cAAqB,OAAiB,EAAE,OAAgB,EAAE,OAAiB,EAAE,IAAc;gBACvF,EAAE,CAAC,CAAC,IAAI,CAAC,OAAO,CAAC,OAAO,CAAC,CAAC;oBACtB,IAAI,CAAC,KAAK,GAAG,IAAI,CAAC,MAAM,GAAG,CAAC,CAAC;gBACjC,IAAI,MAAM,GAAG,IAAI,CAAC,OAAO,CAAC,CAAC;gBAC3B,MAAM,IAAI,MAAM,CAAC,OAAO,EAAE,OAAO,EAAE,IAAI,CAAC,CAAC;YAC7C,CAAC;YALe,cAAI,OAKnB,CAAA;YAQD,IAAI,IAAI,GAAgB,EAAE,CAAC;YAC3B,IAAI,CAAC,YAAO,CAAC,IAAI,CAAC,GAAG,UAAC,KAAe,EAAE,OAAiB,EAAE,IAAc;gBACpE,EAAE,CAAC,IAAI,CAAC,MAAM,CAAC,OAAO,EAAE,KAAK,CAAC,CAAC;YACnC,CAAC,CAAC;YACF,IAAI,CAAC,YAAO,CAAC,IAAI,CAAC,GAAG,UAAC,KAAe,EAAE,OAAiB,EAAE,IAAc;gBACpE,KAAK,CAAC,KAAK,GAAG,IAAI,CAAC,KAAK,CAAC;gBACzB,KAAK,CAAC,MAAM,GAAG,IAAI,CAAC,MAAM,CAAC;YAC/B,CAAC,CAAC;YACF,IAAI,CAAC,YAAO,CAAC,OAAO,CAAC,GAAG,UAAC,KAAe,EAAE,OAAiB,EAAE,IAAc;gBACvE,IAAI,EAAE,GAAG,IAAI,CAAC,KAAK,GAAG,OAAO,CAAC,KAAK,EAC/B,EAAE,GAAG,IAAI,CAAC,MAAM,GAAG,OAAO,CAAC,MAAM,CAAC;gBACtC,KAAK,CAAC,KAAK,GAAG,IAAI,CAAC,KAAK,CAAC;gBACzB,KAAK,CAAC,MAAM,GAAG,IAAI,CAAC,MAAM,CAAC;gBAC3B,EAAE,CAAC,CAAC,EAAE,GAAG,EAAE,CAAC,CAAC,CAAC;oBACV,KAAK,CAAC,MAAM,GAAG,OAAO,CAAC,MAAM,GAAG,EAAE,CAAC;gBACvC,CAAC;gBAAC,IAAI,CAAC,CAAC;oBACJ,KAAK,CAAC,KAAK,GAAG,OAAO,CAAC,KAAK,GAAG,EAAE,CAAC;gBACrC,CAAC;YACL,CAAC,CAAC;YACF,IAAI,CAAC,YAAO,CAAC,aAAa,CAAC,GAAG,UAAC,KAAe,EAAE,OAAiB,EAAE,IAAc;gBAC7E,IAAI,EAAE,GAAG,IAAI,CAAC,KAAK,GAAG,OAAO,CAAC,KAAK,EAC/B,EAAE,GAAG,IAAI,CAAC,MAAM,GAAG,OAAO,CAAC,MAAM,CAAC;gBACtC,KAAK,CAAC,KAAK,GAAG,IAAI,CAAC,KAAK,CAAC;gBACzB,KAAK,CAAC,MAAM,GAAG,IAAI,CAAC,MAAM,CAAC;gBAC3B,EAAE,CAAC,CAAC,EAAE,GAAG,EAAE,CAAC,CAAC,CAAC;oBACV,KAAK,CAAC,MAAM,GAAG,OAAO,CAAC,MAAM,GAAG,EAAE,CAAC;gBACvC,CAAC;gBAAC,IAAI,CAAC,CAAC;oBACJ,KAAK,CAAC,KAAK,GAAG,OAAO,CAAC,KAAK,GAAG,EAAE,CAAC;gBACrC,CAAC;YACL,CAAC,CAAC;QACN,CAAC,EA/CkB,OAAO,GAAP,WAAO,KAAP,WAAO,QA+CzB;IAAD,CAAC,EA/Cc,GAAG,GAAH,QAAG,KAAH,QAAG,QA+CjB;AAAD,CAAC,EA/CS,IAAI,KAAJ,IAAI,QA+Cb;AC/CD,IAAU,IAAI,CAkCb;AAlCD,WAAU,IAAI;IAAC,IAAA,GAAG,CAkCjB;IAlCc,WAAA,GAAG;QAAC,IAAA,SAAS,CAkC3B;QAlCkB,WAAA,WAAS,EAAC,CAAC;YAG1B,IAAO,IAAI,GAAG,EAAE,CAAC,IAAI,CAAC;YAEtB,cAAqB,SAAuB,EAAE,OAAgB,EAAE,OAAiB,EAAE,IAAc;gBAC7F,IAAI,MAAM,GAAG,IAAI,CAAC,OAAO,CAAC,CAAC;gBAC3B,MAAM,IAAI,MAAM,CAAC,SAAS,EAAE,OAAO,EAAE,IAAI,CAAC,CAAC;YAC/C,CAAC;YAHe,gBAAI,OAGnB,CAAA;YAQD,IAAI,IAAI,GAAgB,EAAE,CAAC;YAC3B,IAAI,CAAC,YAAO,CAAC,IAAI,CAAC,GAAG,UAAC,GAAiB,EAAE,OAAiB,EAAE,IAAc;gBACtE,IAAI,CAAC,QAAQ,CAAC,GAAG,CAAC,CAAC;YACvB,CAAC,CAAC;YACF,IAAI,CAAC,YAAO,CAAC,IAAI,CAAC,GAAG,UAAC,GAAiB,EAAE,OAAiB,EAAE,IAAc;gBACtE,IAAI,CAAC,eAAe,CAAC,CAAC,OAAO,CAAC,CAAC,EAAE,CAAC,OAAO,CAAC,CAAC,EAAE,GAAG,CAAC,CAAC;gBAClD,IAAI,CAAC,KAAK,CAAC,GAAG,EAAE,IAAI,CAAC,KAAK,GAAG,OAAO,CAAC,KAAK,EAAE,IAAI,CAAC,MAAM,GAAG,OAAO,CAAC,MAAM,CAAC,CAAC;YAC9E,CAAC,CAAC;YACF,IAAI,CAAC,YAAO,CAAC,OAAO,CAAC,GAAG,UAAC,GAAiB,EAAE,OAAiB,EAAE,IAAc;gBACzE,IAAI,CAAC,eAAe,CAAC,CAAC,OAAO,CAAC,CAAC,EAAE,CAAC,OAAO,CAAC,CAAC,EAAE,GAAG,CAAC,CAAC;gBAClD,IAAI,IAAI,GAAG,IAAI,CAAC,GAAG,CAAC,IAAI,CAAC,KAAK,GAAG,OAAO,CAAC,KAAK,EAAE,IAAI,CAAC,MAAM,GAAG,OAAO,CAAC,MAAM,CAAC,CAAC;gBAC9E,IAAI,CAAC,KAAK,CAAC,GAAG,EAAE,IAAI,EAAE,IAAI,CAAC,CAAC;YAChC,CAAC,CAAC;YACF,IAAI,CAAC,YAAO,CAAC,aAAa,CAAC,GAAG,UAAC,GAAiB,EAAE,OAAiB,EAAE,IAAc;gBAC/E,IAAI,CAAC,eAAe,CAAC,CAAC,OAAO,CAAC,CAAC,EAAE,CAAC,OAAO,CAAC,CAAC,EAAE,GAAG,CAAC,CAAC;gBAClD,IAAI,IAAI,GAAG,IAAI,CAAC,GAAG,CAAC,IAAI,CAAC,KAAK,GAAG,OAAO,CAAC,KAAK,EAAE,IAAI,CAAC,MAAM,GAAG,OAAO,CAAC,MAAM,CAAC,CAAC;gBAC9E,IAAI,CAAC,KAAK,CAAC,GAAG,EAAE,IAAI,EAAE,IAAI,CAAC,CAAC;YAChC,CAAC,CAAC;QACN,CAAC,EAlCkB,SAAS,GAAT,aAAS,KAAT,aAAS,QAkC3B;IAAD,CAAC,EAlCc,GAAG,GAAH,QAAG,KAAH,QAAG,QAkCjB;AAAD,CAAC,EAlCS,IAAI,KAAJ,IAAI,QAkCb;AClCD,IAAU,IAAI,CAcb;AAdD,WAAU,IAAI;IAAC,IAAA,IAAI,CAclB;IAdc,WAAA,MAAI,EAAC,CAAC;QACjB,kBAAyB,IAAW;YAKhC,IAAI,CAAC,GAAG,EAAE,CAAC;YACX,CAAC,IAAI,IAAI,CAAC,KAAK,CAAC,QAAQ,EAAE,GAAG,GAAG,CAAC;YACjC,CAAC,IAAI,SAAS,CAAC;YACf,CAAC,IAAa,IAAI,CAAC,MAAO,CAAC,QAAQ,EAAE,GAAG,GAAG,CAAC;YAC5C,CAAC,IAAI,IAAI,CAAC,IAAI,GAAG,KAAK,CAAC;YACvB,CAAC,IAAI,IAAI,CAAC,MAAM,CAAC,QAAQ,EAAE,CAAC;YAC5B,MAAM,CAAC,CAAC,CAAC;QACb,CAAC;QAZe,eAAQ,WAYvB,CAAA;IACL,CAAC,EAdc,IAAI,GAAJ,SAAI,KAAJ,SAAI,QAclB;AAAD,CAAC,EAdS,IAAI,KAAJ,IAAI,QAcb;ACZD,IAAU,IAAI,CAab;AAbD,WAAU,IAAI;IAAC,IAAA,KAAK,CAanB;IAbc,WAAA,KAAK,EAAC,CAAC;QAIlB;YAAoC,kCAAwB;YAA5D;gBAAoC,8BAAwB;gBACxD,qBAAgB,GAAG,EAAE,CAAC,IAAI,CAAC,QAAQ,EAAE,CAAC;YAO1C,CAAC;YALG,8BAAK,GAAL;gBACI,gBAAK,CAAC,KAAK,WAAE,CAAC;gBACd,EAAE,CAAC,IAAI,CAAC,QAAQ,CAAC,IAAI,CAAC,gBAAgB,CAAC,CAAC;gBACxC,MAAM,CAAC,IAAI,CAAC;YAChB,CAAC;YACL,qBAAC;QAAD,CARA,AAQC,CARmC,YAAO,CAAC,gBAAgB,GAQ3D;QARY,oBAAc,iBAQ1B,CAAA;IACL,CAAC,EAbc,KAAK,GAAL,UAAK,KAAL,UAAK,QAanB;AAAD,CAAC,EAbS,IAAI,KAAJ,IAAI,QAab;ACfD,IAAU,IAAI,CAmEb;AAnED,WAAU,IAAI;IAAC,IAAA,KAAK,CAmEnB;IAnEc,WAAA,KAAK,EAAC,CAAC;QAClB;YAII;gBAJJ,iBAiEC;gBAhEW,QAAG,GAAqB,QAAQ,CAAC,aAAa,CAAC,KAAK,CAAC,CAAC;gBACtD,cAAS,GAAoB,EAAE,CAAC;gBAGpC,IAAI,CAAC,GAAG,CAAC,OAAO,GAAG,UAAC,CAAa,IAAK,OAAA,KAAI,CAAC,SAAS,CAAC,CAAC,CAAC,EAAjB,CAAiB,CAAC;gBACxD,IAAI,CAAC,GAAG,CAAC,MAAM,GAAG,UAAC,CAAC,IAAK,OAAA,KAAI,CAAC,QAAQ,EAAE,EAAf,CAAe,CAAC;YAC7C,CAAC;YAED,2BAAK,GAAL;gBACI,IAAI,CAAC,GAAG,GAAG,EAAE,CAAC;YAClB,CAAC;YAED,sBAAI,4BAAG;qBAAP,cAAoB,MAAM,CAAC,IAAI,CAAC,GAAG,CAAC,GAAG,CAAC,CAAC,CAAC;qBAC1C,UAAQ,KAAa;oBACjB,EAAE,CAAC,CAAC,IAAI,CAAC,GAAG,CAAC,GAAG,KAAK,KAAK,CAAC,CAAC,CAAC;wBACzB,IAAI,CAAC,GAAG,CAAC,GAAG,GAAG,KAAK,CAAC;wBACrB,IAAI,CAAC,SAAS,EAAE,CAAC;oBACrB,CAAC;gBACL,CAAC;;;eANyC;YAQ1C,sBAAI,qCAAY;qBAAhB;oBACI,MAAM,CAAC,IAAI,CAAC,GAAG,CAAC,YAAY,CAAC;gBACjC,CAAC;;;eAAA;YAED,sBAAI,sCAAa;qBAAjB;oBACI,MAAM,CAAC,IAAI,CAAC,GAAG,CAAC,aAAa,CAAC;gBAClC,CAAC;;;eAAA;YAED,0BAAI,GAAJ,UAAK,GAA6B;gBAC9B,GAAG,CAAC,SAAS,CAAC,IAAI,CAAC,GAAG,EAAE,CAAC,EAAE,CAAC,CAAC,CAAC;YAClC,CAAC;YAED,2BAAK,GAAL,UAAM,SAAoB,EAAE,SAAoB,EAAE,QAAmB;gBAArE,iBAaC;gBAZG,IAAI,OAAO,GAAkB;oBACzB,MAAM,EAAE,SAAS;oBACjB,KAAK,EAAE,SAAS;oBAChB,IAAI,EAAE,QAAQ;oBACd,OAAO,EAAE;wBACL,IAAI,GAAG,GAAG,KAAI,CAAC,SAAS,CAAC,OAAO,CAAC,OAAO,CAAC,CAAC;wBAC1C,EAAE,CAAC,CAAC,GAAG,GAAG,CAAC,CAAC,CAAC;4BACT,KAAI,CAAC,SAAS,CAAC,MAAM,CAAC,GAAG,EAAE,CAAC,CAAC,CAAC;oBACtC,CAAC;iBACJ,CAAC;gBACF,IAAI,CAAC,SAAS,CAAC,IAAI,CAAC,OAAO,CAAC,CAAC;gBAC7B,MAAM,CAAC,OAAO,CAAC;YACnB,CAAC;YAES,+BAAS,GAAnB;gBACI,GAAG,CAAC,CAAC,IAAI,QAAQ,GAAG,IAAI,CAAC,SAAS,EAAE,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,QAAQ,CAAC,MAAM,EAAE,CAAC,EAAE,EAAE,CAAC;oBAClE,QAAQ,CAAC,CAAC,CAAC,CAAC,MAAM,EAAE,CAAC;gBACzB,CAAC;YACL,CAAC;YAES,+BAAS,GAAnB,UAAoB,CAAa;gBAC7B,GAAG,CAAC,CAAC,IAAI,QAAQ,GAAG,IAAI,CAAC,SAAS,EAAE,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,QAAQ,CAAC,MAAM,EAAE,CAAC,EAAE,EAAE,CAAC;oBAClE,QAAQ,CAAC,CAAC,CAAC,CAAC,KAAK,CAAC,CAAC,CAAC,KAAK,CAAC,CAAC;gBAC/B,CAAC;YACL,CAAC;YAES,8BAAQ,GAAlB;gBACI,GAAG,CAAC,CAAC,IAAI,QAAQ,GAAG,IAAI,CAAC,SAAS,EAAE,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,QAAQ,CAAC,MAAM,EAAE,CAAC,EAAE,EAAE,CAAC;oBAClE,QAAQ,CAAC,CAAC,CAAC,CAAC,IAAI,EAAE,CAAC;gBACvB,CAAC;YACL,CAAC;YACL,kBAAC;QAAD,CAjEA,AAiEC,IAAA;QAjEY,iBAAW,cAiEvB,CAAA;IACL,CAAC,EAnEc,KAAK,GAAL,UAAK,KAAL,UAAK,QAmEnB;AAAD,CAAC,EAnES,IAAI,KAAJ,IAAI,QAmEb;ACjED,IAAU,IAAI,CAqCb;AArCD,WAAU,IAAI;IAAC,IAAA,KAAK,CAqCnB;IArCc,WAAA,KAAK,EAAC,CAAC;QAQlB;YAAgC,8BAAoB;YAApD;gBAAgC,8BAAoB;gBAChD,WAAM,GAAiB,IAAI,iBAAW,EAAE,CAAC;gBACzC,YAAO,GAAY,YAAO,CAAC,IAAI,CAAC;gBAChC,YAAO,GAAa,EAAE,CAAC,IAAI,CAAC,IAAI,CAAC,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,CAAC,CAAC;YAyBjD,CAAC;YAvBG,0BAAK,GAAL;gBACI,gBAAK,CAAC,KAAK,WAAE,CAAC;gBACd,IAAI,CAAC,MAAM,CAAC,KAAK,EAAE,CAAC;gBACpB,IAAI,CAAC,OAAO,GAAG,YAAO,CAAC,IAAI,CAAC;gBAC5B,EAAE,CAAC,IAAI,CAAC,IAAI,CAAC,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,IAAI,CAAC,OAAO,CAAC,CAAC;gBACvC,MAAM,CAAC,IAAI,CAAC;YAChB,CAAC;YAED,wCAAmB,GAAnB;gBACI,IAAI,IAAI,GAAG,IAAI,CAAC,IAAI,EAChB,OAAO,GAAG,IAAI,CAAC,OAAO,CAAC;gBAC3B,EAAE,CAAC,CAAC,IAAI,CAAC,KAAK,IAAI,CAAC,IAAI,IAAI,CAAC,MAAM,IAAI,CAAC,CAAC,CAAC,CAAC;oBAGtC,MAAM,CAAC,YAAO,CAAC,IAAI,CAAC;gBACxB,CAAC;gBACD,EAAE,CAAC,CAAC,OAAO,CAAC,KAAK,IAAI,CAAC,IAAI,OAAO,CAAC,MAAM,IAAI,CAAC,CAAC,CAAC,CAAC;oBAG5C,MAAM,CAAC,YAAO,CAAC,IAAI,CAAC;gBACxB,CAAC;gBACD,MAAM,CAAC,IAAI,CAAC,OAAO,CAAC;YACxB,CAAC;YACL,iBAAC;QAAD,CA5BA,AA4BC,CA5B+B,YAAO,CAAC,YAAY,GA4BnD;QA5BY,gBAAU,aA4BtB,CAAA;IACL,CAAC,EArCc,KAAK,GAAL,UAAK,KAAL,UAAK,QAqCnB;AAAD,CAAC,EArCS,IAAI,KAAJ,IAAI,QAqCb;ACvCD,IAAU,IAAI,CA6Bb;AA7BD,WAAU,IAAI;IAAC,IAAA,QAAQ,CA6BtB;IA7Bc,WAAA,QAAQ,EAAC,CAAC;QAMrB;YAAA;gBACY,cAAS,GAAe,EAAE,CAAC;YAqBvC,CAAC;YAnBG,4BAAK,GAAL,UAAM,SAAqB;gBACvB,IAAI,QAAQ,GAAG,IAAI,CAAC,SAAS,CAAC;gBAC9B,IAAI,OAAO,GAAa;oBACpB,MAAM,EAAE,SAAS;oBACjB,OAAO,EAAE;wBACL,IAAI,GAAG,GAAG,QAAQ,CAAC,OAAO,CAAC,OAAO,CAAC,CAAC;wBACpC,EAAE,CAAC,CAAC,GAAG,GAAG,CAAC,CAAC,CAAC;4BACT,QAAQ,CAAC,MAAM,CAAC,GAAG,EAAE,CAAC,CAAC,CAAC;oBAChC,CAAC;iBACJ,CAAC;gBACF,QAAQ,CAAC,IAAI,CAAC,OAAO,CAAC,CAAC;gBACvB,MAAM,CAAC,OAAO,CAAC;YACnB,CAAC;YAED,yBAAE,GAAF;gBACI,GAAG,CAAC,CAAC,IAAI,QAAQ,GAAG,IAAI,CAAC,SAAS,EAAE,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,QAAQ,CAAC,MAAM,EAAE,CAAC,EAAE,EAAE,CAAC;oBAClE,QAAQ,CAAC,CAAC,CAAC,CAAC,MAAM,EAAE,CAAC;gBACzB,CAAC;YACL,CAAC;YACL,mBAAC;QAAD,CAtBA,AAsBC,IAAA;QAtBY,qBAAY,eAsBxB,CAAA;IACL,CAAC,EA7Bc,QAAQ,GAAR,aAAQ,KAAR,aAAQ,QA6BtB;AAAD,CAAC,EA7BS,IAAI,KAAJ,IAAI,QA6Bb;AC7BD,IAAU,IAAI,CA8Db;AA9DD,WAAU,IAAI;IAAC,IAAA,cAAc,CA8D5B;IA9Dc,WAAA,cAAc,EAAC,CAAC;QAU3B,kCAAyC,KAAgB,EAAE,GAAc,EAAE,MAAgB;YACvF,IAAI,KAAK,GAAG,EAAC,CAAC,EAAE,KAAK,CAAC,CAAC,EAAE,CAAC,EAAE,KAAK,CAAC,CAAC,EAAC,CAAC;YACrC,IAAI,IAAI,GAAG,EAAC,CAAC,EAAE,GAAG,CAAC,CAAC,EAAE,CAAC,EAAE,GAAG,CAAC,CAAC,EAAC,CAAC;YAChC,IAAI,GAAG,GAAG,EAAC,CAAC,EAAE,GAAG,CAAC,CAAC,GAAG,KAAK,CAAC,CAAC,EAAE,CAAC,EAAE,GAAG,CAAC,CAAC,GAAG,KAAK,CAAC,CAAC,EAAC,CAAC;YAEnD,0BAAW,CAAC,GAAG,EAAE,KAAK,EAAE,IAAI,EAAE,MAAM,CAAC,CAAC;YACtC,IAAI,QAAQ,GAAG,CAAC,IAAI,CAAC,CAAC,GAAG,KAAK,CAAC,CAAC,CAAC,GAAG,GAAG,CAAC,CAAC,CAAC;YAC1C,IAAI,QAAQ,GAAG,GAAG,GAAG,QAAQ,CAAC;YAC9B,IAAI,GAAG,GAAG,CAAC,QAAQ,CAAC;YAEpB,MAAM,CAAC;gBACH,EAAE,EAAE,KAAK,CAAC,CAAC;gBACX,EAAE,EAAE,KAAK,CAAC,CAAC;gBACX,EAAE,EAAE,IAAI,CAAC,CAAC;gBACV,EAAE,EAAE,IAAI,CAAC,CAAC;gBACV,IAAI;oBACA,GAAG,IAAI,QAAQ,CAAC;oBAChB,MAAM,CAAC,GAAG,GAAG,CAAC,CAAC;gBACnB,CAAC;gBACD,WAAW,YAAE,MAAc;oBACvB,MAAM,CAAC,GAAG,GAAG,CAAC,MAAM,GAAG,QAAQ,CAAC,CAAC;gBACrC,CAAC;aACJ,CAAC;QACN,CAAC;QAvBe,uCAAwB,2BAuBvC,CAAA;QAED,mCAA0C,KAAgB,EAAE,GAAc,EAAE,MAAgB;YACxF,IAAI,KAAK,GAAG,EAAC,CAAC,EAAE,KAAK,CAAC,CAAC,EAAE,CAAC,EAAE,KAAK,CAAC,CAAC,EAAC,CAAC;YACrC,IAAI,IAAI,GAAG,EAAC,CAAC,EAAE,GAAG,CAAC,CAAC,EAAE,CAAC,EAAE,GAAG,CAAC,CAAC,EAAC,CAAC;YAChC,IAAI,GAAG,GAAG,EAAC,CAAC,EAAE,GAAG,CAAC,CAAC,GAAG,KAAK,CAAC,CAAC,EAAE,CAAC,EAAE,GAAG,CAAC,CAAC,GAAG,KAAK,CAAC,CAAC,EAAC,CAAC;YAEnD,0BAAW,CAAC,GAAG,EAAE,KAAK,EAAE,IAAI,EAAE,MAAM,CAAC,CAAC;YACtC,IAAI,QAAQ,GAAG,CAAC,IAAI,CAAC,CAAC,GAAG,KAAK,CAAC,CAAC,CAAC,GAAG,GAAG,CAAC,CAAC,CAAC;YAC1C,IAAI,QAAQ,GAAG,GAAG,GAAG,QAAQ,CAAC;YAC9B,IAAI,GAAG,GAAG,CAAC,QAAQ,CAAC;YACpB,IAAI,QAAQ,GAAG,IAAI,CAAC,KAAK,CAAC,CAAC,KAAK,CAAC,CAAC,GAAG,KAAK,CAAC,CAAC,CAAC,GAAG,GAAG,CAAC,CAAC,CAAC,GAAG,CAAC,KAAK,CAAC,CAAC;YAEjE,MAAM,CAAC;gBACH,EAAE,EAAE,KAAK,CAAC,CAAC;gBACX,EAAE,EAAE,KAAK,CAAC,CAAC;gBACX,EAAE,EAAE,IAAI,CAAC,CAAC;gBACV,EAAE,EAAE,IAAI,CAAC,CAAC;gBACV,IAAI;oBACA,QAAQ,GAAG,CAAC,QAAQ,CAAC;oBACrB,GAAG,IAAI,QAAQ,CAAC;oBAChB,MAAM,CAAC,GAAG,GAAG,CAAC,CAAC;gBACnB,CAAC;gBACD,WAAW,YAAE,MAAc;oBACvB,IAAI,IAAI,GAAG,MAAM,GAAG,QAAQ,CAAC;oBAC7B,MAAM,CAAC,CAAC,QAAQ,GAAG,GAAG,GAAG,IAAI,GAAG,GAAG,GAAG,CAAC,QAAQ,GAAG,IAAI,CAAC,CAAC;gBAC5D,CAAC;aACJ,CAAC;QACN,CAAC;QA1Be,wCAAyB,4BA0BxC,CAAA;IACL,CAAC,EA9Dc,cAAc,GAAd,mBAAc,KAAd,mBAAc,QA8D5B;AAAD,CAAC,EA9DS,IAAI,KAAJ,IAAI,QA8Db;AC9DD,IAAU,IAAI,CAmHb;AAnHD,WAAU,IAAI;IAAC,IAAA,cAAc,CAmH5B;IAnHc,WAAA,cAAc,EAAC,CAAC;QAC3B,qBAA4B,GAAc,EAAE,KAAgB,EAAE,IAAe,EAAE,MAAgB;YAC3F,EAAE,CAAC,CAAC,GAAG,CAAC,CAAC,KAAK,CAAC,CAAC,CAAC,CAAC;gBACd,EAAE,CAAC,CAAC,GAAG,CAAC,CAAC,GAAG,CAAC,CAAC;oBACV,CAAC,CAAC,GAAG,EAAE,KAAK,EAAE,IAAI,EAAE,MAAM,CAAC,CAAC;gBAChC,IAAI,CAAC,EAAE,CAAC,CAAC,GAAG,CAAC,CAAC,KAAK,CAAC,CAAC;oBACjB,CAAC,CAAC,GAAG,EAAE,KAAK,EAAE,IAAI,EAAE,MAAM,CAAC,CAAC;YACpC,CAAC;YAAC,IAAI,CAAC,EAAE,CAAC,CAAC,GAAG,CAAC,CAAC,KAAK,CAAC,CAAC,CAAC,CAAC;gBACrB,EAAE,CAAC,CAAC,GAAG,CAAC,CAAC,GAAG,CAAC,CAAC;oBACV,CAAC,CAAC,GAAG,EAAE,KAAK,EAAE,IAAI,EAAE,MAAM,CAAC,CAAC;gBAChC,IAAI,CAAC,EAAE,CAAC,CAAC,GAAG,CAAC,CAAC,KAAK,CAAC,CAAC;oBACjB,CAAC,CAAC,GAAG,EAAE,KAAK,EAAE,IAAI,EAAE,MAAM,CAAC,CAAC;YACpC,CAAC;YAAC,IAAI,CAAC,EAAE,CAAC,CAAC,GAAG,CAAC,CAAC,GAAG,CAAC,IAAI,GAAG,CAAC,CAAC,GAAG,CAAC,CAAC,CAAC,CAAC;gBAChC,EAAE,CAAC,GAAG,EAAE,KAAK,EAAE,IAAI,EAAE,MAAM,CAAC,CAAC;YACjC,CAAC;YAAC,IAAI,CAAC,EAAE,CAAC,CAAC,GAAG,CAAC,CAAC,GAAG,CAAC,IAAI,GAAG,CAAC,CAAC,GAAG,CAAC,CAAC,CAAC,CAAC;gBAChC,EAAE,CAAC,GAAG,EAAE,KAAK,EAAE,IAAI,EAAE,MAAM,CAAC,CAAC;YACjC,CAAC;YAAC,IAAI,CAAC,EAAE,CAAC,CAAC,GAAG,CAAC,CAAC,GAAG,CAAC,IAAI,GAAG,CAAC,CAAC,GAAG,CAAC,CAAC,CAAC,CAAC;gBAChC,EAAE,CAAC,GAAG,EAAE,KAAK,EAAE,IAAI,EAAE,MAAM,CAAC,CAAC;YACjC,CAAC;YAAC,IAAI,CAAC,EAAE,CAAC,CAAC,GAAG,CAAC,CAAC,GAAG,CAAC,IAAI,GAAG,CAAC,CAAC,GAAG,CAAC,CAAC,CAAC,CAAC;gBAChC,EAAE,CAAC,GAAG,EAAE,KAAK,EAAE,IAAI,EAAE,MAAM,CAAC,CAAC;YACjC,CAAC;QACL,CAAC;QApBe,0BAAW,cAoB1B,CAAA;QAGD,WAAW,GAAc,EAAE,KAAgB,EAAE,IAAe,EAAE,MAAgB;YAC1E,IAAI,IAAI,GAAG,MAAM,CAAC,CAAC,GAAG,MAAM,CAAC,KAAK,CAAC;YACnC,OAAO,KAAK,CAAC,CAAC,IAAI,MAAM,CAAC,CAAC;gBACtB,KAAK,CAAC,CAAC,IAAI,GAAG,CAAC,CAAC,CAAC;YACrB,OAAO,IAAI,CAAC,CAAC,IAAI,IAAI;gBACjB,IAAI,CAAC,CAAC,IAAI,GAAG,CAAC,CAAC,CAAC;QACxB,CAAC;QAGD,WAAW,GAAc,EAAE,KAAgB,EAAE,IAAe,EAAE,MAAgB;YAC1E,IAAI,IAAI,GAAG,MAAM,CAAC,CAAC,GAAG,MAAM,CAAC,KAAK,CAAC;YACnC,OAAO,KAAK,CAAC,CAAC,IAAI,IAAI;gBAClB,KAAK,CAAC,CAAC,IAAI,GAAG,CAAC,CAAC,CAAC;YACrB,OAAO,IAAI,CAAC,CAAC,IAAI,MAAM,CAAC,CAAC;gBACrB,IAAI,CAAC,CAAC,IAAI,GAAG,CAAC,CAAC,CAAC;QACxB,CAAC;QAGD,WAAW,GAAc,EAAE,KAAgB,EAAE,IAAe,EAAE,MAAgB;YAC1E,IAAI,IAAI,GAAG,MAAM,CAAC,CAAC,GAAG,MAAM,CAAC,MAAM,CAAC;YACpC,OAAO,KAAK,CAAC,CAAC,IAAI,MAAM,CAAC,CAAC;gBACtB,KAAK,CAAC,CAAC,IAAI,GAAG,CAAC,CAAC,CAAC;YACrB,OAAO,IAAI,CAAC,CAAC,IAAI,IAAI;gBACjB,IAAI,CAAC,CAAC,IAAI,GAAG,CAAC,CAAC,CAAC;QACxB,CAAC;QAGD,WAAW,GAAc,EAAE,KAAgB,EAAE,IAAe,EAAE,MAAgB;YAC1E,IAAI,IAAI,GAAG,MAAM,CAAC,CAAC,GAAG,MAAM,CAAC,MAAM,CAAC;YACpC,OAAO,KAAK,CAAC,CAAC,IAAI,IAAI;gBAClB,KAAK,CAAC,CAAC,IAAI,GAAG,CAAC,CAAC,CAAC;YACrB,OAAO,IAAI,CAAC,CAAC,IAAI,MAAM,CAAC,CAAC;gBACrB,IAAI,CAAC,CAAC,IAAI,GAAG,CAAC,CAAC,CAAC;QACxB,CAAC;QAGD,YAAY,GAAc,EAAE,KAAgB,EAAE,IAAe,EAAE,MAAgB;YAC3E,IAAI,IAAI,GAAG,MAAM,CAAC,CAAC,GAAG,MAAM,CAAC,KAAK,CAAC;YACnC,IAAI,IAAI,GAAG,MAAM,CAAC,CAAC,GAAG,MAAM,CAAC,MAAM,CAAC;YACpC,OAAO,KAAK,CAAC,CAAC,IAAI,IAAI,IAAI,KAAK,CAAC,CAAC,IAAI,IAAI,EAAE,CAAC;gBACxC,KAAK,CAAC,CAAC,IAAI,GAAG,CAAC,CAAC,CAAC;gBACjB,KAAK,CAAC,CAAC,IAAI,GAAG,CAAC,CAAC,CAAC;YACrB,CAAC;YACD,OAAO,IAAI,CAAC,CAAC,IAAI,MAAM,CAAC,CAAC,IAAI,IAAI,CAAC,CAAC,IAAI,MAAM,CAAC,CAAC,EAAE,CAAC;gBAC9C,IAAI,CAAC,CAAC,IAAI,GAAG,CAAC,CAAC,CAAC;gBAChB,IAAI,CAAC,CAAC,IAAI,GAAG,CAAC,CAAC,CAAC;YACpB,CAAC;QAEL,CAAC;QAGD,YAAY,GAAc,EAAE,KAAgB,EAAE,IAAe,EAAE,MAAgB;YAC3E,IAAI,IAAI,GAAG,MAAM,CAAC,CAAC,GAAG,MAAM,CAAC,KAAK,CAAC;YACnC,IAAI,IAAI,GAAG,MAAM,CAAC,CAAC,GAAG,MAAM,CAAC,MAAM,CAAC;YACpC,OAAO,KAAK,CAAC,CAAC,IAAI,IAAI,IAAI,KAAK,CAAC,CAAC,IAAI,MAAM,CAAC,CAAC,EAAE,CAAC;gBAC5C,KAAK,CAAC,CAAC,IAAI,GAAG,CAAC,CAAC,CAAC;gBACjB,KAAK,CAAC,CAAC,IAAI,GAAG,CAAC,CAAC,CAAC;YACrB,CAAC;YACD,OAAO,IAAI,CAAC,CAAC,IAAI,MAAM,CAAC,CAAC,IAAI,IAAI,CAAC,CAAC,IAAI,IAAI,EAAE,CAAC;gBAC1C,IAAI,CAAC,CAAC,IAAI,GAAG,CAAC,CAAC,CAAC;gBAChB,IAAI,CAAC,CAAC,IAAI,GAAG,CAAC,CAAC,CAAC;YACpB,CAAC;QACL,CAAC;QAGD,YAAY,GAAc,EAAE,KAAgB,EAAE,IAAe,EAAE,MAAgB;YAC3E,IAAI,IAAI,GAAG,MAAM,CAAC,CAAC,GAAG,MAAM,CAAC,KAAK,CAAC;YACnC,IAAI,IAAI,GAAG,MAAM,CAAC,CAAC,GAAG,MAAM,CAAC,MAAM,CAAC;YACpC,OAAO,KAAK,CAAC,CAAC,IAAI,MAAM,CAAC,CAAC,IAAI,KAAK,CAAC,CAAC,IAAI,IAAI,EAAE,CAAC;gBAC5C,KAAK,CAAC,CAAC,IAAI,GAAG,CAAC,CAAC,CAAC;gBACjB,KAAK,CAAC,CAAC,IAAI,GAAG,CAAC,CAAC,CAAC;YACrB,CAAC;YACD,OAAO,IAAI,CAAC,CAAC,IAAI,IAAI,IAAI,IAAI,CAAC,CAAC,IAAI,MAAM,CAAC,CAAC,EAAE,CAAC;gBAC1C,IAAI,CAAC,CAAC,IAAI,GAAG,CAAC,CAAC,CAAC;gBAChB,IAAI,CAAC,CAAC,IAAI,GAAG,CAAC,CAAC,CAAC;YACpB,CAAC;QACL,CAAC;QAGD,YAAY,GAAc,EAAE,KAAgB,EAAE,IAAe,EAAE,MAAgB;YAC3E,IAAI,IAAI,GAAG,MAAM,CAAC,CAAC,GAAG,MAAM,CAAC,KAAK,CAAC;YACnC,IAAI,IAAI,GAAG,MAAM,CAAC,CAAC,GAAG,MAAM,CAAC,MAAM,CAAC;YACpC,OAAO,KAAK,CAAC,CAAC,IAAI,MAAM,CAAC,CAAC,IAAI,KAAK,CAAC,CAAC,IAAI,MAAM,CAAC,CAAC,EAAE,CAAC;gBAChD,KAAK,CAAC,CAAC,IAAI,GAAG,CAAC,CAAC,CAAC;gBACjB,KAAK,CAAC,CAAC,IAAI,GAAG,CAAC,CAAC,CAAC;YACrB,CAAC;YACD,OAAO,IAAI,CAAC,CAAC,IAAI,IAAI,IAAI,IAAI,CAAC,CAAC,IAAI,IAAI,EAAE,CAAC;gBACtC,IAAI,CAAC,CAAC,IAAI,GAAG,CAAC,CAAC,CAAC;gBAChB,IAAI,CAAC,CAAC,IAAI,GAAG,CAAC,CAAC,CAAC;YACpB,CAAC;QACL,CAAC;IACL,CAAC,EAnHc,cAAc,GAAd,mBAAc,KAAd,mBAAc,QAmH5B;AAAD,CAAC,EAnHS,IAAI,KAAJ,IAAI,QAmHb;ACnHD,IAAU,IAAI,CAuGb;AAvGD,WAAU,IAAI;IAAC,IAAA,IAAI,CAuGlB;IAvGc,WAAA,MAAI,EAAC,CAAC;QACjB,IAAO,UAAU,GAAG,KAAK,CAAC,MAAM,CAAC,IAAI,CAAC,UAAU,CAAC;QACjD,IAAO,YAAY,GAAG,KAAK,CAAC,MAAM,CAAC,MAAM,CAAC,YAAY,CAAC;QAGvD;YAMI;gBALQ,UAAK,GAAe,IAAI,CAAC;gBACzB,YAAO,GAAe,IAAI,CAAC;gBAC3B,aAAQ,GAAiB,IAAI,CAAC;gBAIlC,IAAI,CAAC,KAAK,GAAG;oBACT,eAAe,EAAE,CAAC;oBAClB,eAAe,EAAE,IAAI;oBACrB,aAAa,EAAE,KAAK,CAAC,UAAU,CAAC,IAAI;oBACpC,gBAAgB,EAAE,CAAC;oBACnB,gBAAgB,EAAE,KAAK,CAAC,UAAU,CAAC,IAAI;oBACvC,cAAc,EAAE,KAAK,CAAC,WAAW,CAAC,KAAK;oBACvC,gBAAgB,EAAE,EAAE;oBACpB,kBAAkB,EAAE,KAAK,CAAC,UAAU,CAAC,IAAI;iBAC5C,CAAC;YACN,CAAC;YAED,yBAAO,GAAP;gBACI,MAAM,CAAC,IAAI,CAAC,KAAK,CAAC;YACtB,CAAC;YAED,yBAAO,GAAP,UAAQ,IAAgB;gBACpB,EAAE,CAAC,CAAC,IAAI,CAAC,KAAK,KAAK,IAAI,CAAC;oBACpB,MAAM,CAAC;gBACX,IAAI,CAAC,KAAK,GAAG,IAAI,CAAC;gBAClB,EAAE,CAAC,CAAC,CAAC,IAAI,CAAC,CAAC,CAAC;oBACR,IAAI,CAAC,OAAO,GAAG,IAAI,CAAC;oBACpB,IAAI,CAAC,QAAQ,GAAG,IAAI,CAAC;gBACzB,CAAC;gBAAC,IAAI,CAAC,CAAC;oBACJ,IAAI,CAAC,OAAO,GAAG,IAAI,UAAU,CAAC,IAAI,CAAC,CAAC;oBACpC,IAAI,CAAC,QAAQ,GAAG,IAAI,YAAY,CAAC,IAAI,CAAC,CAAC;oBACvC,IAAI,CAAC,QAAQ,CAAC,IAAI,GAAG,IAAI,CAAC,KAAK,CAAC;gBACpC,CAAC;YACL,CAAC;YAED,uBAAK,GAAL;gBACI,EAAE,CAAC,CAAC,IAAI,CAAC,OAAO,CAAC;oBACb,IAAI,CAAC,OAAO,CAAC,KAAK,EAAE,CAAC;gBACzB,EAAE,CAAC,CAAC,IAAI,CAAC,QAAQ,CAAC;oBACd,IAAI,CAAC,QAAQ,CAAC,KAAK,EAAE,CAAC;YAC9B,CAAC;YAED,6BAAW,GAAX,UAAY,IAAc;gBACtB,IAAI,GAAG,GAAG,IAAI,CAAC,OAAO,CAAC;gBACvB,EAAE,CAAC,CAAC,CAAC,GAAG,CAAC,CAAC,CAAC;oBACP,EAAE,CAAC,IAAI,CAAC,IAAI,CAAC,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,IAAI,CAAC,CAAC;gBACnC,CAAC;gBAAC,IAAI,CAAC,CAAC;oBACJ,IAAI,CAAC,CAAC,GAAG,GAAG,CAAC,CAAC,CAAC;oBACf,IAAI,CAAC,CAAC,GAAG,GAAG,CAAC,CAAC,CAAC;oBACf,IAAI,CAAC,KAAK,GAAG,GAAG,CAAC,CAAC,GAAG,GAAG,CAAC,CAAC,CAAC;oBAC3B,IAAI,CAAC,MAAM,GAAG,GAAG,CAAC,CAAC,GAAG,GAAG,CAAC,CAAC,CAAC;gBAChC,CAAC;gBACD,MAAM,CAAC,IAAI,CAAC;YAChB,CAAC;YAED,+BAAa,GAAb,UAAc,IAAc;gBACxB,IAAI,GAAG,GAAG,IAAI,CAAC,QAAQ,CAAC;gBACxB,EAAE,CAAC,CAAC,CAAC,GAAG,CAAC,CAAC,CAAC;oBACP,EAAE,CAAC,IAAI,CAAC,IAAI,CAAC,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,IAAI,CAAC,CAAC;gBACnC,CAAC;gBAAC,IAAI,CAAC,CAAC;oBACJ,IAAI,CAAC,CAAC,GAAG,GAAG,CAAC,CAAC,CAAC;oBACf,IAAI,CAAC,CAAC,GAAG,GAAG,CAAC,CAAC,CAAC;oBACf,IAAI,CAAC,KAAK,GAAG,GAAG,CAAC,CAAC,GAAG,GAAG,CAAC,CAAC,CAAC;oBAC3B,IAAI,CAAC,MAAM,GAAG,GAAG,CAAC,CAAC,GAAG,GAAG,CAAC,CAAC,CAAC;gBAChC,CAAC;gBACD,MAAM,CAAC,IAAI,CAAC;YAChB,CAAC;YAED,sBAAI,GAAJ,UAAK,KAAiB;gBAClB,IAAI,OAAO,GAAG,IAAI,CAAC,QAAQ,EACvB,MAAM,GAAG,IAAI,CAAC,OAAO,CAAC;gBAE1B,EAAE,CAAC,CAAC,OAAO,CAAC,CAAC,CAAC;oBACV,EAAE,CAAC,CAAC,CAAC,CAAC,KAAK,CAAC,MAAM,IAAI,KAAK,CAAC,eAAe,GAAG,CAAC,CAAC,CAAC,CAAC;wBAC9C,IAAI,CAAC,SAAS,CAAC,KAAK,CAAC,CAAC;wBACtB,OAAO,CAAC,MAAM,EAAE,CAAC;oBACrB,CAAC;oBAAC,IAAI,CAAC,CAAC;wBACJ,OAAO,CAAC,KAAK,EAAE,CAAC;oBACpB,CAAC;gBACL,CAAC;gBAED,EAAE,CAAC,CAAC,MAAM,CAAC,CAAC,CAAC;oBACT,MAAM,CAAC,MAAM,EAAE,CAAC;gBACpB,CAAC;gBAED,MAAM,CAAC,IAAI,CAAC;YAChB,CAAC;YAES,2BAAS,GAAnB,UAAoB,KAAiB;gBACjC,IAAI,IAAI,GAAG,IAAI,CAAC,KAAK,CAAC;gBACtB,IAAI,CAAC,eAAe,GAAG,KAAK,CAAC,eAAe,CAAC;gBAC7C,IAAI,CAAC,kBAAkB,GAA6B,KAAK,CAAC,aAAa,CAAC;gBACxE,IAAI,CAAC,cAAc,GAA8B,KAAK,CAAC,cAAc,CAAC;gBACtE,IAAI,CAAC,gBAAgB,GAAG,KAAK,CAAC,gBAAgB,CAAC;YACnD,CAAC;YACL,cAAC;QAAD,CAjGA,AAiGC,IAAA;QAjGY,cAAO,UAiGnB,CAAA;IACL,CAAC,EAvGc,IAAI,GAAJ,SAAI,KAAJ,SAAI,QAuGlB;AAAD,CAAC,EAvGS,IAAI,KAAJ,IAAI,QAuGb;ACvGD,IAAU,IAAI,CAsBb;AAtBD,WAAU,IAAI;IAAC,IAAA,IAAI,CAsBlB;IAtBc,WAAA,IAAI,EAAC,CAAC;QASjB;YAAmC,iCAAwB;YAA3D;gBAAmC,8BAAwB;gBACvD,qBAAgB,GAAG,EAAE,CAAC,IAAI,CAAC,QAAQ,EAAE,CAAC;gBACtC,YAAO,GAAa,EAAE,CAAC,IAAI,CAAC,IAAI,CAAC,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,CAAC,CAAC;gBAC7C,YAAO,GAAG,IAAI,YAAO,EAAE,CAAC;YAS5B,CAAC;YAPG,6BAAK,GAAL;gBACI,gBAAK,CAAC,KAAK,WAAE,CAAC;gBACd,EAAE,CAAC,IAAI,CAAC,QAAQ,CAAC,IAAI,CAAC,gBAAgB,CAAC,CAAC;gBACxC,EAAE,CAAC,IAAI,CAAC,IAAI,CAAC,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,IAAI,CAAC,OAAO,CAAC,CAAC;gBACvC,IAAI,CAAC,OAAO,CAAC,KAAK,EAAE,CAAC;gBACrB,MAAM,CAAC,IAAI,CAAC;YAChB,CAAC;YACL,oBAAC;QAAD,CAZA,AAYC,CAZkC,YAAO,CAAC,gBAAgB,GAY1D;QAZY,kBAAa,gBAYzB,CAAA;IACL,CAAC,EAtBc,IAAI,GAAJ,SAAI,KAAJ,SAAI,QAsBlB;AAAD,CAAC,EAtBS,IAAI,KAAJ,IAAI,QAsBb;ACpBD,IAAU,IAAI,CAsBb;AAtBD,WAAU,IAAI;IAAC,IAAA,MAAM,CAsBpB;IAtBc,WAAA,MAAM,EAAC,CAAC;QACnB,IAAO,YAAY,GAAG,IAAI,CAAC,OAAO,CAAC,YAAY,CAAC;QAQhD;YAAiC,+BAAY;YAA7C;gBAAiC,8BAAY;YAY7C,CAAC;YAPG,2BAAK,GAAL;gBACI,gBAAK,CAAC,KAAK,WAAE,CAAC;gBACd,IAAI,CAAC,IAAI,GAAG,IAAI,CAAC;gBACjB,IAAI,CAAC,MAAM,GAAG,IAAI,CAAC;gBACnB,IAAI,CAAC,eAAe,GAAG,CAAC,CAAC;gBACzB,MAAM,CAAC,IAAI,CAAC;YAChB,CAAC;YACL,kBAAC;QAAD,CAZA,AAYC,CAZgC,YAAY,GAY5C;QAZY,kBAAW,cAYvB,CAAA;IACL,CAAC,EAtBc,MAAM,GAAN,WAAM,KAAN,WAAM,QAsBpB;AAAD,CAAC,EAtBS,IAAI,KAAJ,IAAI,QAsBb;ACtBD,IAAU,IAAI,CAyDb;AAzDD,WAAU,IAAI;IAAC,IAAA,IAAI,CAyDlB;IAzDc,WAAA,IAAI,EAAC,CAAC;QAUjB;YAA+B,6BAAkB;YAAjD;gBAA+B,8BAAkB;gBAC7C,SAAI,GAAe,IAAI,CAAC;gBACxB,YAAO,GAAY,YAAO,CAAC,IAAI,CAAC;gBAChC,aAAQ,GAAa,aAAQ,CAAC,OAAO,CAAC;gBACtC,kBAAa,GAAe,eAAU,CAAC,IAAI,CAAC;gBAC5C,mBAAc,GAAgB,gBAAW,CAAC,KAAK,CAAC;gBAChD,qBAAgB,GAAW,EAAE,CAAC;YAwClC,CAAC;YAtCG,yBAAK,GAAL;gBACI,gBAAK,CAAC,KAAK,WAAE,CAAC;gBACd,IAAI,CAAC,IAAI,GAAG,IAAI,CAAC;gBACjB,IAAI,CAAC,OAAO,GAAG,YAAO,CAAC,IAAI,CAAC;gBAC5B,IAAI,CAAC,QAAQ,GAAG,aAAQ,CAAC,OAAO,CAAC;gBACjC,IAAI,CAAC,aAAa,GAAG,eAAU,CAAC,IAAI,CAAC;gBACrC,IAAI,CAAC,cAAc,GAAG,gBAAW,CAAC,KAAK,CAAC;gBACxC,IAAI,CAAC,gBAAgB,GAAG,EAAE,CAAC;gBAC3B,MAAM,CAAC,IAAI,CAAC;YAChB,CAAC;YAED,uCAAmB,GAAnB,UAAoB,IAAoB;gBACpC,IAAI,IAAI,GAAG,IAAI,CAAC,IAAI,EAChB,OAAO,GAAG,IAAI,CAAC,OAAO,CAAC;gBAC3B,EAAE,CAAC,CAAC,IAAI,CAAC,KAAK,IAAI,CAAC,IAAI,IAAI,CAAC,MAAM,IAAI,CAAC,CAAC,CAAC,CAAC;oBAGtC,MAAM,CAAC,YAAO,CAAC,IAAI,CAAC;gBACxB,CAAC;gBACD,EAAE,CAAC,CAAC,OAAO,CAAC,KAAK,IAAI,CAAC,IAAI,OAAO,CAAC,MAAM,IAAI,CAAC,CAAC,CAAC,CAAC;oBAG5C,MAAM,CAAC,YAAO,CAAC,IAAI,CAAC;gBACxB,CAAC;gBACD,MAAM,CAAC,IAAI,CAAC,OAAO,CAAC;YACxB,CAAC;YAED,sCAAkB,GAAlB,UAAmB,IAAoB;gBACnC,IAAI,EAAE,GAAG,IAAI,CAAC,eAAe,CAAC;gBAG9B,IAAI,KAAK,GAAG,EAAE,CAAC,IAAI,CAAC,IAAI,CAAC,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,CAAC,CAAC;gBACrC,IAAI,CAAC,GAAG,CAAC,OAAO,CAAC,IAAI,CAAC,KAAK,EAAE,IAAI,CAAC,mBAAmB,CAAC,IAAI,CAAC,EAAE,IAAI,CAAC,OAAO,EAAE,IAAI,CAAC,IAAI,CAAC,CAAC;gBACtF,MAAM,CAAC;oBACH,CAAC,EAAE,KAAK,CAAC,CAAC,GAAG,CAAC,EAAE,CAAC,CAAC,GAAG,KAAK,CAAC,KAAK,CAAC;oBACjC,CAAC,EAAE,KAAK,CAAC,CAAC,GAAG,CAAC,EAAE,CAAC,CAAC,GAAG,KAAK,CAAC,MAAM,CAAC;iBACrC,CAAA;YACL,CAAC;YACL,gBAAC;QAAD,CA9CA,AA8CC,CA9C8B,WAAM,CAAC,WAAW,GA8ChD;QA9CY,cAAS,YA8CrB,CAAA;IACL,CAAC,EAzDc,IAAI,GAAJ,SAAI,KAAJ,SAAI,QAyDlB;AAAD,CAAC,EAzDS,IAAI,KAAJ,IAAI,QAyDb;ACzDD,IAAU,IAAI,CAgBb;AAhBD,WAAU,IAAI;IAAC,IAAA,QAAQ,CAgBtB;IAhBc,WAAA,QAAQ,EAAC,CAAC;QAKrB;YAAmC,iCAAc;YAAjD;gBAAmC,8BAAc;gBAC7C,WAAM,GAAW,IAAI,WAAM,EAAE,CAAC;gBAC9B,WAAM,GAAY,KAAK,CAAC;YAQ5B,CAAC;YANG,6BAAK,GAAL;gBACI,gBAAK,CAAC,KAAK,WAAE,CAAC;gBACd,IAAI,CAAC,MAAM,CAAC,KAAK,EAAE,CAAC;gBACpB,IAAI,CAAC,MAAM,GAAG,KAAK,CAAC;gBACpB,MAAM,CAAC,IAAI,CAAC;YAChB,CAAC;YACL,oBAAC;QAAD,CAVA,AAUC,CAVkC,SAAI,CAAC,SAAS,GAUhD;QAVY,sBAAa,gBAUzB,CAAA;IACL,CAAC,EAhBc,QAAQ,GAAR,aAAQ,KAAR,aAAQ,QAgBtB;AAAD,CAAC,EAhBS,IAAI,KAAJ,IAAI,QAgBb;AClBD,IAAU,IAAI,CA0Eb;AA1ED,WAAU,IAAI;IAAC,IAAA,cAAc,CA0E5B;IA1Ec,WAAA,cAAc,EAAC,CAAC;QAsB3B,wBAA+B,IAAsB,EAAE,MAAgB;YACnE,IAAI,OAAO,GAAG,KAAK,CAAC;YACpB,IAAI,EAAE,GAAG,IAAI,CAAC,EAAE,GAAG,IAAI,CAAC,EAAE,CAAC;YAC3B,IAAI,EAAE,GAAG,IAAI,CAAC,EAAE,GAAG,IAAI,CAAC,EAAE,CAAC;YAC3B,IAAI,KAAK,GAAG,IAAI,CAAC,EAAE,CAAC;YACpB,IAAI,OAAO,GAAG,KAAK,CAAC;YAEpB,IAAI,GAAG,GAAG;gBACN,EAAE,EAAE,IAAI,CAAC,EAAE;gBACX,EAAE,EAAE,IAAI,CAAC,EAAE;gBACX,EAAE,EAAE,CAAC;gBACL,EAAE,EAAE,IAAI,CAAC,EAAE;gBACX,EAAE,EAAE,IAAI,CAAC,EAAE;gBACX,EAAE,EAAE,IAAI,CAAC,EAAE;gBACX,IAAI;oBACA,EAAE,CAAC,CAAC,CAAC,OAAO,CAAC,CAAC,CAAC;wBACX,OAAO,GAAG,IAAI,CAAC;wBACf,MAAM,CAAC,IAAI,CAAC;oBAChB,CAAC;oBAED,GAAG,CAAC,EAAE,GAAG,GAAG,CAAC,EAAE,CAAC;oBAChB,GAAG,CAAC,EAAE,GAAG,GAAG,CAAC,EAAE,CAAC;oBAChB,GAAG,CAAC,EAAE,IAAI,KAAK,CAAC;oBAChB,GAAG,CAAC,EAAE,IAAI,KAAK,CAAC;oBAChB,GAAG,CAAC,EAAE,IAAI,EAAE,CAAC;oBACb,GAAG,CAAC,EAAE,IAAI,EAAE,CAAC;oBAEb,EAAE,CAAC,CAAC,OAAO,CAAC;wBACR,MAAM,CAAC,KAAK,CAAC;oBACjB,OAAO,GAAG,YAAY,CAAC,GAAG,CAAC,EAAE,EAAE,GAAG,CAAC,EAAE,EAAE,GAAG,CAAC,EAAE,EAAE,MAAM,CAAC,CAAC;oBACvD,MAAM,CAAC,IAAI,CAAC;gBAChB,CAAC;gBACD,cAAc,YAAE,GAA6B;oBACzC,MAAM,CAAC,GAAG,CAAC,oBAAoB,CAAC,GAAG,CAAC,EAAE,EAAE,GAAG,CAAC,EAAE,EAAE,GAAG,CAAC,EAAE,EAAE,GAAG,CAAC,EAAE,EAAE,GAAG,CAAC,EAAE,EAAE,GAAG,CAAC,EAAE,CAAC,CAAC;gBACpF,CAAC;aACJ,CAAC;YACF,MAAM,CAAC,GAAG,CAAC;QACf,CAAC;QArCe,6BAAc,iBAqC7B,CAAA;QAED,sBAAsB,EAAU,EAAE,EAAU,EAAE,MAAc,EAAE,MAAgB;YAC1E,IAAI,EAAE,GAAG,GAAG,CAAC,EAAE,EAAE,EAAE,EAAE,MAAM,CAAC,CAAC,EAAE,MAAM,CAAC,CAAC,CAAC,CAAC;YACzC,IAAI,EAAE,GAAG,GAAG,CAAC,EAAE,EAAE,EAAE,EAAE,MAAM,CAAC,CAAC,GAAG,MAAM,CAAC,KAAK,EAAE,MAAM,CAAC,CAAC,CAAC,CAAC;YACxD,IAAI,EAAE,GAAG,GAAG,CAAC,EAAE,EAAE,EAAE,EAAE,MAAM,CAAC,CAAC,GAAG,MAAM,CAAC,KAAK,EAAE,MAAM,CAAC,CAAC,GAAG,MAAM,CAAC,MAAM,CAAC,CAAC;YACxE,IAAI,EAAE,GAAG,GAAG,CAAC,EAAE,EAAE,EAAE,EAAE,MAAM,CAAC,CAAC,EAAE,MAAM,CAAC,CAAC,GAAG,MAAM,CAAC,MAAM,CAAC,CAAC;YACzD,MAAM,CAAC,IAAI,CAAC,GAAG,CAAC,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,CAAC,GAAG,MAAM,CAAC;QAC7C,CAAC;QAED,aAAa,EAAU,EAAE,EAAU,EAAE,EAAU,EAAE,EAAU;YACvD,IAAI,EAAE,GAAG,EAAE,GAAG,EAAE,CAAC;YACjB,IAAI,EAAE,GAAG,EAAE,GAAG,EAAE,CAAC;YACjB,MAAM,CAAC,IAAI,CAAC,IAAI,CAAC,CAAC,EAAE,GAAG,EAAE,CAAC,GAAG,CAAC,EAAE,GAAG,EAAE,CAAC,CAAC,CAAC;QAC5C,CAAC;IACL,CAAC,EA1Ec,cAAc,GAAd,mBAAc,KAAd,mBAAc,QA0E5B;AAAD,CAAC,EA1ES,IAAI,KAAJ,IAAI,QA0Eb;AC1ED,IAAU,IAAI,CAQb;AARD,WAAU,IAAI;IAAC,IAAA,MAAM,CAQpB;IARc,WAAA,MAAM,EAAC,CAAC;QACnB,8BAAqC,MAAyB;YAC1D,IAAI,UAAU,GAAG,WAAI,CAAC,IAAI,EAAE,CAAC;YAC7B,MAAM,CAAC;gBACH,KAAK,EAAE,MAAM,CAAC,WAAW,GAAG,UAAU;gBACtC,MAAM,EAAE,MAAM,CAAC,YAAY,GAAG,UAAU;aAC3C,CAAC;QACN,CAAC;QANe,2BAAoB,uBAMnC,CAAA;IACL,CAAC,EARc,MAAM,GAAN,WAAM,KAAN,WAAM,QAQpB;AAAD,CAAC,EARS,IAAI,KAAJ,IAAI,QAQb;ACRD,IAAU,IAAI,CAyFb;AAzFD,WAAU,IAAI;IAAC,IAAA,MAAM,CAyFpB;IAzFc,WAAA,MAAM,EAAC,CAAC;QAEnB,IAAI,OAAO,GAAG,KAAK,CAAC;QACpB;YAAA;gBACY,UAAK,GAA6B,IAAI,CAAC;gBAEvC,mBAAc,GAAW,CAAC,CAAC;gBAC3B,oBAAe,GAAW,CAAC,CAAC;gBAC5B,cAAS,GAAa,IAAI,CAAC;gBAC3B,mBAAc,GAAG,CAAC,CAAC;YA+E/B,CAAC;YA7EG,sBAAI,2CAAY;qBAAhB;oBACI,MAAM,CAAC,IAAI,CAAC,cAAc,CAAC;gBAC/B,CAAC;;;eAAA;YAED,sBAAI,4CAAa;qBAAjB;oBACI,MAAM,CAAC,IAAI,CAAC,eAAe,CAAC;gBAChC,CAAC;;;eAAA;YAED,sBAAI,yCAAU;qBAAd;oBACI,MAAM,CAAC,IAAI,CAAC,cAAc,GAAG,IAAI,CAAC,QAAQ,CAAC;gBAC/C,CAAC;;;eAAA;YAED,sBAAI,0CAAW;qBAAf;oBACI,MAAM,CAAC,IAAI,CAAC,eAAe,GAAG,IAAI,CAAC,QAAQ,CAAC;gBAChD,CAAC;;;eAAA;YAED,sBAAI,uCAAQ;qBAAZ;oBACI,MAAM,CAAC,CAAC,MAAM,CAAC,gBAAgB,IAAI,CAAC,CAAC,GAAG,IAAI,CAAC,KAAK,CAAC,sBAAsB,CAAC;gBAC9E,CAAC;;;eAAA;YAED,gCAAI,GAAJ,UAAK,GAA6B;gBAC9B,IAAI,CAAC,KAAK,GAAG,GAAG,CAAC;gBACjB,IAAI,OAAO,GAAG,2BAAoB,CAAC,GAAG,CAAC,MAAM,CAAC,CAAC;gBAC/C,IAAI,CAAC,cAAc,GAAG,OAAO,CAAC,KAAK,CAAC;gBACpC,IAAI,CAAC,eAAe,GAAG,OAAO,CAAC,MAAM,CAAC;gBACtC,IAAI,CAAC,aAAa,EAAE,CAAC;YACzB,CAAC;YAED,uCAAW,GAAX,UAAY,KAAa,EAAE,MAAc;gBACrC,EAAE,CAAC,CAAC,IAAI,CAAC,SAAS,CAAC,CAAC,CAAC;oBACjB,IAAI,CAAC,SAAS,CAAC,KAAK,GAAG,KAAK,CAAC;oBAC7B,IAAI,CAAC,SAAS,CAAC,MAAM,GAAG,MAAM,CAAC;gBACnC,CAAC;gBAAC,IAAI,CAAC,CAAC;oBACJ,IAAI,CAAC,SAAS,GAAG;wBACb,KAAK,EAAE,KAAK;wBACZ,MAAM,EAAE,MAAM;qBACjB,CAAC;gBACN,CAAC;gBACD,MAAM,CAAC,IAAI,CAAC;YAChB,CAAC;YAED,wCAAY,GAAZ;gBACI,EAAE,CAAC,CAAC,IAAI,CAAC,SAAS,CAAC,CAAC,CAAC;oBAEjB,EAAE,CAAC,CAAC,IAAI,CAAC,GAAG,CAAC,IAAI,CAAC,SAAS,CAAC,KAAK,GAAG,IAAI,CAAC,cAAc,CAAC,GAAG,OAAO,IAAI,IAAI,CAAC,GAAG,CAAC,IAAI,CAAC,SAAS,CAAC,MAAM,GAAG,IAAI,CAAC,eAAe,CAAC,GAAG,OAAO,CAAC;wBACnI,MAAM,CAAC;oBACX,IAAI,CAAC,cAAc,GAAG,IAAI,CAAC,SAAS,CAAC,KAAK,CAAC;oBAC3C,IAAI,CAAC,eAAe,GAAG,IAAI,CAAC,SAAS,CAAC,MAAM,CAAC;oBAC7C,IAAI,CAAC,SAAS,GAAG,IAAI,CAAC;oBACtB,IAAI,CAAC,aAAa,EAAE,CAAC;gBACzB,CAAC;gBACD,MAAM,CAAC,IAAI,CAAC;YAChB,CAAC;YAED,0CAAc,GAAd;gBACI,EAAE,CAAC,CAAC,IAAI,CAAC,cAAc,KAAK,IAAI,CAAC,QAAQ,CAAC;oBACtC,MAAM,CAAC,KAAK,CAAC;gBACjB,IAAI,CAAC,aAAa,EAAE,CAAC;gBACrB,MAAM,CAAC,IAAI,CAAC;YAChB,CAAC;YAEO,yCAAa,GAArB;gBACI,IAAI,MAAM,GAAG,IAAI,CAAC,KAAK,CAAC,MAAM,CAAC;gBAC/B,IAAI,QAAQ,GAAG,IAAI,CAAC,QAAQ,CAAC;gBAC7B,EAAE,CAAC,CAAC,IAAI,CAAC,GAAG,CAAC,QAAQ,GAAG,CAAC,CAAC,GAAG,OAAO,CAAC,CAAC,CAAC;oBACnC,MAAM,CAAC,KAAK,GAAG,IAAI,CAAC,YAAY,CAAC;oBACjC,MAAM,CAAC,MAAM,GAAG,IAAI,CAAC,aAAa,CAAC;gBACvC,CAAC;gBAAC,IAAI,CAAC,CAAC;oBAEJ,MAAM,CAAC,KAAK,GAAG,IAAI,CAAC,UAAU,CAAC;oBAC/B,MAAM,CAAC,MAAM,GAAG,IAAI,CAAC,WAAW,CAAC;oBAEjC,MAAM,CAAC,KAAK,CAAC,KAAK,GAAG,IAAI,CAAC,YAAY,CAAC,QAAQ,EAAE,GAAG,IAAI,CAAC;oBACzD,MAAM,CAAC,KAAK,CAAC,MAAM,GAAG,IAAI,CAAC,aAAa,CAAC,QAAQ,EAAE,GAAG,IAAI,CAAC;gBAC/D,CAAC;gBACD,IAAI,CAAC,cAAc,GAAG,QAAQ,CAAC;YACnC,CAAC;YACL,wBAAC;QAAD,CArFA,AAqFC,IAAA;QArFY,wBAAiB,oBAqF7B,CAAA;IACL,CAAC,EAzFc,MAAM,GAAN,WAAM,KAAN,WAAM,QAyFpB;AAAD,CAAC,EAzFS,IAAI,KAAJ,IAAI,QAyFb;ACzFD,IAAU,IAAI,CAsCb;AAtCD,WAAU,IAAI;IAAC,IAAA,MAAM,CAsCpB;IAtCc,WAAA,MAAM;QAAC,IAAA,IAAI,CAsCzB;QAtCqB,WAAA,MAAI,EAAC,CAAC;YACb,WAAI,GAAiB,CAAC;gBAC7B,EAAE,CAAC,CAAO,QAAS,CAAC,MAAM,CAAC;oBACvB,MAAM,CAAC,EAAE,EAAE,CAAC;gBAChB,MAAM,CAAC,MAAM,EAAE,CAAC;YACpB,CAAC,CAAC,EAAE,CAAC;YAEL;gBACI,MAAM,CAAC;oBACH,IAAI,MAAM,GAAS,QAAS,CAAC,MAAM,CAAC,MAAM,CAAC;oBAC3C,IAAI,IAAI,GAAG,MAAM,CAAC,UAAU,GAAG,MAAM,CAAC,UAAU,CAAC;oBACjD,MAAM,CAAC,IAAI,CAAC,KAAK,CAAC,IAAI,GAAG,GAAG,CAAC,GAAG,GAAG,CAAC;gBACxC,CAAC,CAAC;YACN,CAAC;YAED;gBACI,IAAI,GAAkB,CAAC;gBAEvB;oBACI,EAAE,CAAC,CAAC,CAAC,CAAC,GAAG,IAAI,CAAC,QAAQ,CAAC,IAAI,CAAC;wBACxB,MAAM,CAAC;oBACX,GAAG,GAAkB,QAAQ,CAAC,eAAe,CAAC,4BAA4B,EAAE,KAAK,CAAC,CAAC;oBACnF,GAAG,CAAC,YAAY,CAAC,OAAO,EAAE,4BAA4B,CAAC,CAAC;oBACxD,GAAG,CAAC,YAAY,CAAC,SAAS,EAAE,KAAK,CAAC,CAAC;oBACnC,QAAQ,CAAC,IAAI,CAAC,WAAW,CAAC,GAAG,CAAC,CAAC;oBAC/B,CAAC,UAAC,KAA0B;wBACxB,KAAK,CAAC,OAAO,GAAG,KAAK,CAAC;wBACtB,KAAK,CAAC,QAAQ,GAAG,UAAU,CAAC;wBAC5B,KAAK,CAAC,IAAI,GAAG,QAAQ,CAAC;oBAE1B,CAAC,CAAC,CAAM,GAAG,CAAC,KAAK,CAAC,CAAC;gBACvB,CAAC;gBAED,MAAM,CAAC;oBACH,UAAU,EAAE,CAAC;oBACb,MAAM,CAAC,CAAC,GAAG,GAAG,CAAC,GAAG,GAAG,CAAC,YAAY,CAAC;gBACvC,CAAC,CAAC;YACN,CAAC;QACL,CAAC,EAtCqB,IAAI,GAAJ,WAAI,KAAJ,WAAI,QAsCzB;IAAD,CAAC,EAtCc,MAAM,GAAN,WAAM,KAAN,WAAM,QAsCpB;AAAD,CAAC,EAtCS,IAAI,KAAJ,IAAI,QAsCb;ACtCD,IAAU,IAAI,CAwBb;AAxBD,WAAU,IAAI;IAAC,IAAA,OAAO,CAwBrB;IAxBc,WAAA,OAAO,EAAC,CAAC;QAkBT,aAAK,GAAa;YACzB,KAAK,YAAC,GAAgB;YACtB,CAAC;YACD,IAAI,YAAC,GAAkB,EAAE,GAAgB;YACzC,CAAC;SACJ,CAAC;IACN,CAAC,EAxBc,OAAO,GAAP,YAAO,KAAP,YAAO,QAwBrB;AAAD,CAAC,EAxBS,IAAI,KAAJ,IAAI,QAwBb;ACxBD,IAAU,IAAI,CA0Bb;AA1BD,WAAU,IAAI;IAAC,IAAA,OAAO,CA0BrB;IA1Bc,WAAA,OAAO,EAAC,CAAC;QAIT,YAAI,GAAa;YACxB,KAAK,YAAC,GAAwB;gBAE1B,IAAI,IAAI,GAAmB,GAAG,CAAC,SAAS,CAAC;gBACzC,IAAI,CAAC,OAAO;qBACP,WAAW,CAAC,GAAG,CAAC,QAAQ,CAAC;qBACzB,aAAa,CAAC,GAAG,CAAC,UAAU,CAAC,CAAC;YACvC,CAAC;YACD,IAAI,YAAC,GAAyB,EAAE,GAAwB;gBACpD,IAAI,EAAE,GAAG,GAAG,CAAC,QAAQ,CAAC;gBACtB,EAAE,CAAC,CAAC,EAAE,CAAC,KAAK,IAAI,CAAC,IAAI,EAAE,CAAC,MAAM,IAAI,CAAC,CAAC,CAAC,CAAC;oBAElC,MAAM,CAAC;gBACX,CAAC;gBAED,IAAI,GAAG,GAAG,GAAG,CAAC,GAAG,EACb,KAAK,GAAe,GAAG,CAAC,KAAK,CAAC;gBAClC,GAAG,CAAC,SAAS,EAAE,CAAC;gBAChB,KAAK,CAAC,IAAI,CAAC,IAAI,CAAC,GAAG,CAAC,CAAC;YAEzB,CAAC;SACJ,CAAC;IACN,CAAC,EA1Bc,OAAO,GAAP,YAAO,KAAP,YAAO,QA0BrB;AAAD,CAAC,EA1BS,IAAI,KAAJ,IAAI,QA0Bb;ACxBD,IAAU,IAAI,CA0Cb;AA1CD,WAAU,IAAI;IAAC,IAAA,IAAI,CA0ClB;IA1Cc,WAAA,IAAI,EAAC,CAAC;QACjB,IAAO,YAAY,GAAG,IAAI,CAAC,OAAO,CAAC,YAAY,CAAC;QAUhD;YAA+B,6BAAY;YAA3C;gBAA+B,8BAAY;YA8B3C,CAAC;YAvBG,yBAAK,GAAL;gBACI,gBAAK,CAAC,KAAK,WAAE,CAAC;gBAEd,IAAI,CAAC,IAAI,GAAG,IAAI,CAAC;gBACjB,IAAI,CAAC,MAAM,GAAG,IAAI,CAAC;gBACnB,IAAI,CAAC,eAAe,GAAG,CAAC,CAAC;gBAEzB,IAAI,CAAa,CAAC;gBAClB,CAAC,GAAG;oBACA,MAAM,EAAE,gBAAW,CAAC,MAAM;oBAC1B,IAAI,EAAE,gBAAW,CAAC,IAAI;oBACtB,OAAO,EAAE,gBAAW,CAAC,OAAO;oBAC5B,KAAK,EAAE,gBAAW,CAAC,KAAK;oBACxB,MAAM,EAAE,gBAAW,CAAC,MAAM;oBAC1B,QAAQ;wBACJ,MAAM,CAAC,SAAI,CAAC,QAAQ,CAAC,CAAC,CAAC,CAAC;oBAC5B,CAAC;iBACJ,CAAC;gBACF,IAAI,CAAC,IAAI,GAAG,CAAC,CAAC;gBACd,IAAI,CAAC,IAAI,GAAG,EAAE,CAAC;gBAEf,MAAM,CAAC,IAAI,CAAC;YAChB,CAAC;YACL,gBAAC;QAAD,CA9BA,AA8BC,CA9B8B,YAAY,GA8B1C;QA9BY,cAAS,YA8BrB,CAAA;IACL,CAAC,EA1Cc,IAAI,GAAJ,SAAI,KAAJ,SAAI,QA0ClB;AAAD,CAAC,EA1CS,IAAI,KAAJ,IAAI,QA0Cb;AC1CD,IAAU,IAAI,CAQb;AARD,WAAU,IAAI;IAAC,IAAA,MAAM,CAQpB;IARc,WAAA,MAAM,EAAC,CAAC;QACnB,IAAO,gBAAgB,GAAG,IAAI,CAAC,OAAO,CAAC,gBAAgB,CAAC;QAKxD;YAAqC,mCAAgB;YAArD;gBAAqC,8BAAgB;YACrD,CAAC;YAAD,sBAAC;QAAD,CADA,AACC,CADoC,gBAAgB,GACpD;QADY,sBAAe,kBAC3B,CAAA;IACL,CAAC,EARc,MAAM,GAAN,WAAM,KAAN,WAAM,QAQpB;AAAD,CAAC,EARS,IAAI,KAAJ,IAAI,QAQb;ACVD,IAAU,IAAI,CAgBb;AAhBD,WAAU,IAAI;IAAC,IAAA,IAAI,CAgBlB;IAhBc,WAAA,IAAI,EAAC,CAAC;QAKjB,IAAI,YAAY,GAAmC;YAC/C,IAAI;gBACA,MAAM,CAAC,SAAS,CAAC;YACrB,CAAC;SACJ,CAAC;QAEF,mBAA0B,EAAoB,EAAE,OAAiB;YAC7D,EAAE,CAAC,CAAC,OAA8B,EAAG,CAAC,IAAI,KAAK,UAAU,CAAC;gBACtD,MAAM,CAAwB,EAAG,CAAC,IAAI,CAAC,OAAO,CAAC,CAAC;YACpD,MAAM,CAAC,YAAY,CAAC;QACxB,CAAC;QAJe,cAAS,YAIxB,CAAA;IACL,CAAC,EAhBc,IAAI,GAAJ,SAAI,KAAJ,SAAI,QAgBlB;AAAD,CAAC,EAhBS,IAAI,KAAJ,IAAI,QAgBb;AChBD,IAAU,IAAI,CA8Bb;AA9BD,WAAU,IAAI;IAAC,IAAA,OAAO,CA8BrB;IA9Bc,WAAA,OAAO;QAAC,IAAA,IAAI,CA8B1B;QA9BsB,WAAA,IAAI,EAAC,CAAC;YAOzB;gBAAA;gBAsBA,CAAC;gBAnBG,6BAAS,GAAT,UAAU,GAAkB;oBACxB,MAAM,CAAC,GAAG,CAAC,SAAS,CAAC,OAAO,CAAC,kBAAU,CAAC,IAAI,CAAC,CAAC;gBAClD,CAAC;gBAED,2BAAO,GAAP,UAAQ,GAAkB;oBACtB,IAAI,IAAI,GAAG,kBAAU,CAAC,IAAI,CAAC;oBAC3B,EAAE,CAAC,CAAC,YAAO,CAAC,OAAO,CAAC,GAAG,CAAC,CAAC;wBACrB,IAAI,IAAI,kBAAU,CAAC,OAAO,CAAC;oBAC/B,EAAE,CAAC,CAAC,YAAO,CAAC,OAAO,CAAC,GAAG,CAAC,CAAC;wBACrB,IAAI,IAAI,kBAAU,CAAC,OAAO,CAAC;oBAC/B,EAAE,CAAC,CAAC,cAAS,CAAC,OAAO,CAAC,GAAG,CAAC,CAAC;wBACvB,IAAI,IAAI,kBAAU,CAAC,SAAS,CAAC;oBACjC,MAAM,CAAC,IAAI,CAAC;gBAChB,CAAC;gBAED,yBAAK,GAAL,UAAM,GAAkB;oBACpB,GAAG,CAAC,SAAS,CAAC,OAAO,CAAC,kBAAU,CAAC,IAAI,CAAC,CAAC;oBACvC,MAAM,CAAC,IAAI,CAAC;gBAChB,CAAC;gBApBM,kBAAQ,GAAG,IAAI,SAAS,EAAE,CAAC;gBAqBtC,gBAAC;YAAD,CAtBA,AAsBC,IAAA;YAtBY,cAAS,YAsBrB,CAAA;QACL,CAAC,EA9BsB,IAAI,GAAJ,YAAI,KAAJ,YAAI,QA8B1B;IAAD,CAAC,EA9Bc,OAAO,GAAP,YAAO,KAAP,YAAO,QA8BrB;AAAD,CAAC,EA9BS,IAAI,KAAJ,IAAI,QA8Bb;AC5BD,IAAU,IAAI,CAqBb;AArBD,WAAU,IAAI;IAAC,IAAA,SAAS,CAqBvB;IArBc,WAAA,SAAS;QAAC,IAAA,IAAI,CAqB5B;QArBwB,WAAA,IAAI,EAAC,CAAC;YAU3B;gBAA+B,6BAAsB;gBAArD;oBAA+B,8BAAsB;gBAUrD,CAAC;gBAPG,2BAAO,GAAP,UAAQ,GAAkB;oBACtB,IAAI,IAAI,GAAG,gBAAK,CAAC,OAAO,YAAC,GAAG,CAAC,CAAC;oBAC9B,GAAG,CAAC,CAAC,IAAI,GAAG,GAAG,GAAG,CAAC,MAAM,CAAC,IAAI,EAAE,EAAE,CAAC,CAAC,GAAG,EAAE,GAAG,GAAG,GAAG,CAAC,MAAM,CAAC,IAAI,EAAE,EAAE,CAAC;wBAC/D,GAAG,CAAC,SAAS,CAAC,KAAK,CAAC,IAAI,CAAC,CAAC;oBAC9B,CAAC;oBACD,MAAM,CAAC,IAAI,CAAC;gBAChB,CAAC;gBARM,kBAAQ,GAAG,IAAI,SAAS,EAAE,CAAC;gBAStC,gBAAC;YAAD,CAVA,AAUC,CAV8B,YAAO,CAAC,IAAI,CAAC,SAAS,GAUpD;YAVY,cAAS,YAUrB,CAAA;QACL,CAAC,EArBwB,IAAI,GAAJ,cAAI,KAAJ,cAAI,QAqB5B;IAAD,CAAC,EArBc,SAAS,GAAT,cAAS,KAAT,cAAS,QAqBvB;AAAD,CAAC,EArBS,IAAI,KAAJ,IAAI,QAqBb;ACvBD,IAAU,IAAI,CA8Cb;AA9CD,WAAU,IAAI;IAAC,IAAA,OAAO,CA8CrB;IA9Cc,WAAA,OAAO;QAAC,IAAA,GAAG,CA8CzB;QA9CsB,WAAA,GAAG,EAAC,CAAC;YACxB,IAAO,IAAI,GAAG,EAAE,CAAC,IAAI,CAAC;YACtB,IAAO,IAAI,GAAG,EAAE,CAAC,IAAI,CAAC;YACtB,IAAO,IAAI,GAAG,EAAE,CAAC,IAAI,CAAC;YAEtB;gBAAA;gBAwCA,CAAC;gBArCG,2BAAO,GAAP,UAAQ,EAAoB,EAAE,GAA8B,EAAE,GAAiB,EAAE,OAA2B;oBACxG,EAAE,CAAC,CAAC,CAAC,IAAI,CAAC,MAAM,CAAC,EAAE,EAAE,GAAG,EAAE,GAAG,CAAC,CAAC;wBAC3B,MAAM,CAAC;oBACX,GAAG,CAAC,IAAI,EAAE,CAAC;oBACX,GAAG,CAAC,QAAQ,CAAC,EAAE,CAAC,SAAS,CAAC,SAAS,CAAC,CAAC;oBACrC,IAAI,MAAM,GAAG,KAAK,CAAC;oBACnB,EAAE,CAAC,CAAC,IAAI,CAAC,GAAG,CAAC,EAAE,EAAE,GAAG,EAAE,GAAG,EAAE,OAAO,CAAC,CAAC,CAAC,CAAC;wBAClC,MAAM,GAAG,IAAI,CAAC;wBACd,OAAO,CAAC,OAAO,CAAC,EAAE,CAAC,CAAC;oBACxB,CAAC;oBACD,GAAG,CAAC,OAAO,EAAE,CAAC;oBACd,MAAM,CAAC,MAAM,CAAC;gBAClB,CAAC;gBAES,0BAAM,GAAhB,UAAiB,EAAoB,EAAE,GAA8B,EAAE,GAAiB;oBACpF,IAAI,IAAI,GAAG,EAAE,CAAC,SAAS,CAAC;oBACxB,EAAE,CAAC,CAAC,CAAC,IAAI,CAAC,OAAO,IAAI,CAAC,IAAI,CAAC,OAAO,GAAG,GAAG,CAAC,GAAG,GAAG,CAAC;wBAC5C,MAAM,CAAC,KAAK,CAAC;oBACjB,IAAI,QAAQ,GAAG,IAAI,CAAC,aAAa,CAAC,GAAG,CAAC,gBAAgB,EAAE,GAAG,EAAE,IAAI,CAAC,MAAM,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC;oBAChF,MAAM,CAAC,IAAI,CAAC,YAAY,CAAC,IAAI,CAAC,OAAO,EAAE,QAAQ,CAAC,CAAC;gBACrD,CAAC;gBAES,uBAAG,GAAb,UAAc,EAAoB,EAAE,GAA8B,EAAE,GAAiB,EAAE,OAA2B;oBAG9G,MAAM,CAAC,KAAK,CAAC;gBACjB,CAAC;gBAES,wBAAI,GAAd,UAAe,EAAkB,EAAE,GAA8B;oBAC7D,IAAI,IAAI,GAAwB;wBAC5B,KAAK,EAAE,EAAE,CAAC,KAAK;wBACf,SAAS,EAAE,EAAE,CAAC,SAAS;wBACvB,QAAQ,EAAE,IAAI;wBACd,UAAU,EAAE,IAAI;qBACnB,CAAC;oBACF,EAAE,CAAC,OAAO,CAAC,IAAI,CAAC,GAAG,EAAE,IAAI,CAAC,CAAC;gBAC/B,CAAC;gBAtCM,kBAAQ,GAAG,IAAI,SAAS,EAAE,CAAC;gBAuCtC,gBAAC;YAAD,CAxCA,AAwCC,IAAA;YAxCY,aAAS,YAwCrB,CAAA;QACL,CAAC,EA9CsB,GAAG,GAAH,WAAG,KAAH,WAAG,QA8CzB;IAAD,CAAC,EA9Cc,OAAO,GAAP,YAAO,KAAP,YAAO,QA8CrB;AAAD,CAAC,EA9CS,IAAI,KAAJ,IAAI,QA8Cb;AC5CD,IAAU,IAAI,CAYb;AAZD,WAAU,IAAI;IAAC,IAAA,SAAS,CAYvB;IAZc,WAAA,SAAS;QAAC,IAAA,GAAG,CAY3B;QAZwB,WAAA,GAAG,EAAC,CAAC;YAC1B;gBAA+B,6BAAqB;gBAApD;oBAA+B,8BAAqB;gBAUpD,CAAC;gBAPa,uBAAG,GAAb,UAAc,EAAc,EAAE,GAA8B,EAAE,GAAiB,EAAE,OAA2B;oBACxG,GAAG,CAAC,CAAC,IAAI,MAAM,GAAG,EAAE,CAAC,IAAI,CAAC,IAAI,CAAC,EAAE,GAAG,GAAG,MAAM,CAAC,IAAI,EAAE,EAAE,CAAC,CAAC,GAAG,EAAE,GAAG,GAAG,MAAM,CAAC,IAAI,EAAE,EAAE,CAAC;wBAC/E,EAAE,CAAC,CAAC,WAAM,CAAC,GAAG,CAAC,EAAE,EAAE,GAAG,EAAE,GAAG,EAAE,OAAO,CAAC,CAAC;4BAClC,MAAM,CAAC,IAAI,CAAC;oBACpB,CAAC;oBACD,MAAM,CAAC,KAAK,CAAC;gBACjB,CAAC;gBARM,kBAAQ,GAAG,IAAI,SAAS,EAAE,CAAC;gBAStC,gBAAC;YAAD,CAVA,AAUC,CAV8B,YAAO,CAAC,GAAG,CAAC,SAAS,GAUnD;YAVY,aAAS,YAUrB,CAAA;QACL,CAAC,EAZwB,GAAG,GAAH,aAAG,KAAH,aAAG,QAY3B;IAAD,CAAC,EAZc,SAAS,GAAT,cAAS,KAAT,cAAS,QAYvB;AAAD,CAAC,EAZS,IAAI,KAAJ,IAAI,QAYb;ACZD,IAAU,IAAI,CAsEb;AAtED,WAAU,IAAI;IAAC,IAAA,OAAO,CAsErB;IAtEc,WAAA,OAAO;QAAC,IAAA,MAAM,CAsE5B;QAtEsB,WAAA,MAAM,EAAC,CAAC;YAY3B,WAAY,UAAU;gBAClB,2CAAQ,CAAA;gBACR,+CAAe,CAAA;gBACf,2CAAa,CAAA;gBAEb,yCAAmB,CAAA;YACvB,CAAC,EANW,iBAAU,KAAV,iBAAU,QAMrB;YAND,IAAY,UAAU,GAAV,iBAMX,CAAA;YAED;gBAAA;gBAiDA,CAAC;gBA9CG,2BAAO,GAAP,UAAQ,GAAkB;oBACtB,IAAI,MAAM,GAAG,IAAI,CAAC,SAAS,CAAC,GAAG,CAAC,CAAC;oBACjC,EAAE,CAAC,CAAC,CAAC,MAAM,GAAG,UAAU,CAAC,MAAM,CAAC,KAAK,CAAC,CAAC,CAAC,CAAC;wBACrC,IAAI,CAAC,MAAM,CAAC,GAAG,CAAC,CAAC;oBACrB,CAAC;oBACD,EAAE,CAAC,CAAC,CAAC,MAAM,GAAG,UAAU,CAAC,IAAI,CAAC,KAAK,CAAC,CAAC,CAAC,CAAC;wBACnC,IAAI,CAAC,UAAU,CAAC,GAAG,CAAC,CAAC;oBACzB,CAAC;gBACL,CAAC;gBAED,yBAAK,GAAL,UAAM,GAAkB;oBACpB,GAAG,CAAC,SAAS,CAAC,OAAO,CAAC,kBAAU,CAAC,UAAU,CAAC,CAAC;oBAC7C,EAAE,CAAC,IAAI,CAAC,IAAI,CAAC,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,GAAG,CAAC,SAAS,CAAC,KAAK,CAAC,CAAC;oBAC9C,MAAM,CAAC,IAAI,CAAC;gBAChB,CAAC;gBAES,6BAAS,GAAnB,UAAoB,GAAkB;oBAClC,EAAE,CAAC,CAAC,CAAC,eAAQ,CAAC,OAAO,CAAC,GAAG,CAAC,CAAC;wBACvB,MAAM,CAAC,UAAU,CAAC,GAAG,CAAC;oBAC1B,EAAE,CAAC,CAAC,CAAC,aAAM,CAAC,OAAO,CAAC,GAAG,CAAC,CAAC;wBACrB,MAAM,CAAC,UAAU,CAAC,GAAG,CAAC;oBAC1B,cAAO,CAAC,OAAO,CAAC,GAAG,CAAC,CAAC;oBACrB,aAAM,CAAC,OAAO,CAAC,GAAG,CAAC,CAAC;oBAEpB,MAAM,CAAC,UAAU,CAAC,IAAI,CAAC;gBAC3B,CAAC;gBAES,0BAAM,GAAhB,UAAiB,GAAkB;oBAC/B,IAAI,IAAI,GAAG,IAAI,CAAC,gBAAgB,CAAC,GAAG,CAAC,CAAC;oBACtC,GAAG,CAAC,OAAO,CAAC,KAAK,CAAC,IAAI,CAAC,CAAC;oBACxB,GAAG,CAAC,OAAO,CAAC,IAAI,CAAC,GAAG,CAAC,GAAG,EAAE,IAAI,CAAC,CAAC;gBACpC,CAAC;gBAES,8BAAU,GAApB,UAAqB,GAAkB;oBAEnC,GAAG,CAAC,GAAG,CAAC,OAAO,EAAE,CAAC;gBACtB,CAAC;gBAES,oCAAgB,GAA1B,UAA2B,GAAkB;oBACzC,MAAM,CAAC;wBACH,KAAK,EAAE,GAAG,CAAC,KAAK;wBAChB,SAAS,EAAE,GAAG,CAAC,SAAS;wBACxB,QAAQ,EAAE,EAAE,CAAC,IAAI,CAAC,IAAI,CAAC,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,CAAC;wBAClC,UAAU,EAAE,EAAE,CAAC,IAAI,CAAC,IAAI,CAAC,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,CAAC;qBACvC,CAAC;gBACN,CAAC;gBA/CM,kBAAQ,GAAG,IAAI,SAAS,EAAE,CAAC;gBAgDtC,gBAAC;YAAD,CAjDA,AAiDC,IAAA;YAjDY,gBAAS,YAiDrB,CAAA;QACL,CAAC,EAtEsB,MAAM,GAAN,cAAM,KAAN,cAAM,QAsE5B;IAAD,CAAC,EAtEc,OAAO,GAAP,YAAO,KAAP,YAAO,QAsErB;AAAD,CAAC,EAtES,IAAI,KAAJ,IAAI,QAsEb;ACtED,IAAU,IAAI,CAeb;AAfD,WAAU,IAAI;IAAC,IAAA,SAAS,CAevB;IAfc,WAAA,SAAS;QAAC,IAAA,MAAM,CAe9B;QAfwB,WAAA,MAAM,EAAC,CAAC;YAM7B;gBAA+B,6BAAwB;gBAAvD;oBAA+B,8BAAwB;gBAQvD,CAAC;gBALa,0BAAM,GAAhB,UAAiB,GAAkB;oBAC/B,GAAG,CAAC,CAAC,IAAI,GAAG,GAAG,GAAG,CAAC,MAAM,CAAC,IAAI,EAAE,EAAE,CAAC,CAAC,GAAG,EAAE,GAAG,GAAG,GAAG,CAAC,MAAM,CAAC,IAAI,EAAE,EAAE,CAAC;wBAC/D,WAAM,CAAC,MAAM,CAAC,GAAG,EAAE,GAAG,CAAC,GAAG,EAAE,GAAG,CAAC,SAAS,CAAC,CAAC;oBAC/C,CAAC;gBACL,CAAC;gBANM,kBAAQ,GAAG,IAAI,SAAS,EAAE,CAAC;gBAOtC,gBAAC;YAAD,CARA,AAQC,CAR8B,YAAO,CAAC,MAAM,CAAC,SAAS,GAQtD;YARY,gBAAS,YAQrB,CAAA;QACL,CAAC,EAfwB,MAAM,GAAN,gBAAM,KAAN,gBAAM,QAe9B;IAAD,CAAC,EAfc,SAAS,GAAT,cAAS,KAAT,cAAS,QAevB;AAAD,CAAC,EAfS,IAAI,KAAJ,IAAI,QAeb;ACfD,IAAU,IAAI,CA2Bb;AA3BD,WAAU,IAAI;IAAC,IAAA,SAAS,CA2BvB;IA3Bc,WAAA,SAAS;QAAC,IAAA,EAAE,CA2B1B;QA3BwB,WAAA,EAAE;YAAC,IAAA,OAAO,CA2BlC;YA3B2B,WAAA,OAAO,EAAC,CAAC;gBACjC,IAAO,IAAI,GAAG,EAAE,CAAC,IAAI,CAAC;gBACtB,IAAO,UAAU,GAAG,IAAI,CAAC,OAAO,CAAC,UAAU,CAAC;gBAC5C,IAAI,UAAU,GAAG,IAAI,CAAC,IAAI,CAAC,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,CAAC,CAAC;gBAMvC,iBAAwB,GAAkB;oBACtC,IAAI,IAAI,GAAG,GAAG,CAAC,SAAS,CAAC;oBACzB,EAAE,CAAC,CAAC,CAAC,IAAI,CAAC,OAAO,CAAC,UAAU,CAAC,OAAO,CAAC,CAAC;wBAClC,MAAM,CAAC,KAAK,CAAC;oBACjB,IAAI,CAAC,MAAM,CAAC,IAAI,CAAC,OAAO,EAAE,UAAU,CAAC,CAAC;oBAEtC,IAAI,CAAC,IAAI,CAAC,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,IAAI,CAAC,OAAO,CAAC,CAAC;oBACpC,GAAG,CAAC,CAAC,IAAI,MAAM,GAAG,GAAG,CAAC,WAAW,EAAE,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,MAAM,CAAC,MAAM,EAAE,CAAC,EAAE,EAAE,CAAC;wBAC/D,IAAI,CAAC,KAAK,CAAC,IAAI,CAAC,OAAO,EAAE,MAAM,CAAC,CAAC,CAAC,CAAC,OAAO,CAAC,CAAC;oBAChD,CAAC;oBACD,IAAI,CAAC,SAAS,CAAC,IAAI,CAAC,OAAO,EAAE,IAAI,CAAC,SAAS,EAAE,IAAI,CAAC,OAAO,CAAC,CAAC;oBAE3D,EAAE,CAAC,CAAC,IAAI,CAAC,KAAK,CAAC,IAAI,CAAC,OAAO,EAAE,UAAU,CAAC,CAAC;wBACrC,MAAM,CAAC,KAAK,CAAC;oBACjB,IAAI,CAAC,KAAK,CAAC,IAAI,CAAC,KAAK,EAAE,UAAU,CAAC,CAAC;oBACnC,IAAI,CAAC,KAAK,CAAC,UAAU,CAAC,SAAS,CAAC,CAAC;oBACjC,MAAM,CAAC,IAAI,CAAC;gBAChB,CAAC;gBAjBe,eAAO,UAiBtB,CAAA;YACL,CAAC,EA3B2B,OAAO,GAAP,UAAO,KAAP,UAAO,QA2BlC;QAAD,CAAC,EA3BwB,EAAE,GAAF,YAAE,KAAF,YAAE,QA2B1B;IAAD,CAAC,EA3Bc,SAAS,GAAT,cAAS,KAAT,cAAS,QA2BvB;AAAD,CAAC,EA3BS,IAAI,KAAJ,IAAI,QA2Bb;AC7BD,IAAU,IAAI,CAiBb;AAjBD,WAAU,IAAI;IAAC,IAAA,SAAS,CAiBvB;IAjBc,WAAA,SAAS;QAAC,IAAA,EAAE,CAiB1B;QAjBwB,WAAA,EAAE;YAAC,IAAA,UAAU,CAiBrC;YAjB2B,WAAA,UAAU,EAAC,CAAC;gBACpC,IAAO,UAAU,GAAG,IAAI,CAAC,OAAO,CAAC,UAAU,CAAC;gBAE5C,iBAAwB,GAAkB;oBACtC,IAAI,IAAI,GAAG,GAAG,CAAC,SAAS,CAAC;oBACzB,EAAE,CAAC,CAAC,CAAC,IAAI,CAAC,OAAO,CAAC,UAAU,CAAC,UAAU,CAAC,CAAC;wBACrC,MAAM,CAAC,KAAK,CAAC;oBAEjB,IAAI,UAAU,GAAG,EAAE,CAAC,IAAI,CAAC,IAAI,CAAC,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,CAAC,CAAC;oBAC1C,GAAG,CAAC,CAAC,IAAI,MAAM,GAAG,GAAG,CAAC,WAAW,EAAE,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,MAAM,CAAC,MAAM,EAAE,CAAC,EAAE,EAAE,CAAC;wBAC/D,EAAE,CAAC,IAAI,CAAC,KAAK,CAAC,UAAU,EAAE,MAAM,CAAC,CAAC,CAAC,CAAC,KAAK,CAAC,CAAC;oBAC/C,CAAC;oBACD,EAAE,CAAC,IAAI,CAAC,SAAS,CAAC,UAAU,EAAE,IAAI,CAAC,SAAS,EAAE,UAAU,CAAC,CAAC;oBAE1D,EAAE,CAAC,IAAI,CAAC,KAAK,CAAC,IAAI,CAAC,KAAK,EAAE,UAAU,CAAC,CAAC;oBACtC,MAAM,CAAC,IAAI,CAAC;gBAChB,CAAC;gBAbe,kBAAO,UAatB,CAAA;YACL,CAAC,EAjB2B,UAAU,GAAV,aAAU,KAAV,aAAU,QAiBrC;QAAD,CAAC,EAjBwB,EAAE,GAAF,YAAE,KAAF,YAAE,QAiB1B;IAAD,CAAC,EAjBc,SAAS,GAAT,cAAS,KAAT,cAAS,QAiBvB;AAAD,CAAC,EAjBS,IAAI,KAAJ,IAAI,QAiBb;ACjBD,IAAU,IAAI,CA2Bb;AA3BD,WAAU,IAAI;IAAC,IAAA,OAAO,CA2BrB;IA3Bc,WAAA,OAAO;QAAC,IAAA,EAAE,CA2BxB;QA3BsB,WAAA,EAAE,EAAC,CAAC;YAOvB;gBAAA;gBAmBA,CAAC;gBAhBG,6BAAS,GAAT,UAAU,GAAkB;oBACxB,MAAM,CAAC,GAAG,CAAC,SAAS,CAAC,OAAO,CAAC,kBAAU,CAAC,EAAE,CAAC,CAAC;gBAChD,CAAC;gBAED,2BAAO,GAAP,UAAQ,GAAkB;oBACtB,IAAI,IAAI,GAAG,kBAAU,CAAC,IAAI,CAAC;oBAC3B,EAAE,CAAC,CAAC,UAAO,CAAC,OAAO,CAAC,GAAG,CAAC,CAAC;wBACrB,IAAI,IAAI,kBAAU,CAAC,OAAO,CAAC;oBAC/B,YAAS,CAAC,OAAO,CAAC,GAAG,CAAC,CAAC;oBACvB,MAAM,CAAC,IAAI,CAAC;gBAChB,CAAC;gBAED,yBAAK,GAAL,UAAM,GAAkB;oBACpB,GAAG,CAAC,SAAS,CAAC,OAAO,CAAC,kBAAU,CAAC,EAAE,CAAC,CAAC;oBACrC,MAAM,CAAC,IAAI,CAAC;gBAChB,CAAC;gBAjBM,kBAAQ,GAAG,IAAI,SAAS,EAAE,CAAC;gBAkBtC,gBAAC;YAAD,CAnBA,AAmBC,IAAA;YAnBY,YAAS,YAmBrB,CAAA;QACL,CAAC,EA3BsB,EAAE,GAAF,UAAE,KAAF,UAAE,QA2BxB;IAAD,CAAC,EA3Bc,OAAO,GAAP,YAAO,KAAP,YAAO,QA2BrB;AAAD,CAAC,EA3BS,IAAI,KAAJ,IAAI,QA2Bb;AC3BD,IAAU,IAAI,CAQb;AARD,WAAU,IAAI;IAAC,IAAA,OAAO,CAQrB;IARc,WAAA,OAAO;QAAC,IAAA,EAAE,CAQxB;QARsB,WAAA,EAAE;YAAC,IAAA,SAAS,CAQlC;YARyB,WAAA,SAAS,EAAC,CAAC;gBACjC,iBAAwB,GAAkB;oBACtC,IAAI,IAAI,GAAG,GAAG,CAAC,SAAS,CAAC;oBACzB,EAAE,CAAC,CAAC,CAAC,IAAI,CAAC,OAAO,CAAC,kBAAU,CAAC,SAAS,CAAC,IAAI,CAAC,IAAI,CAAC,OAAO,IAAI,CAAC,IAAI,CAAC,OAAO,GAAG,GAAG,CAAC,GAAG,GAAG,CAAC;wBACnF,MAAM,CAAC,KAAK,CAAC;oBACjB,IAAI,CAAC,UAAU,EAAE,CAAC;oBAClB,MAAM,CAAC,IAAI,CAAC;gBAChB,CAAC;gBANe,iBAAO,UAMtB,CAAA;YACL,CAAC,EARyB,SAAS,GAAT,YAAS,KAAT,YAAS,QAQlC;QAAD,CAAC,EARsB,EAAE,GAAF,UAAE,KAAF,UAAE,QAQxB;IAAD,CAAC,EARc,OAAO,GAAP,YAAO,KAAP,YAAO,QAQrB;AAAD,CAAC,EARS,IAAI,KAAJ,IAAI,QAQb;ACJD,IAAU,IAAI,CAuBb;AAvBD,WAAU,IAAI;IAAC,IAAA,SAAS,CAuBvB;IAvBc,WAAA,SAAS;QAAC,IAAA,EAAE,CAuB1B;QAvBwB,WAAA,EAAE,EAAC,CAAC;YACzB,IAAO,UAAU,GAAG,IAAI,CAAC,OAAO,CAAC,UAAU,CAAC;YAC5C,IAAO,SAAS,GAAG,IAAI,CAAC,OAAO,CAAC,EAAE,CAAC,SAAS,CAAC;YAQ7C;gBAA+B,6BAAoB;gBAAnD;oBAA+B,8BAAoB;gBAYnD,CAAC;gBATG,2BAAO,GAAP,UAAQ,GAAkB;oBACtB,IAAI,IAAI,GAAG,UAAU,CAAC,IAAI,CAAC;oBAC3B,EAAE,CAAC,CAAC,UAAO,CAAC,OAAO,CAAC,GAAG,CAAC,CAAC;wBACrB,IAAI,IAAI,UAAU,CAAC,OAAO,CAAC;oBAC/B,SAAS,CAAC,OAAO,CAAC,GAAG,CAAC,CAAC;oBACvB,EAAE,CAAC,CAAC,aAAU,CAAC,OAAO,CAAC,GAAG,CAAC,CAAC;wBACxB,IAAI,IAAI,UAAU,CAAC,UAAU,CAAC;oBAClC,MAAM,CAAC,IAAI,CAAC;gBAChB,CAAC;gBAVM,kBAAQ,GAAG,IAAI,SAAS,EAAE,CAAC;gBAWtC,gBAAC;YAAD,CAZA,AAYC,CAZ8B,YAAO,CAAC,EAAE,CAAC,SAAS,GAYlD;YAZY,YAAS,YAYrB,CAAA;QACL,CAAC,EAvBwB,EAAE,GAAF,YAAE,KAAF,YAAE,QAuB1B;IAAD,CAAC,EAvBc,SAAS,GAAT,cAAS,KAAT,cAAS,QAuBvB;AAAD,CAAC,EAvBS,IAAI,KAAJ,IAAI,QAuBb;AC3BD,IAAU,IAAI,CAYb;AAZD,WAAU,IAAI;IAAC,IAAA,OAAO,CAYrB;IAZc,WAAA,OAAO;QAAC,IAAA,IAAI,CAY1B;QAZsB,WAAA,IAAI;YAAC,IAAA,OAAO,CAYlC;YAZ2B,WAAA,OAAO,EAAC,CAAC;gBACjC,iBAAwB,GAAkB;oBACtC,IAAI,IAAI,GAAG,GAAG,CAAC,SAAS,CAAC;oBACzB,EAAE,CAAC,CAAC,CAAC,IAAI,CAAC,OAAO,CAAC,kBAAU,CAAC,OAAO,CAAC,CAAC;wBAClC,MAAM,CAAC,KAAK,CAAC;oBACjB,IAAI,UAAU,GAAG,GAAG,CAAC,UAAU,CAAC,OAAO,GAAG,GAAG,CAAC,KAAK,CAAC,OAAO,CAAC;oBAC5D,EAAE,CAAC,CAAC,IAAI,CAAC,OAAO,KAAK,UAAU,CAAC;wBAC5B,MAAM,CAAC,KAAK,CAAC;oBACjB,IAAI,CAAC,KAAK,CAAC,kBAAU,CAAC,SAAS,CAAC,CAAC;oBACjC,IAAI,CAAC,OAAO,GAAG,UAAU,CAAC;oBAC1B,MAAM,CAAC,IAAI,CAAC;gBAChB,CAAC;gBAVe,eAAO,UAUtB,CAAA;YACL,CAAC,EAZ2B,OAAO,GAAP,YAAO,KAAP,YAAO,QAYlC;QAAD,CAAC,EAZsB,IAAI,GAAJ,YAAI,KAAJ,YAAI,QAY1B;IAAD,CAAC,EAZc,OAAO,GAAP,YAAO,KAAP,YAAO,QAYrB;AAAD,CAAC,EAZS,IAAI,KAAJ,IAAI,QAYb;ACZD,IAAU,IAAI,CAyBb;AAzBD,WAAU,IAAI;IAAC,IAAA,OAAO,CAyBrB;IAzBc,WAAA,OAAO;QAAC,IAAA,IAAI,CAyB1B;QAzBsB,WAAA,IAAI;YAAC,IAAA,SAAS,CAyBpC;YAzB2B,WAAA,SAAS,EAAC,CAAC;gBACnC,IAAO,IAAI,GAAG,EAAE,CAAC,IAAI,CAAC;gBACtB,IAAI,YAAY,GAAG,IAAI,CAAC,QAAQ,EAAE,CAAC;gBAEnC,iBAAwB,GAAkB;oBACtC,IAAI,IAAI,GAAG,GAAG,CAAC,SAAS,CAAC;oBACzB,EAAE,CAAC,CAAC,CAAC,IAAI,CAAC,OAAO,CAAC,kBAAU,CAAC,SAAS,CAAC,CAAC;wBACpC,MAAM,CAAC,KAAK,CAAC;oBACjB,IAAI,CAAC,MAAM,CAAC,IAAI,CAAC,SAAS,EAAE,YAAY,CAAC,CAAC;oBAC1C,IAAI,KAAK,GAAG,GAAG,CAAC,KAAK,CAAC;oBAGtB,IAAI,EAAE,GAAG,KAAK,CAAC,kBAAkB,CAAC,IAAI,CAAC,CAAC;oBACxC,IAAI,CAAC,eAAe,CAAC,CAAC,EAAE,CAAC,CAAC,EAAE,CAAC,EAAE,CAAC,CAAC,EAAE,IAAI,CAAC,SAAS,CAAC,CAAC;oBACnD,IAAI,CAAC,KAAK,CAAC,IAAI,CAAC,SAAS,EAAE,KAAK,CAAC,SAAS,CAAC,CAAC;oBAC5C,IAAI,CAAC,SAAS,CAAC,IAAI,CAAC,SAAS,EAAE,EAAE,CAAC,CAAC,EAAE,EAAE,CAAC,CAAC,CAAC,CAAC;oBAG3C,IAAI,CAAC,SAAS,CAAC,IAAI,CAAC,SAAS,EAAE,KAAK,CAAC,MAAM,CAAC,CAAC,EAAE,KAAK,CAAC,MAAM,CAAC,CAAC,CAAC,CAAC;oBAE/D,EAAE,CAAC,CAAC,CAAC,IAAI,CAAC,KAAK,CAAC,IAAI,CAAC,SAAS,EAAE,YAAY,CAAC,CAAC,CAAC,CAAC;wBAC5C,IAAI,CAAC,KAAK,CAAC,kBAAU,CAAC,OAAO,CAAC,CAAC;oBACnC,CAAC;oBACD,MAAM,CAAC,IAAI,CAAC;gBAChB,CAAC;gBApBe,iBAAO,UAoBtB,CAAA;YACL,CAAC,EAzB2B,SAAS,GAAT,cAAS,KAAT,cAAS,QAyBpC;QAAD,CAAC,EAzBsB,IAAI,GAAJ,YAAI,KAAJ,YAAI,QAyB1B;IAAD,CAAC,EAzBc,OAAO,GAAP,YAAO,KAAP,YAAO,QAyBrB;AAAD,CAAC,EAzBS,IAAI,KAAJ,IAAI,QAyBb;ACzBD,IAAU,IAAI,CAYb;AAZD,WAAU,IAAI;IAAC,IAAA,OAAO,CAYrB;IAZc,WAAA,OAAO;QAAC,IAAA,IAAI,CAY1B;QAZsB,WAAA,IAAI;YAAC,IAAA,OAAO,CAYlC;YAZ2B,WAAA,OAAO,EAAC,CAAC;gBACjC,iBAAwB,GAAkB;oBACtC,IAAI,IAAI,GAAG,GAAG,CAAC,SAAS,CAAC;oBACzB,EAAE,CAAC,CAAC,CAAC,IAAI,CAAC,OAAO,CAAC,kBAAU,CAAC,OAAO,CAAC,CAAC;wBAClC,MAAM,CAAC,KAAK,CAAC;oBACjB,IAAI,UAAU,GAAG,GAAG,CAAC,UAAU,CAAC,OAAO,IAAI,CAAC,GAAG,CAAC,KAAK,CAAC,OAAO,KAAK,IAAI,CAAC,CAAC;oBACxE,EAAE,CAAC,CAAC,IAAI,CAAC,OAAO,KAAK,UAAU,CAAC;wBAC5B,MAAM,CAAC,KAAK,CAAC;oBACjB,IAAI,CAAC,KAAK,CAAC,kBAAU,CAAC,SAAS,CAAC,CAAC;oBACjC,IAAI,CAAC,OAAO,GAAG,UAAU,CAAC;oBAC1B,MAAM,CAAC,IAAI,CAAC;gBAChB,CAAC;gBAVe,eAAO,UAUtB,CAAA;YACL,CAAC,EAZ2B,OAAO,GAAP,YAAO,KAAP,YAAO,QAYlC;QAAD,CAAC,EAZsB,IAAI,GAAJ,YAAI,KAAJ,YAAI,QAY1B;IAAD,CAAC,EAZc,OAAO,GAAP,YAAO,KAAP,YAAO,QAYrB;AAAD,CAAC,EAZS,IAAI,KAAJ,IAAI,QAYb;ACZD,IAAU,IAAI,CAIb;AAJD,WAAU,IAAI;IAAC,IAAA,OAAO,CAIrB;IAJc,WAAA,OAAO;QAAC,IAAA,MAAM,CAI5B;QAJsB,WAAA,MAAM;YAAC,IAAA,MAAM,CAInC;YAJ6B,WAAA,MAAM,EAAC,CAAC;gBAClC,iBAAwB,GAAkB;gBAE1C,CAAC;gBAFe,cAAO,UAEtB,CAAA;YACL,CAAC,EAJ6B,MAAM,GAAN,aAAM,KAAN,aAAM,QAInC;QAAD,CAAC,EAJsB,MAAM,GAAN,cAAM,KAAN,cAAM,QAI5B;IAAD,CAAC,EAJc,OAAO,GAAP,YAAO,KAAP,YAAO,QAIrB;AAAD,CAAC,EAJS,IAAI,KAAJ,IAAI,QAIb;ACJD,IAAU,IAAI,CAKb;AALD,WAAU,IAAI;IAAC,IAAA,OAAO,CAKrB;IALc,WAAA,OAAO;QAAC,IAAA,MAAM,CAK5B;QALsB,WAAA,MAAM;YAAC,IAAA,OAAO,CAKpC;YAL6B,WAAA,OAAO,EAAC,CAAC;gBACnC,iBAAwB,GAAkB;oBACtC,GAAG,CAAC,GAAG,CAAC,IAAI,EAAE,CAAC;oBACf,GAAG,CAAC,GAAG,CAAC,QAAQ,CAAC,GAAG,CAAC,SAAS,CAAC,SAAS,CAAC,CAAC;gBAC9C,CAAC;gBAHe,eAAO,UAGtB,CAAA;YACL,CAAC,EAL6B,OAAO,GAAP,cAAO,KAAP,cAAO,QAKpC;QAAD,CAAC,EALsB,MAAM,GAAN,cAAM,KAAN,cAAM,QAK5B;IAAD,CAAC,EALc,OAAO,GAAP,YAAO,KAAP,YAAO,QAKrB;AAAD,CAAC,EALS,IAAI,KAAJ,IAAI,QAKb;ACLD,IAAU,IAAI,CASb;AATD,WAAU,IAAI;IAAC,IAAA,OAAO,CASrB;IATc,WAAA,OAAO;QAAC,IAAA,MAAM,CAS5B;QATsB,WAAA,MAAM;YAAC,IAAA,MAAM,CASnC;YAT6B,WAAA,MAAM,EAAC,CAAC;gBAClC,IAAO,IAAI,GAAG,EAAE,CAAC,IAAI,CAAC;gBAEtB,iBAAwB,GAAkB;oBACtC,IAAI,CAAC,GAAG,IAAI,CAAC,SAAS,CAAC,GAAG,CAAC,SAAS,CAAC,OAAO,EAAE,GAAG,CAAC,GAAG,CAAC,gBAAgB,EAAE,GAAG,CAAC,SAAS,CAAC,CAAC;oBACvF,IAAI,CAAC,QAAQ,CAAC,CAAC,CAAC,CAAC;oBACjB,IAAI,CAAC,YAAY,CAAC,CAAC,EAAE,GAAG,CAAC,QAAQ,CAAC,CAAC;oBACnC,MAAM,CAAC,CAAC,CAAC,KAAK,GAAG,CAAC,IAAI,CAAC,CAAC,MAAM,GAAG,CAAC,CAAC;gBACvC,CAAC;gBALe,cAAO,UAKtB,CAAA;YACL,CAAC,EAT6B,MAAM,GAAN,aAAM,KAAN,aAAM,QASnC;QAAD,CAAC,EATsB,MAAM,GAAN,cAAM,KAAN,cAAM,QAS5B;IAAD,CAAC,EATc,OAAO,GAAP,YAAO,KAAP,YAAO,QASrB;AAAD,CAAC,EATS,IAAI,KAAJ,IAAI,QASb;ACTD,IAAU,IAAI,CAKb;AALD,WAAU,IAAI;IAAC,IAAA,OAAO,CAKrB;IALc,WAAA,OAAO;QAAC,IAAA,MAAM,CAK5B;QALsB,WAAA,MAAM;YAAC,IAAA,QAAQ,CAKrC;YAL6B,WAAA,QAAQ,EAAC,CAAC;gBACpC,iBAAwB,GAAkB;oBACtC,IAAI,IAAI,GAAG,GAAG,CAAC,SAAS,CAAC;oBACzB,MAAM,CAAC,CAAC,CAAC,IAAI,CAAC,OAAO,IAAI,CAAC,IAAI,CAAC,OAAO,GAAG,GAAG,CAAC,IAAI,GAAG,CAAC;gBACzD,CAAC;gBAHe,gBAAO,UAGtB,CAAA;YACL,CAAC,EAL6B,QAAQ,GAAR,eAAQ,KAAR,eAAQ,QAKrC;QAAD,CAAC,EALsB,MAAM,GAAN,cAAM,KAAN,cAAM,QAK5B;IAAD,CAAC,EALc,OAAO,GAAP,YAAO,KAAP,YAAO,QAKrB;AAAD,CAAC,EALS,IAAI,KAAJ,IAAI,QAKb;ACLD,IAAU,IAAI,CAqBb;AArBD,WAAU,IAAI;IAAC,IAAA,OAAO,CAqBrB;IArBc,WAAA,OAAO;QAAC,IAAA,EAAE,CAqBxB;QArBsB,WAAA,EAAE;YAAC,IAAA,OAAO,CAqBhC;YArByB,WAAA,OAAO,EAAC,CAAC;gBAC/B,IAAO,IAAI,GAAG,EAAE,CAAC,IAAI,CAAC;gBACtB,IAAI,UAAU,GAAG,IAAI,CAAC,IAAI,CAAC,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,CAAC,CAAC;gBAEvC,iBAAwB,GAAkB;oBACtC,IAAI,IAAI,GAAG,GAAG,CAAC,SAAS,CAAC;oBACzB,EAAE,CAAC,CAAC,CAAC,IAAI,CAAC,OAAO,CAAC,kBAAU,CAAC,OAAO,CAAC,CAAC;wBAClC,MAAM,CAAC,KAAK,CAAC;oBACjB,IAAI,KAAK,GAAG,GAAG,CAAC,KAAK,CAAC;oBACtB,IAAI,CAAC,MAAM,CAAC,IAAI,CAAC,OAAO,EAAE,UAAU,CAAC,CAAC;oBAEtC,IAAI,CAAC,IAAI,CAAC,CAAC,EAAE,CAAC,EAAE,KAAK,CAAC,IAAI,CAAC,KAAK,EAAE,KAAK,CAAC,IAAI,CAAC,MAAM,EAAE,IAAI,CAAC,OAAO,CAAC,CAAC;oBACnE,IAAI,CAAC,IAAI,CAAC,IAAI,CAAC,OAAO,EAAE,IAAI,CAAC,OAAO,CAAC,CAAC;oBACtC,IAAI,CAAC,SAAS,CAAC,IAAI,CAAC,OAAO,EAAE,IAAI,CAAC,SAAS,EAAE,IAAI,CAAC,OAAO,CAAC,CAAC;oBAE3D,EAAE,CAAC,CAAC,IAAI,CAAC,KAAK,CAAC,IAAI,CAAC,OAAO,EAAE,UAAU,CAAC,CAAC;wBACrC,MAAM,CAAC,KAAK,CAAC;oBACjB,IAAI,CAAC,KAAK,CAAC,IAAI,CAAC,KAAK,EAAE,UAAU,CAAC,CAAC;oBACnC,IAAI,CAAC,KAAK,CAAC,kBAAU,CAAC,SAAS,CAAC,CAAC;oBACjC,MAAM,CAAC,IAAI,CAAC;gBAChB,CAAC;gBAhBe,eAAO,UAgBtB,CAAA;YACL,CAAC,EArByB,OAAO,GAAP,UAAO,KAAP,UAAO,QAqBhC;QAAD,CAAC,EArBsB,EAAE,GAAF,UAAE,KAAF,UAAE,QAqBxB;IAAD,CAAC,EArBc,OAAO,GAAP,YAAO,KAAP,YAAO,QAqBrB;AAAD,CAAC,EArBS,IAAI,KAAJ,IAAI,QAqBb;ACrBD,IAAU,IAAI,CAmBb;AAnBD,WAAU,IAAI;IAAC,IAAA,IAAI,CAmBlB;IAnBc,WAAA,MAAI;QAAC,IAAA,MAAM,CAmBzB;QAnBmB,WAAA,QAAM,EAAC,CAAC;YACxB,IAAI,OAAO,GAAG,EAAE,CAAC;YAEN,cAAK,GAAG;gBACf,IAAI,EAAE,CAAC;gBACP,MAAM,EAAE,CAAC;aACZ,CAAC;YAEF,aAAoB,IAAkB;gBAClC,IAAI,MAAM,GAAG,IAAI,CAAC,QAAQ,EAAE,CAAC;gBAC7B,IAAI,MAAM,GAAG,OAAO,CAAC,MAAM,CAAC,CAAC;gBAC7B,EAAE,CAAC,CAAC,MAAM,IAAI,IAAI,CAAC,CAAC,CAAC;oBACjB,OAAO,CAAC,MAAM,CAAC,GAAG,MAAM,GAAG,gBAAO,CAAC,MAAM,CAAC,CAAC;oBAC3C,cAAK,CAAC,MAAM,EAAE,CAAC;gBACnB,CAAC;gBAAC,IAAI,CAAC,CAAC;oBACJ,cAAK,CAAC,IAAI,EAAE,CAAC;gBACjB,CAAC;gBACD,MAAM,CAAC,MAAM,CAAC;YAClB,CAAC;YAVe,YAAG,MAUlB,CAAA;QACL,CAAC,EAnBmB,MAAM,GAAN,aAAM,KAAN,aAAM,QAmBzB;IAAD,CAAC,EAnBc,IAAI,GAAJ,SAAI,KAAJ,SAAI,QAmBlB;AAAD,CAAC,EAnBS,IAAI,KAAJ,IAAI,QAmBb;ACnBD,IAAU,IAAI,CAgBb;AAhBD,WAAU,IAAI;IAAC,IAAA,IAAI,CAgBlB;IAhBc,WAAA,MAAI;QAAC,IAAA,MAAM,CAgBzB;QAhBmB,WAAA,MAAM,EAAC,CAAC;YACxB,IAAI,KAAkB,CAAC;YAEvB,iBAAwB,IAAkB;gBACtC,IAAI,MAAM,GAAG,IAAI,CAAC,QAAQ,EAAE,CAAC;gBAC7B,EAAE,CAAC,CAAC,CAAC,KAAK,CAAC,CAAC,CAAC;oBACT,KAAK,GAAG,QAAQ,CAAC,aAAa,CAAC,KAAK,CAAC,CAAC;oBACtC,KAAK,CAAC,WAAW,CAAC,QAAQ,CAAC,cAAc,CAAC,IAAI,CAAC,CAAC,CAAC;oBACjD,QAAQ,CAAC,IAAI,CAAC,WAAW,CAAC,KAAK,CAAC,CAAC;gBACrC,CAAC;gBACD,KAAK,CAAC,KAAK,CAAC,OAAO,GAAG,EAAE,CAAC;gBACzB,KAAK,CAAC,KAAK,CAAC,IAAI,GAAG,MAAM,CAAC;gBAC1B,IAAI,MAAM,GAAG,KAAK,CAAC,YAAY,CAAC;gBAChC,KAAK,CAAC,KAAK,CAAC,OAAO,GAAG,MAAM,CAAC;gBAC7B,MAAM,CAAC,MAAM,CAAC;YAClB,CAAC;YAZe,cAAO,UAYtB,CAAA;QACL,CAAC,EAhBmB,MAAM,GAAN,aAAM,KAAN,aAAM,QAgBzB;IAAD,CAAC,EAhBc,IAAI,GAAJ,SAAI,KAAJ,SAAI,QAgBlB;AAAD,CAAC,EAhBS,IAAI,KAAJ,IAAI,QAgBb;AChBD,IAAU,IAAI,CAWb;AAXD,WAAU,IAAI;IAAC,IAAA,IAAI,CAWlB;IAXc,WAAA,MAAI;QAAC,IAAA,KAAK,CAWxB;QAXmB,WAAA,KAAK,EAAC,CAAC;YACvB,IAAI,KAAwB,CAAC;YAE7B,iBAAwB,IAAkB,EAAE,IAAY;gBACpD,EAAE,CAAC,CAAC,CAAC,KAAK,CAAC,CAAC,CAAC;oBACT,KAAK,GAAG,QAAQ,CAAC,aAAa,CAAC,QAAQ,CAAC,CAAC;gBAC7C,CAAC;gBACD,IAAI,GAAG,GAAG,KAAK,CAAC,UAAU,CAAC,IAAI,CAAC,CAAC;gBACjC,GAAG,CAAC,IAAI,GAAG,IAAI,CAAC,QAAQ,EAAE,CAAC;gBAC3B,MAAM,CAAC,GAAG,CAAC,WAAW,CAAC,IAAI,CAAC,CAAC,KAAK,CAAC;YACvC,CAAC;YAPe,aAAO,UAOtB,CAAA;QACL,CAAC,EAXmB,KAAK,GAAL,YAAK,KAAL,YAAK,QAWxB;IAAD,CAAC,EAXc,IAAI,GAAJ,SAAI,KAAJ,SAAI,QAWlB;AAAD,CAAC,EAXS,IAAI,KAAJ,IAAI,QAWb;ACTD,IAAU,IAAI,CAYb;AAZD,WAAU,IAAI;IAAC,IAAA,KAAK,CAYnB;IAZc,WAAA,KAAK;QAAC,IAAA,IAAI,CAYxB;QAZoB,WAAA,IAAI,EAAC,CAAC;YAIvB;gBAA+B,6BAAsB;gBAArD;oBAA+B,8BAAsB;gBAOrD,CAAC;gBAJG,2BAAO,GAAP,UAAQ,GAAkB;oBACtB,YAAO,CAAC,OAAO,CAAC,GAAG,CAAC,CAAC;oBACrB,MAAM,CAAC,gBAAK,CAAC,OAAO,YAAC,GAAG,CAAC,CAAC;gBAC9B,CAAC;gBALM,kBAAQ,GAAG,IAAI,SAAS,EAAE,CAAC;gBAMtC,gBAAC;YAAD,CAPA,AAOC,CAP8B,YAAO,CAAC,IAAI,CAAC,SAAS,GAOpD;YAPY,cAAS,YAOrB,CAAA;QACL,CAAC,EAZoB,IAAI,GAAJ,UAAI,KAAJ,UAAI,QAYxB;IAAD,CAAC,EAZc,KAAK,GAAL,UAAK,KAAL,UAAK,QAYnB;AAAD,CAAC,EAZS,IAAI,KAAJ,IAAI,QAYb;ACZD,IAAU,IAAI,CAoBb;AApBD,WAAU,IAAI;IAAC,IAAA,KAAK,CAoBnB;IApBc,WAAA,KAAK;QAAC,IAAA,IAAI,CAoBxB;QApBoB,WAAA,IAAI;YAAC,IAAA,OAAO,CAoBhC;YApByB,WAAA,OAAO,EAAC,CAAC;gBAE/B,IAAO,UAAU,GAAG,IAAI,CAAC,OAAO,CAAC,UAAU,CAAC;gBAC5C,IAAO,IAAI,GAAG,EAAE,CAAC,IAAI,CAAC;gBACtB,IAAI,mBAAmB,GAAG,IAAI,CAAC,QAAQ,EAAE,CAAC;gBAE1C,iBAAwB,GAAkB;oBACtC,IAAI,KAAK,GAAgB,GAAG,CAAC,KAAK,EAC9B,IAAI,GAAoB,GAAG,CAAC,SAAS,CAAC;oBAC1C,EAAE,CAAC,CAAC,CAAC,IAAI,CAAC,OAAO,CAAC,UAAU,CAAC,OAAO,CAAC,CAAC;wBAClC,MAAM,CAAC,KAAK,CAAC;oBACjB,IAAI,CAAC,MAAM,CAAC,IAAI,CAAC,gBAAgB,EAAE,mBAAmB,CAAC,CAAC;oBAExD,IAAI,CAAC,GAAG,CAAC,SAAS,CAAC,IAAI,CAAC,IAAI,CAAC,gBAAgB,EAAE,KAAK,CAAC,mBAAmB,EAAE,EAAE,KAAK,CAAC,OAAO,EAAE,KAAK,CAAC,IAAI,CAAC,CAAC;oBAEvG,EAAE,CAAC,CAAC,IAAI,CAAC,KAAK,CAAC,IAAI,CAAC,gBAAgB,EAAE,mBAAmB,CAAC,CAAC;wBACvD,MAAM,CAAC,KAAK,CAAC;oBACjB,IAAI,CAAC,KAAK,CAAC,UAAU,CAAC,OAAO,CAAC,CAAC;oBAC/B,MAAM,CAAC,IAAI,CAAC;gBAChB,CAAC;gBAbe,eAAO,UAatB,CAAA;YACL,CAAC,EApByB,OAAO,GAAP,YAAO,KAAP,YAAO,QAoBhC;QAAD,CAAC,EApBoB,IAAI,GAAJ,UAAI,KAAJ,UAAI,QAoBxB;IAAD,CAAC,EApBc,KAAK,GAAL,UAAK,KAAL,UAAK,QAoBnB;AAAD,CAAC,EApBS,IAAI,KAAJ,IAAI,QAoBb;ACpBD,IAAU,IAAI,CAUb;AAVD,WAAU,IAAI;IAAC,IAAA,KAAK,CAUnB;IAVc,WAAA,KAAK;QAAC,IAAA,GAAG,CAUvB;QAVoB,WAAA,GAAG,EAAC,CAAC;YACtB;gBAA+B,6BAAqB;gBAApD;oBAA+B,8BAAqB;gBAQpD,CAAC;gBALa,uBAAG,GAAb,UAAc,EAAU,EAAE,GAA8B,EAAE,GAAiB,EAAE,OAA2B;oBAGpG,MAAM,CAAC,IAAI,CAAC;gBAChB,CAAC;gBANM,kBAAQ,GAAG,IAAI,SAAS,EAAE,CAAC;gBAOtC,gBAAC;YAAD,CARA,AAQC,CAR8B,YAAO,CAAC,GAAG,CAAC,SAAS,GAQnD;YARY,aAAS,YAQrB,CAAA;QACL,CAAC,EAVoB,GAAG,GAAH,SAAG,KAAH,SAAG,QAUvB;IAAD,CAAC,EAVc,KAAK,GAAL,UAAK,KAAL,UAAK,QAUnB;AAAD,CAAC,EAVS,IAAI,KAAJ,IAAI,QAUb;ACVD,IAAU,IAAI,CAyBb;AAzBD,WAAU,IAAI;IAAC,IAAA,KAAK,CAyBnB;IAzBc,WAAA,KAAK;QAAC,IAAA,EAAE,CAyBtB;QAzBoB,WAAA,EAAE;YAAC,IAAA,OAAO,CAyB9B;YAzBuB,WAAA,OAAO,EAAC,CAAC;gBAE7B,IAAO,UAAU,GAAG,IAAI,CAAC,OAAO,CAAC,UAAU,CAAC;gBAC5C,IAAO,IAAI,GAAG,EAAE,CAAC,IAAI,CAAC;gBAEtB,IAAI,UAAU,GAAG,IAAI,CAAC,IAAI,CAAC,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,CAAC,CAAC;gBAEvC,iBAAwB,GAAkB;oBACtC,IAAI,IAAI,GAAG,GAAG,CAAC,SAAS,CAAC;oBACzB,EAAE,CAAC,CAAC,CAAC,IAAI,CAAC,OAAO,CAAC,UAAU,CAAC,OAAO,CAAC,CAAC;wBAClC,MAAM,CAAC,KAAK,CAAC;oBACjB,IAAI,KAAK,GAAgB,GAAG,CAAC,KAAK,CAAC;oBACnC,IAAI,CAAC,MAAM,CAAC,IAAI,CAAC,OAAO,EAAE,UAAU,CAAC,CAAC;oBAEtC,IAAI,CAAC,IAAI,CAAC,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,IAAI,CAAC,OAAO,CAAC,CAAC;oBACpC,IAAI,CAAC,GAAG,CAAC,OAAO,CAAC,IAAI,CAAC,IAAI,CAAC,OAAO,EAAE,KAAK,CAAC,mBAAmB,EAAE,EAAE,KAAK,CAAC,OAAO,EAAE,KAAK,CAAC,IAAI,CAAC,CAAC;oBAC5F,IAAI,CAAC,SAAS,CAAC,IAAI,CAAC,OAAO,EAAE,IAAI,CAAC,SAAS,EAAE,IAAI,CAAC,OAAO,CAAC,CAAC;oBAE3D,EAAE,CAAC,CAAC,IAAI,CAAC,KAAK,CAAC,IAAI,CAAC,OAAO,EAAE,UAAU,CAAC,CAAC;wBACrC,MAAM,CAAC,KAAK,CAAC;oBACjB,IAAI,CAAC,KAAK,CAAC,IAAI,CAAC,KAAK,EAAE,UAAU,CAAC,CAAC;oBACnC,IAAI,CAAC,KAAK,CAAC,UAAU,CAAC,SAAS,CAAC,CAAC;oBACjC,MAAM,CAAC,IAAI,CAAC;gBAChB,CAAC;gBAhBe,eAAO,UAgBtB,CAAA;YAEL,CAAC,EAzBuB,OAAO,GAAP,UAAO,KAAP,UAAO,QAyB9B;QAAD,CAAC,EAzBoB,EAAE,GAAF,QAAE,KAAF,QAAE,QAyBtB;IAAD,CAAC,EAzBc,KAAK,GAAL,UAAK,KAAL,UAAK,QAyBnB;AAAD,CAAC,EAzBS,IAAI,KAAJ,IAAI,QAyBb;ACzBD,IAAU,IAAI,CAgBb;AAhBD,WAAU,IAAI;IAAC,IAAA,KAAK,CAgBnB;IAhBc,WAAA,KAAK;QAAC,IAAA,EAAE,CAgBtB;QAhBoB,WAAA,EAAE,EAAC,CAAC;YAErB,IAAO,UAAU,GAAG,IAAI,CAAC,OAAO,CAAC,UAAU,CAAC;YAC5C,IAAO,SAAS,GAAG,IAAI,CAAC,OAAO,CAAC,EAAE,CAAC,SAAS,CAAC;YAE7C;gBAA+B,6BAAoB;gBAAnD;oBAA+B,8BAAoB;gBAUnD,CAAC;gBAPG,2BAAO,GAAP,UAAQ,GAAkB;oBACtB,IAAI,IAAI,GAAG,UAAU,CAAC,IAAI,CAAC;oBAC3B,EAAE,CAAC,CAAC,UAAO,CAAC,OAAO,CAAC,GAAG,CAAC,CAAC;wBACrB,IAAI,IAAI,UAAU,CAAC,OAAO,CAAC;oBAC/B,SAAS,CAAC,OAAO,CAAC,GAAG,CAAC,CAAC;oBACvB,MAAM,CAAC,IAAI,CAAC;gBAChB,CAAC;gBARM,kBAAQ,GAAG,IAAI,SAAS,EAAE,CAAC;gBAStC,gBAAC;YAAD,CAVA,AAUC,CAV8B,YAAO,CAAC,EAAE,CAAC,SAAS,GAUlD;YAVY,YAAS,YAUrB,CAAA;QACL,CAAC,EAhBoB,EAAE,GAAF,QAAE,KAAF,QAAE,QAgBtB;IAAD,CAAC,EAhBc,KAAK,GAAL,UAAK,KAAL,UAAK,QAgBnB;AAAD,CAAC,EAhBS,IAAI,KAAJ,IAAI,QAgBb;AClBD,IAAU,IAAI,CA2Bb;AA3BD,WAAU,IAAI;IAAC,IAAA,IAAI,CA2BlB;IA3Bc,WAAA,IAAI;QAAC,IAAA,IAAI,CA2BvB;QA3BmB,WAAA,IAAI;YAAC,IAAA,OAAO,CA2B/B;YA3BwB,WAAA,OAAO,EAAC,CAAC;gBAE9B,IAAO,UAAU,GAAG,IAAI,CAAC,OAAO,CAAC,UAAU,CAAC;gBAC5C,IAAI,UAAU,GAAG,EAAE,CAAC,IAAI,CAAC,IAAI,CAAC,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,CAAC,CAAC;gBAC1C,IAAI,UAAU,GAAG,EAAE,CAAC,IAAI,CAAC,IAAI,CAAC,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,CAAC,CAAC;gBAC1C,IAAI,YAAY,GAAG,EAAE,CAAC,IAAI,CAAC,IAAI,CAAC,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,CAAC,CAAC;gBAE5C,iBAAwB,GAAkB;oBACtC,IAAI,KAAK,GAAe,GAAG,CAAC,KAAK,EAC7B,IAAI,GAAmB,GAAG,CAAC,SAAS,CAAC;oBAEzC,EAAE,CAAC,CAAC,CAAC,IAAI,CAAC,OAAO,CAAC,UAAU,CAAC,OAAO,CAAC,CAAC;wBAClC,MAAM,CAAC,KAAK,CAAC;oBACjB,IAAI,CAAC,OAAO,CAAC,KAAK,EAAE,CAAC;oBACrB,EAAE,CAAC,IAAI,CAAC,MAAM,CAAC,IAAI,CAAC,OAAO,EAAE,UAAU,CAAC,CAAC;oBAEzC,IAAI,CAAC,OAAO,CAAC,IAAI,CAAC,KAAK,CAAC;yBACnB,WAAW,CAAC,UAAU,CAAC;yBACvB,aAAa,CAAC,YAAY,CAAC,CAAC;oBAEjC,EAAE,CAAC,IAAI,CAAC,KAAK,CAAC,UAAU,EAAE,YAAY,EAAE,IAAI,CAAC,OAAO,CAAC,CAAC;oBAEtD,EAAE,CAAC,CAAC,CAAC,EAAE,CAAC,IAAI,CAAC,KAAK,CAAC,IAAI,CAAC,OAAO,EAAE,UAAU,CAAC,CAAC;wBACzC,MAAM,CAAC,KAAK,CAAC;oBACjB,IAAI,CAAC,KAAK,CAAC,UAAU,CAAC,OAAO,CAAC,CAAC;oBAC/B,MAAM,CAAC,IAAI,CAAC;gBAChB,CAAC;gBAnBe,eAAO,UAmBtB,CAAA;YACL,CAAC,EA3BwB,OAAO,GAAP,YAAO,KAAP,YAAO,QA2B/B;QAAD,CAAC,EA3BmB,IAAI,GAAJ,SAAI,KAAJ,SAAI,QA2BvB;IAAD,CAAC,EA3Bc,IAAI,GAAJ,SAAI,KAAJ,SAAI,QA2BlB;AAAD,CAAC,EA3BS,IAAI,KAAJ,IAAI,QA2Bb;ACzBD,IAAU,IAAI,CAab;AAbD,WAAU,IAAI;IAAC,IAAA,IAAI,CAalB;IAbc,WAAA,IAAI;QAAC,IAAA,IAAI,CAavB;QAbmB,WAAA,IAAI,EAAC,CAAC;YAItB;gBAA+B,6BAAsB;gBAArD;oBAA+B,8BAAsB;gBAQrD,CAAC;gBALG,2BAAO,GAAP,UAAQ,GAAkB;oBACtB,YAAO,CAAC,OAAO,CAAC,GAAG,CAAC,CAAC;oBACrB,YAAO,CAAC,OAAO,CAAC,GAAG,CAAC,CAAC;oBACrB,MAAM,CAAC,gBAAK,CAAC,OAAO,YAAC,GAAG,CAAC,CAAC;gBAC9B,CAAC;gBANM,kBAAQ,GAAG,IAAI,SAAS,EAAE,CAAC;gBAOtC,gBAAC;YAAD,CARA,AAQC,CAR8B,YAAO,CAAC,IAAI,CAAC,SAAS,GAQpD;YARY,cAAS,YAQrB,CAAA;QACL,CAAC,EAbmB,IAAI,GAAJ,SAAI,KAAJ,SAAI,QAavB;IAAD,CAAC,EAbc,IAAI,GAAJ,SAAI,KAAJ,SAAI,QAalB;AAAD,CAAC,EAbS,IAAI,KAAJ,IAAI,QAab;ACfD,IAAU,IAAI,CAsBb;AAtBD,WAAU,IAAI;IAAC,IAAA,IAAI,CAsBlB;IAtBc,WAAA,IAAI;QAAC,IAAA,IAAI,CAsBvB;QAtBmB,WAAA,IAAI;YAAC,IAAA,OAAO,CAsB/B;YAtBwB,WAAA,OAAO,EAAC,CAAC;gBAG9B,IAAO,UAAU,GAAG,IAAI,CAAC,OAAO,CAAC,UAAU,CAAC;gBAC5C,IAAO,IAAI,GAAG,EAAE,CAAC,IAAI,CAAC;gBACtB,IAAI,mBAAmB,GAAG,IAAI,CAAC,QAAQ,EAAE,CAAC;gBAE1C,iBAAwB,GAAkB;oBACtC,IAAI,KAAK,GAAe,GAAG,CAAC,KAAK,EAC7B,IAAI,GAAmB,GAAG,CAAC,SAAS,CAAC;oBACzC,EAAE,CAAC,CAAC,CAAC,IAAI,CAAC,OAAO,CAAC,UAAU,CAAC,OAAO,CAAC,CAAC;wBAClC,MAAM,CAAC,KAAK,CAAC;oBACjB,IAAI,CAAC,MAAM,CAAC,IAAI,CAAC,gBAAgB,EAAE,mBAAmB,CAAC,CAAC;oBAExD,IAAI,CAAC,GAAG,CAAC,SAAS,CAAC,IAAI,CAAC,IAAI,CAAC,gBAAgB,EAAE,KAAK,CAAC,mBAAmB,CAAC,IAAI,CAAC,EAAE,IAAI,CAAC,OAAO,EAAE,KAAK,CAAC,IAAI,CAAC,CAAC;oBAE1G,EAAE,CAAC,CAAC,IAAI,CAAC,KAAK,CAAC,IAAI,CAAC,gBAAgB,EAAE,mBAAmB,CAAC,CAAC;wBACvD,MAAM,CAAC,KAAK,CAAC;oBACjB,IAAI,CAAC,KAAK,CAAC,UAAU,CAAC,OAAO,CAAC,CAAC;oBAC/B,MAAM,CAAC,IAAI,CAAC;gBAChB,CAAC;gBAbe,eAAO,UAatB,CAAA;YAEL,CAAC,EAtBwB,OAAO,GAAP,YAAO,KAAP,YAAO,QAsB/B;QAAD,CAAC,EAtBmB,IAAI,GAAJ,SAAI,KAAJ,SAAI,QAsBvB;IAAD,CAAC,EAtBc,IAAI,GAAJ,SAAI,KAAJ,SAAI,QAsBlB;AAAD,CAAC,EAtBS,IAAI,KAAJ,IAAI,QAsBb;ACpBD,IAAU,IAAI,CAmCb;AAnCD,WAAU,IAAI;IAAC,IAAA,MAAM,CAmCpB;IAnCc,WAAA,MAAM;QAAC,IAAA,GAAG,CAmCxB;QAnCqB,WAAA,GAAG,EAAC,CAAC;YACvB;gBAA+B,6BAAqB;gBAApD;oBAA+B,8BAAqB;gBAiCpD,CAAC;gBA9Ba,0BAAM,GAAhB,UAAiB,EAAkB,EAAE,GAA8B,EAAE,GAAiB;oBAClF,EAAE,CAAC,CAAC,CAAC,gBAAK,CAAC,MAAM,YAAC,EAAE,EAAE,GAAG,EAAE,GAAG,CAAC,CAAC;wBAC5B,MAAM,CAAC,KAAK,CAAC;oBACjB,IAAI,KAAK,GAAG,EAAE,CAAC,KAAK,CAAC;oBACrB,MAAM,CAAC,CAAC,CAAC,KAAK,CAAC,IAAI,IAAI,CAAC,CAAC,CAAC,KAAK,CAAC,MAAM,IAAI,KAAK,CAAC,eAAe,GAAG,CAAC,CAAC,CAAC;gBAEzE,CAAC;gBAES,uBAAG,GAAb,UAAc,EAAkB,EAAE,GAA8B,EAAE,GAAiB,EAAE,OAA2B;oBAC5G,GAAG,CAAC,IAAI,EAAE,CAAC;oBACX,IAAI,CAAC,cAAc,CAAC,EAAE,EAAE,GAAG,CAAC,CAAC;oBAC7B,IAAI,CAAC,IAAI,CAAC,EAAE,EAAE,GAAG,CAAC,CAAC;oBAEnB,IAAI,KAAK,GAAG,EAAE,CAAC,KAAK,EAChB,EAAE,GAAG,GAAG,CAAC,CAAC,CAAC,EACX,EAAE,GAAG,GAAG,CAAC,CAAC,CAAC,EACX,MAAM,GAAG,KAAK,CAAC;oBAEnB,EAAE,CAAC,CAAC,CAAC,CAAC,KAAK,CAAC,IAAI,IAAI,GAAG,CAAC,GAAG,CAAC,aAAa,CAAC,EAAE,EAAE,EAAE,CAAC,CAAC,CAAC,CAAC;wBAChD,MAAM,GAAG,IAAI,CAAC;oBAClB,CAAC;oBAAC,IAAI,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,KAAK,CAAC,MAAM,IAAI,GAAG,CAAC,iBAAiB,CAAC,EAAE,EAAE,EAAE,EAAE,KAAK,CAAC,eAAe,CAAC,CAAC,CAAC,CAAC;wBAChF,MAAM,GAAG,IAAI,CAAC;oBAClB,CAAC;oBAED,GAAG,CAAC,OAAO,EAAE,CAAC;oBACd,MAAM,CAAC,MAAM,CAAC;gBAClB,CAAC;gBAES,kCAAc,GAAxB,UAAyB,EAAoB,EAAE,GAA8B;gBAC7E,CAAC;gBA/BM,kBAAQ,GAAG,IAAI,SAAS,EAAE,CAAC;gBAgCtC,gBAAC;YAAD,CAjCA,AAiCC,CAjC8B,YAAO,CAAC,GAAG,CAAC,SAAS,GAiCnD;YAjCY,aAAS,YAiCrB,CAAA;QACL,CAAC,EAnCqB,GAAG,GAAH,UAAG,KAAH,UAAG,QAmCxB;IAAD,CAAC,EAnCc,MAAM,GAAN,WAAM,KAAN,WAAM,QAmCpB;AAAD,CAAC,EAnCS,IAAI,KAAJ,IAAI,QAmCb;ACnCD,IAAU,IAAI,CA8Bb;AA9BD,WAAU,IAAI;IAAC,IAAA,IAAI,CA8BlB;IA9Bc,WAAA,MAAI;QAAC,IAAA,GAAG,CA8BtB;QA9BmB,WAAA,GAAG,EAAC,CAAC;YACrB;gBAA+B,6BAAoB;gBAAnD;oBAA+B,8BAAoB;gBA4BnD,CAAC;gBAzBa,uBAAG,GAAb,UAAc,EAAS,EAAE,GAA8B,EAAE,GAAiB,EAAE,OAA2B;oBACnG,GAAG,CAAC,IAAI,EAAE,CAAC;oBACX,IAAI,CAAC,cAAc,CAAC,EAAE,EAAE,GAAG,CAAC,CAAC;oBAC7B,IAAI,CAAC,IAAI,CAAC,EAAE,EAAE,GAAG,CAAC,CAAC;oBAEnB,IAAI,KAAK,GAAG,EAAE,CAAC,KAAK,EAChB,EAAE,GAAG,GAAG,CAAC,CAAC,CAAC,EACX,EAAE,GAAG,GAAG,CAAC,CAAC,CAAC,EACX,MAAM,GAAG,KAAK,CAAC;oBACnB,EAAE,CAAC,CAAC,CAAC,CAAC,KAAK,CAAC,IAAI,IAAI,GAAG,CAAC,GAAG,CAAC,aAAa,CAAC,EAAE,EAAE,EAAE,CAAC,CAAC,CAAC,CAAC;wBAChD,MAAM,GAAG,IAAI,CAAC;oBAClB,CAAC;oBAAC,IAAI,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,KAAK,CAAC,MAAM,CAAC,CAAC,CAAC;wBACxB,GAAG,CAAC,eAAe,CAAC,KAAK,CAAC,aAAa,EAAE,KAAK,CAAC,cAAc,EAAE,KAAK,CAAC,gBAAgB,CAAC,CAAC;wBACvF,EAAE,CAAC,CAAC,GAAG,CAAC,iBAAiB,CAAC,EAAE,EAAE,EAAE,EAAE,KAAK,CAAC,eAAe,CAAC,CAAC,CAAC,CAAC;4BACvD,MAAM,GAAG,IAAI,CAAC;wBAClB,CAAC;oBACL,CAAC;oBAED,GAAG,CAAC,OAAO,EAAE,CAAC;oBACd,MAAM,CAAC,MAAM,CAAC;gBAClB,CAAC;gBAES,kCAAc,GAAxB,UAAyB,IAAW,EAAE,GAA8B;oBAChE,GAAG,CAAC,QAAQ,CAAC,IAAI,CAAC,SAAS,CAAC,gBAAgB,CAAC,CAAC;gBAClD,CAAC;gBA1BM,kBAAQ,GAAG,IAAI,SAAS,EAAE,CAAC;gBA2BtC,gBAAC;YAAD,CA5BA,AA4BC,CA5B8B,WAAM,CAAC,GAAG,CAAC,SAAS,GA4BlD;YA5BY,aAAS,YA4BrB,CAAA;QACL,CAAC,EA9BmB,GAAG,GAAH,UAAG,KAAH,UAAG,QA8BtB;IAAD,CAAC,EA9Bc,IAAI,GAAJ,SAAI,KAAJ,SAAI,QA8BlB;AAAD,CAAC,EA9BS,IAAI,KAAJ,IAAI,QA8Bb;AC9BD,IAAU,IAAI,CAuCb;AAvCD,WAAU,IAAI;IAAC,IAAA,MAAM,CAuCpB;IAvCc,WAAA,MAAM;QAAC,IAAA,MAAM,CAuC3B;QAvCqB,WAAA,MAAM,EAAC,CAAC;YAK1B;gBAA+B,6BAAwB;gBAAvD;oBAA+B,8BAAwB;gBAiCvD,CAAC;gBA9Ba,0BAAM,GAAhB,UAAiB,GAAkB;oBAC/B,IAAI,KAAK,GAAiB,GAAG,CAAC,KAAK,CAAC;oBACpC,EAAE,CAAC,CAAC,CAAC,KAAK,CAAC,IAAI,IAAI,CAAC,KAAK,CAAC,MAAM,CAAC;wBAC7B,MAAM,CAAC,KAAK,CAAC;oBAEjB,IAAI,GAAG,GAAG,GAAG,CAAC,GAAG,CAAC;oBAClB,GAAG,CAAC,IAAI,EAAE,CAAC;oBACX,IAAI,IAAI,GAAG,IAAI,CAAC,gBAAgB,CAAC,GAAG,CAAC,CAAC;oBACtC,GAAG,CAAC,OAAO,CAAC,KAAK,CAAC,IAAI,CAAC,CAAC;oBACxB,IAAI,CAAC,cAAc,CAAC,GAAG,EAAE,IAAI,CAAC,CAAC;oBAC/B,GAAG,CAAC,OAAO,CAAC,IAAI,CAAC,GAAG,EAAE,IAAI,CAAC,CAAC;oBAC5B,IAAI,CAAC,IAAI,CAAC,GAAG,EAAE,KAAK,EAAE,IAAI,CAAC,CAAC;oBAC5B,IAAI,CAAC,MAAM,CAAC,GAAG,EAAE,KAAK,EAAE,IAAI,CAAC,CAAC;oBAC9B,GAAG,CAAC,OAAO,EAAE,CAAC;gBAClB,CAAC;gBAES,kCAAc,GAAxB,UAAyB,GAA8B,EAAE,GAAwB;gBACjF,CAAC;gBAES,wBAAI,GAAd,UAAe,GAA8B,EAAE,KAAmB,EAAE,IAAyB;oBACzF,EAAE,CAAC,CAAC,CAAC,KAAK,CAAC,IAAI,CAAC;wBACZ,MAAM,CAAC;oBACX,GAAG,CAAC,MAAM,CAAC,IAAI,CAAC,QAAQ,EAAE,KAAK,CAAC,IAAI,CAAC,CAAC;gBAC1C,CAAC;gBAES,0BAAM,GAAhB,UAAiB,GAA8B,EAAE,KAAmB,EAAE,IAAyB;oBAC3F,EAAE,CAAC,CAAC,CAAC,KAAK,CAAC,MAAM,IAAI,KAAK,CAAC,eAAe,IAAI,CAAC,CAAC;wBAC5C,MAAM,CAAC;oBACX,GAAG,CAAC,QAAQ,CAAC,IAAI,CAAC,UAAU,EAAE,KAAK,CAAC,MAAM,EAAE,KAAK,CAAC,eAAe,CAAC,CAAC;gBACvE,CAAC;gBA/BM,kBAAQ,GAAG,IAAI,SAAS,EAAE,CAAC;gBAgCtC,gBAAC;YAAD,CAjCA,AAiCC,CAjC8B,YAAO,CAAC,MAAM,CAAC,SAAS,GAiCtD;YAjCY,gBAAS,YAiCrB,CAAA;QACL,CAAC,EAvCqB,MAAM,GAAN,aAAM,KAAN,aAAM,QAuC3B;IAAD,CAAC,EAvCc,MAAM,GAAN,WAAM,KAAN,WAAM,QAuCpB;AAAD,CAAC,EAvCS,IAAI,KAAJ,IAAI,QAuCb;ACvCD,IAAU,IAAI,CAsBb;AAtBD,WAAU,IAAI;IAAC,IAAA,IAAI,CAsBlB;IAtBc,WAAA,IAAI;QAAC,IAAA,MAAM,CAsBzB;QAtBmB,WAAA,MAAM,EAAC,CAAC;YACxB;gBAA+B,6BAAuB;gBAAtD;oBAA+B,8BAAuB;gBAoBtD,CAAC;gBAjBa,kCAAc,GAAxB,UAAyB,GAA8B,EAAE,GAAwB;oBAC7E,IAAI,IAAI,GAAmB,GAAG,CAAC,SAAS,CAAC;oBACzC,GAAG,CAAC,QAAQ,CAAC,IAAI,CAAC,gBAAgB,CAAC,CAAC;gBACxC,CAAC;gBAES,wBAAI,GAAd,UAAe,GAA8B,EAAE,KAAiB,EAAE,IAAyB;oBACvF,EAAE,CAAC,CAAC,CAAC,KAAK,CAAC,IAAI,CAAC;wBACZ,MAAM,CAAC;oBACX,GAAG,CAAC,MAAM,CAAC,IAAI,CAAC,QAAQ,EAAE,KAAK,CAAC,IAAI,EAAE,KAAK,CAAC,QAAQ,CAAC,CAAC;gBAC1D,CAAC;gBAES,0BAAM,GAAhB,UAAiB,GAA8B,EAAE,KAAiB,EAAE,IAAyB;oBACzF,EAAE,CAAC,CAAC,CAAC,KAAK,CAAC,MAAM,IAAI,KAAK,CAAC,eAAe,IAAI,CAAC,CAAC;wBAC5C,MAAM,CAAC;oBACX,GAAG,CAAC,eAAe,CAAC,KAAK,CAAC,aAAa,EAAE,KAAK,CAAC,cAAc,EAAE,KAAK,CAAC,gBAAgB,CAAC,CAAC;oBACvF,GAAG,CAAC,QAAQ,CAAC,IAAI,CAAC,UAAU,EAAE,KAAK,CAAC,MAAM,EAAE,KAAK,CAAC,eAAe,CAAC,CAAC;gBACvE,CAAC;gBAlBM,kBAAQ,GAAG,IAAI,SAAS,EAAE,CAAC;gBAmBtC,gBAAC;YAAD,CApBA,AAoBC,CApB8B,WAAM,CAAC,MAAM,CAAC,SAAS,GAoBrD;YApBY,gBAAS,YAoBrB,CAAA;QACL,CAAC,EAtBmB,MAAM,GAAN,WAAM,KAAN,WAAM,QAsBzB;IAAD,CAAC,EAtBc,IAAI,GAAJ,SAAI,KAAJ,SAAI,QAsBlB;AAAD,CAAC,EAtBS,IAAI,KAAJ,IAAI,QAsBb;ACxBD,IAAU,IAAI,CAwBb;AAxBD,WAAU,IAAI;IAAC,IAAA,IAAI,CAwBlB;IAxBc,WAAA,IAAI;QAAC,IAAA,EAAE,CAwBrB;QAxBmB,WAAA,EAAE;YAAC,IAAA,OAAO,CAwB7B;YAxBsB,WAAA,OAAO,EAAC,CAAC;gBAE5B,IAAO,UAAU,GAAG,IAAI,CAAC,OAAO,CAAC,UAAU,CAAC;gBAC5C,IAAO,IAAI,GAAG,EAAE,CAAC,IAAI,CAAC;gBAEtB,IAAI,UAAU,GAAG,IAAI,CAAC,IAAI,CAAC,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,CAAC,CAAC;gBAEvC,iBAAwB,GAAkB;oBACtC,IAAI,IAAI,GAAmB,GAAG,CAAC,SAAS,CAAC;oBACzC,EAAE,CAAC,CAAC,CAAC,IAAI,CAAC,OAAO,CAAC,UAAU,CAAC,OAAO,CAAC,CAAC;wBAClC,MAAM,CAAC,KAAK,CAAC;oBACjB,IAAI,KAAK,GAAe,GAAG,CAAC,KAAK,CAAC;oBAClC,IAAI,CAAC,MAAM,CAAC,IAAI,CAAC,OAAO,EAAE,UAAU,CAAC,CAAC;oBAEtC,IAAI,CAAC,IAAI,CAAC,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,IAAI,CAAC,OAAO,CAAC,CAAC;oBACpC,IAAI,CAAC,GAAG,CAAC,OAAO,CAAC,IAAI,CAAC,IAAI,CAAC,OAAO,EAAE,KAAK,CAAC,mBAAmB,CAAC,IAAI,CAAC,EAAE,IAAI,CAAC,OAAO,EAAE,KAAK,CAAC,IAAI,CAAC,CAAC;oBAC/F,IAAI,CAAC,SAAS,CAAC,IAAI,CAAC,OAAO,EAAE,IAAI,CAAC,SAAS,EAAE,IAAI,CAAC,OAAO,CAAC,CAAC;oBAE3D,EAAE,CAAC,CAAC,IAAI,CAAC,KAAK,CAAC,IAAI,CAAC,OAAO,EAAE,UAAU,CAAC,CAAC;wBACrC,MAAM,CAAC,KAAK,CAAC;oBACjB,IAAI,CAAC,KAAK,CAAC,IAAI,CAAC,KAAK,EAAE,UAAU,CAAC,CAAC;oBACnC,IAAI,CAAC,KAAK,CAAC,UAAU,CAAC,SAAS,CAAC,CAAC;oBACjC,MAAM,CAAC,IAAI,CAAC;gBAChB,CAAC;gBAhBe,eAAO,UAgBtB,CAAA;YACL,CAAC,EAxBsB,OAAO,GAAP,UAAO,KAAP,UAAO,QAwB7B;QAAD,CAAC,EAxBmB,EAAE,GAAF,OAAE,KAAF,OAAE,QAwBrB;IAAD,CAAC,EAxBc,IAAI,GAAJ,SAAI,KAAJ,SAAI,QAwBlB;AAAD,CAAC,EAxBS,IAAI,KAAJ,IAAI,QAwBb;ACtBD,IAAU,IAAI,CAgBb;AAhBD,WAAU,IAAI;IAAC,IAAA,IAAI,CAgBlB;IAhBc,WAAA,IAAI;QAAC,IAAA,EAAE,CAgBrB;QAhBmB,WAAA,EAAE,EAAC,CAAC;YAEpB,IAAO,UAAU,GAAG,IAAI,CAAC,OAAO,CAAC,UAAU,CAAC;YAC5C,IAAO,SAAS,GAAG,IAAI,CAAC,OAAO,CAAC,EAAE,CAAC,SAAS,CAAC;YAE7C;gBAA+B,6BAAoB;gBAAnD;oBAA+B,8BAAoB;gBAUnD,CAAC;gBAPG,2BAAO,GAAP,UAAQ,GAAkB;oBACtB,IAAI,IAAI,GAAG,UAAU,CAAC,IAAI,CAAC;oBAC3B,EAAE,CAAC,CAAC,UAAO,CAAC,OAAO,CAAC,GAAG,CAAC,CAAC;wBACrB,IAAI,IAAI,UAAU,CAAC,OAAO,CAAC;oBAC/B,SAAS,CAAC,OAAO,CAAC,GAAG,CAAC,CAAC;oBACvB,MAAM,CAAC,IAAI,CAAC;gBAChB,CAAC;gBARM,kBAAQ,GAAG,IAAI,SAAS,EAAE,CAAC;gBAStC,gBAAC;YAAD,CAVA,AAUC,CAV8B,YAAO,CAAC,EAAE,CAAC,SAAS,GAUlD;YAVY,YAAS,YAUrB,CAAA;QACL,CAAC,EAhBmB,EAAE,GAAF,OAAE,KAAF,OAAE,QAgBrB;IAAD,CAAC,EAhBc,IAAI,GAAJ,SAAI,KAAJ,SAAI,QAgBlB;AAAD,CAAC,EAhBS,IAAI,KAAJ,IAAI,QAgBb;ACfD,EAAE,CAAC,CAAC,CAAC,wBAAwB,CAAC,SAAS,CAAC,cAAc,CAAC,wBAAwB,CAAC,CAAC,CAAC,CAAC;IAC/E,MAAM,CAAC,cAAc,CAAC,wBAAwB,CAAC,SAAS,EAAE,wBAAwB,EAAE;QAChF,GAAG,EAAE;YACD,IAAI,GAAG,GAAQ,IAAI,CAAC;YACpB,MAAM,CAAC,GAAG,CAAC,4BAA4B;mBAChC,GAAG,CAAC,yBAAyB;mBAC7B,GAAG,CAAC,wBAAwB;mBAC5B,GAAG,CAAC,uBAAuB;mBAC3B,CAAC,CAAC;QACb,CAAC;KACJ,CAAC,CAAC;AACP,CAAC;ACXD,EAAE,CAAC,CAAC,CAAC,wBAAwB,CAAC,SAAS,CAAC,OAAO,CAAC,CAAC,CAAC;IAC9C,wBAAwB,CAAC,SAAS,CAAC,OAAO,GAAG,UAAU,CAAS,EAAE,CAAS,EAAE,OAAe,EAAE,OAAe,EAAE,QAAgB,EAAE,UAAkB,EAAE,QAAgB,EAAE,aAAsB;QACzL,IAAI,CAAC,IAAI,EAAE,CAAC;QACZ,IAAI,CAAC,SAAS,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC;QACrB,IAAI,CAAC,MAAM,CAAC,QAAQ,CAAC,CAAC;QACtB,IAAI,CAAC,KAAK,CAAC,OAAO,EAAE,OAAO,CAAC,CAAC;QAC7B,IAAI,CAAC,GAAG,CAAC,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,UAAU,EAAE,QAAQ,EAAE,aAAa,CAAC,CAAC;QACvD,IAAI,CAAC,OAAO,EAAE,CAAC;IACnB,CAAC,CAAC;AACN,CAAC;ACTD,EAAE,CAAC,CAAC,CAAC,wBAAwB,CAAC,SAAS,CAAC,eAAe,CAAC,CAAC,CAAC;IACtD,wBAAwB,CAAC,SAAS,CAAC,eAAe,GAAG,UAAU,CAAS,EAAE,CAAS;QAC/E,MAAM,CAAC,KAAK,CAAC;IACjB,CAAC,CAAC;AACN,CAAC;ACPD,IAAU,IAAI,CA+Bb;AA/BD,WAAU,IAAI;IAAC,IAAA,QAAQ,CA+BtB;IA/Bc,WAAA,QAAQ;QAAC,IAAA,IAAI,CA+B3B;QA/BuB,WAAA,IAAI;YAAC,IAAA,MAAM,CA+BlC;YA/B4B,WAAA,MAAM,EAAC,CAAC;gBAGjC,IAAO,UAAU,GAAG,IAAI,CAAC,OAAO,CAAC,UAAU,CAAC;gBAE5C,iBAAwB,GAAkB;oBACtC,IAAI,KAAK,GAAmB,GAAG,CAAC,KAAK,EACjC,IAAI,GAAmB,GAAG,CAAC,SAAS,EACpC,IAAI,GAAG,KAAK,CAAC,IAAI,CAAC;oBAEtB,EAAE,CAAC,CAAC,CAAC,IAAI,CAAC,CAAC,CAAC;wBACR,IAAI,CAAC,OAAO,CAAC,OAAO,CAAC,IAAI,GAAG,KAAK,CAAC,IAAI,GAAG,IAAI,KAAK,CAAC,IAAI,EAAE,CAAC,CAAC;oBAC/D,CAAC;oBAAC,IAAI,CAAC,EAAE,CAAC,CAAC,CAAC,IAAI,CAAC,OAAO,CAAC,CAAC,CAAC;wBACvB,MAAM,CAAC,KAAK,CAAC;oBACjB,CAAC;oBAED,GAAG,CAAC,CAAC,IAAI,KAAK,GAAG,IAAI,EAAE,EAAE,GAAG,KAAK,CAAC,MAAM,CAAC,IAAI,EAAE,EAAE,MAAM,GAAG,EAAE,CAAC,IAAI,EAAE,EAAE,CAAC,MAAM,CAAC,IAAI,EAAE,MAAM,GAAG,EAAE,CAAC,IAAI,EAAE,EAAE,CAAC;wBACpG,IAAI,GAAG,GAAG,MAAM,CAAC,KAAK,CAAC;wBACvB,EAAE,CAAC,CAAC,KAAK,CAAC,CAAC,CAAC;4BACR,KAAK,GAAG,KAAK,CAAC;4BACd,IAAI,CAAC,MAAM,CAAC,GAAG,CAAC,CAAC,EAAE,GAAG,CAAC,CAAC,CAAC,CAAC;wBAC9B,CAAC;wBAAC,IAAI,CAAC,CAAC;4BACJ,IAAI,CAAC,MAAM,CAAC,GAAG,CAAC,CAAC,EAAE,GAAG,CAAC,CAAC,CAAC,CAAC;wBAC9B,CAAC;oBACL,CAAC;oBACD,EAAE,CAAC,CAAC,KAAK,CAAC,MAAM,CAAC;wBACb,IAAI,CAAC,SAAS,EAAE,CAAC;oBAErB,IAAI,CAAC,KAAK,CAAC,UAAU,CAAC,OAAO,CAAC,CAAC;oBAC/B,MAAM,CAAC,IAAI,CAAC;gBAChB,CAAC;gBAzBe,cAAO,UAyBtB,CAAA;YACL,CAAC,EA/B4B,MAAM,GAAN,WAAM,KAAN,WAAM,QA+BlC;QAAD,CAAC,EA/BuB,IAAI,GAAJ,aAAI,KAAJ,aAAI,QA+B3B;IAAD,CAAC,EA/Bc,QAAQ,GAAR,aAAQ,KAAR,aAAQ,QA+BtB;AAAD,CAAC,EA/BS,IAAI,KAAJ,IAAI,QA+Bb;AC7BD,IAAU,IAAI,CAYb;AAZD,WAAU,IAAI;IAAC,IAAA,QAAQ,CAYtB;IAZc,WAAA,QAAQ;QAAC,IAAA,IAAI,CAY3B;QAZuB,WAAA,IAAI,EAAC,CAAC;YAI1B;gBAA+B,6BAAmB;gBAAlD;oBAA+B,8BAAmB;gBAOlD,CAAC;gBAJG,2BAAO,GAAP,UAAQ,GAAkB;oBACtB,WAAM,CAAC,OAAO,CAAC,GAAG,CAAC,CAAC;oBACpB,MAAM,CAAC,gBAAK,CAAC,OAAO,YAAC,GAAG,CAAC,CAAC;gBAC9B,CAAC;gBALM,kBAAQ,GAAG,IAAI,SAAS,EAAE,CAAC;gBAMtC,gBAAC;YAAD,CAPA,AAOC,CAP8B,SAAI,CAAC,IAAI,CAAC,SAAS,GAOjD;YAPY,cAAS,YAOrB,CAAA;QACL,CAAC,EAZuB,IAAI,GAAJ,aAAI,KAAJ,aAAI,QAY3B;IAAD,CAAC,EAZc,QAAQ,GAAR,aAAQ,KAAR,aAAQ,QAYtB;AAAD,CAAC,EAZS,IAAI,KAAJ,IAAI,QAYb;ACZD,IAAU,IAAI,CAgBb;AAhBD,WAAU,IAAI;IAAC,IAAA,IAAI,CAgBlB;IAhBc,WAAA,IAAI;QAAC,IAAA,GAAG,CAgBtB;QAhBmB,WAAA,GAAG,EAAC,CAAC;YACrB;gBAA+B,6BAAqB;gBAApD;oBAA+B,8BAAqB;gBAcpD,CAAC;gBAXa,0BAAM,GAAhB,UAAiB,EAAc,EAAE,GAA8B,EAAE,GAAiB;oBAC9E,EAAE,CAAC,CAAC,CAAC,gBAAK,CAAC,MAAM,YAAC,EAAE,EAAE,GAAG,EAAE,GAAG,CAAC,CAAC;wBAC5B,MAAM,CAAC,KAAK,CAAC;oBACjB,IAAI,KAAK,GAAG,EAAE,CAAC,KAAK,CAAC;oBACrB,MAAM,CAAC,CAAC,CAAC,KAAK,CAAC,IAAI,IAAI,CAAC,CAAC,CAAC,KAAK,CAAC,MAAM,IAAI,KAAK,CAAC,eAAe,GAAG,CAAC,CAAC,CAAC;gBACzE,CAAC;gBAES,uBAAG,GAAb,UAAc,EAAc,EAAE,GAA8B,EAAE,GAAiB,EAAE,OAA2B;oBAExG,MAAM,CAAC,IAAI,CAAC;gBAChB,CAAC;gBAZM,kBAAQ,GAAG,IAAI,SAAS,EAAE,CAAC;gBAatC,gBAAC;YAAD,CAdA,AAcC,CAd8B,YAAO,CAAC,GAAG,CAAC,SAAS,GAcnD;YAdY,aAAS,YAcrB,CAAA;QACL,CAAC,EAhBmB,GAAG,GAAH,QAAG,KAAH,QAAG,QAgBtB;IAAD,CAAC,EAhBc,IAAI,GAAJ,SAAI,KAAJ,SAAI,QAgBlB;AAAD,CAAC,EAhBS,IAAI,KAAJ,IAAI,QAgBb;AChBD,IAAU,IAAI,CAyDb;AAzDD,WAAU,IAAI;IAAC,IAAA,IAAI,CAyDlB;IAzDc,WAAA,IAAI;QAAC,IAAA,MAAM,CAyDzB;QAzDmB,WAAA,MAAM,EAAC,CAAC;YAExB,IAAI,SAAS,GAAG,UAAU,CAAC,IAAI,CAAC,SAAS,CAAC,SAAS,CAAC,CAAC;YACrD,IAAI,WAAW,GAAG,EAAE,CAAC,IAAI,CAAC,IAAI,CAAC,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,CAAC,CAAC;YAE3C;gBAA+B,6BAAwB;gBAAvD;oBAA+B,8BAAwB;gBAmDvD,CAAC;gBAhDa,0BAAM,GAAhB,UAAiB,GAAkB;oBAC/B,IAAI,KAAK,GAAe,GAAG,CAAC,KAAK,EAC7B,QAAQ,GAAG,CAAC,KAAK,CAAC,MAAM,IAAI,KAAK,CAAC,eAAe,IAAI,CAAC,CAAC;oBAC3D,EAAE,CAAC,CAAC,CAAC,KAAK,CAAC,IAAI,IAAI,QAAQ,CAAC;wBACxB,MAAM,CAAC,KAAK,CAAC;oBAEjB,IAAI,GAAG,GAAG,GAAG,CAAC,GAAG,EACb,GAAG,GAAG,GAAG,CAAC,GAAG,EACb,IAAI,GAAG,GAAG,CAAC,SAAS,CAAC;oBACzB,GAAG,CAAC,IAAI,EAAE,CAAC;oBACX,GAAG,CAAC,SAAS,EAAE,CAAC;oBAChB,GAAG,CAAC,IAAI,GAAG,KAAK,CAAC,IAAI,CAAC,QAAQ,EAAE,CAAC;oBACjC,GAAG,CAAC,SAAS,GAAG,MAAM,CAAC;oBACvB,WAAW,CAAC,KAAK,GAAG,IAAI,CAAC,OAAO,CAAC,KAAK,CAAC;oBACvC,WAAW,CAAC,MAAM,GAAG,IAAI,CAAC,OAAO,CAAC,MAAM,CAAC;oBACzC,EAAE,CAAC,CAAC,KAAK,CAAC,IAAI,CAAC;wBACX,IAAI,CAAC,IAAI,CAAC,GAAG,EAAE,KAAK,EAAE,WAAW,CAAC,CAAC;oBACvC,EAAE,CAAC,CAAC,CAAC,QAAQ,CAAC;wBACV,IAAI,CAAC,MAAM,CAAC,GAAG,EAAE,KAAK,EAAE,WAAW,CAAC,CAAC;oBACzC,GAAG,CAAC,OAAO,EAAE,CAAC;gBAClB,CAAC;gBAES,wBAAI,GAAd,UAAe,GAA6B,EAAE,KAAiB,EAAE,MAAgB;oBAC7E,KAAK,CAAC,IAAI,CAAC,KAAK,CAAC,GAAG,EAAE,MAAM,CAAC,CAAC;oBAC9B,GAAG,CAAC,SAAS,GAAG,KAAK,CAAC,IAAI,CAAC,aAAa,EAAE,CAAC;oBAE3C,EAAE,CAAC,CAAC,SAAS,CAAC,CAAC,CAAC;wBACZ,GAAG,CAAC,YAAY,GAAG,QAAQ,CAAC;wBAC5B,GAAG,CAAC,QAAQ,CAAC,KAAK,CAAC,IAAI,EAAE,CAAC,EAAE,KAAK,CAAC,IAAI,CAAC,MAAM,CAAC,CAAC;oBACnD,CAAC;oBAAC,IAAI,CAAC,CAAC;wBACJ,GAAG,CAAC,YAAY,GAAG,KAAK,CAAC;wBACzB,GAAG,CAAC,QAAQ,CAAC,KAAK,CAAC,IAAI,EAAE,CAAC,EAAE,CAAC,CAAC,CAAC;oBACnC,CAAC;gBACL,CAAC;gBAES,0BAAM,GAAhB,UAAiB,GAA6B,EAAE,KAAiB,EAAE,MAAgB;oBAC/E,KAAK,CAAC,MAAM,CAAC,KAAK,CAAC,GAAG,EAAE,MAAM,CAAC,CAAC;oBAChC,GAAG,CAAC,WAAW,GAAG,KAAK,CAAC,MAAM,CAAC,aAAa,EAAE,CAAC;oBAE/C,GAAG,CAAC,SAAS,GAAG,KAAK,CAAC,eAAe,CAAC;oBACtC,EAAE,CAAC,CAAC,SAAS,CAAC,CAAC,CAAC;wBACZ,GAAG,CAAC,YAAY,GAAG,QAAQ,CAAC;wBAC5B,GAAG,CAAC,UAAU,CAAC,KAAK,CAAC,IAAI,EAAE,CAAC,EAAE,KAAK,CAAC,IAAI,CAAC,MAAM,CAAC,CAAC;oBACrD,CAAC;oBAAC,IAAI,CAAC,CAAC;wBACJ,GAAG,CAAC,YAAY,GAAG,KAAK,CAAC;wBACzB,GAAG,CAAC,UAAU,CAAC,KAAK,CAAC,IAAI,EAAE,CAAC,EAAE,CAAC,CAAC,CAAC;oBACrC,CAAC;gBACL,CAAC;gBAjDM,kBAAQ,GAAG,IAAI,SAAS,EAAE,CAAC;gBAkDtC,gBAAC;YAAD,CAnDA,AAmDC,CAnD8B,YAAO,CAAC,MAAM,CAAC,SAAS,GAmDtD;YAnDY,gBAAS,YAmDrB,CAAA;QACL,CAAC,EAzDmB,MAAM,GAAN,WAAM,KAAN,WAAM,QAyDzB;IAAD,CAAC,EAzDc,IAAI,GAAJ,SAAI,KAAJ,SAAI,QAyDlB;AAAD,CAAC,EAzDS,IAAI,KAAJ,IAAI,QAyDb;AC3DD,IAAU,IAAI,CAsBb;AAtBD,WAAU,IAAI;IAAC,IAAA,IAAI,CAsBlB;IAtBc,WAAA,IAAI;QAAC,IAAA,EAAE,CAsBrB;QAtBmB,WAAA,EAAE;YAAC,IAAA,IAAI,CAsB1B;YAtBsB,WAAA,IAAI,EAAC,CAAC;gBAEzB,IAAO,UAAU,GAAG,IAAI,CAAC,OAAO,CAAC,UAAU,CAAC;gBAE5C,iBAAwB,GAAkB;oBACtC,IAAI,KAAK,GAAe,GAAG,CAAC,KAAK,EAC7B,IAAI,GAAG,GAAG,CAAC,SAAS,CAAC;oBACzB,EAAE,CAAC,CAAC,CAAC,IAAI,CAAC,OAAO,CAAC,UAAU,CAAC,IAAI,CAAC,CAAC;wBAC/B,MAAM,CAAC,KAAK,CAAC;oBAEjB,IAAI,IAAI,GAAG,KAAK,CAAC,IAAI,EACjB,QAAQ,GAAG,IAAI,CAAC,KAAK,EACrB,SAAS,GAAG,IAAI,CAAC,MAAM,CAAC;oBAC5B,IAAI,CAAC,KAAK,GAAG,IAAI,CAAC,IAAI,CAAC,KAAK,CAAC,OAAO,CAAC,KAAK,CAAC,IAAI,EAAE,KAAK,CAAC,IAAI,CAAC,CAAC;oBAC7D,IAAI,CAAC,MAAM,GAAG,IAAI,CAAC,IAAI,CAAC,MAAM,CAAC,GAAG,CAAC,KAAK,CAAC,IAAI,CAAC,CAAC;oBAE/C,EAAE,CAAC,CAAC,QAAQ,KAAK,IAAI,CAAC,KAAK,IAAI,SAAS,KAAK,IAAI,CAAC,MAAM,CAAC,CAAC,CAAC;wBACvD,IAAI,CAAC,KAAK,CAAC,UAAU,CAAC,OAAO,CAAC,CAAC;wBAC/B,MAAM,CAAC,IAAI,CAAC;oBAChB,CAAC;oBACD,MAAM,CAAC,KAAK,CAAC;gBACjB,CAAC;gBAjBe,YAAO,UAiBtB,CAAA;YACL,CAAC,EAtBsB,IAAI,GAAJ,OAAI,KAAJ,OAAI,QAsB1B;QAAD,CAAC,EAtBmB,EAAE,GAAF,OAAE,KAAF,OAAE,QAsBrB;IAAD,CAAC,EAtBc,IAAI,GAAJ,SAAI,KAAJ,SAAI,QAsBlB;AAAD,CAAC,EAtBS,IAAI,KAAJ,IAAI,QAsBb;ACpBD,IAAU,IAAI,CAcb;AAdD,WAAU,IAAI;IAAC,IAAA,IAAI,CAclB;IAdc,WAAA,IAAI;QAAC,IAAA,EAAE,CAcrB;QAdmB,WAAA,EAAE,EAAC,CAAC;YACpB,IAAO,UAAU,GAAG,IAAI,CAAC,OAAO,CAAC,UAAU,CAAC;YAG5C;gBAA+B,6BAAoB;gBAAnD;oBAA+B,8BAAoB;gBASnD,CAAC;gBANG,2BAAO,GAAP,UAAQ,GAAkB;oBACtB,IAAI,IAAI,GAAG,UAAU,CAAC,IAAI,CAAC;oBAC3B,OAAI,CAAC,OAAO,CAAC,GAAG,CAAC,CAAC;oBAClB,IAAI,IAAI,gBAAK,CAAC,OAAO,YAAC,GAAG,CAAC,CAAC;oBAC3B,MAAM,CAAC,IAAI,CAAC;gBAChB,CAAC;gBAPM,kBAAQ,GAAG,IAAI,SAAS,EAAE,CAAC;gBAQtC,gBAAC;YAAD,CATA,AASC,CAT8B,YAAO,CAAC,EAAE,CAAC,SAAS,GASlD;YATY,YAAS,YASrB,CAAA;QACL,CAAC,EAdmB,EAAE,GAAF,OAAE,KAAF,OAAE,QAcrB;IAAD,CAAC,EAdc,IAAI,GAAJ,SAAI,KAAJ,SAAI,QAclB;AAAD,CAAC,EAdS,IAAI,KAAJ,IAAI,QAcb","file":"puck.js","sourcesContent":["module puck {\n    export var version = '0.1.0';\n}","namespace puck {\n    export enum BrushMappingMode {\n        relativeToBounds = 0,\n        absolute = 1,\n    }\n}","namespace puck {\n    var NoAlphaRegex = /#([0-9a-fA-F][0-9a-fA-F]){1}([0-9a-fA-F][0-9a-fA-F]){1}([0-9a-fA-F][0-9a-fA-F]){1}/;\n    var AlphaRegex = /#([0-9a-fA-F][0-9a-fA-F]){1}([0-9a-fA-F][0-9a-fA-F]){1}([0-9a-fA-F][0-9a-fA-F]){1}([0-9a-fA-F][0-9a-fA-F]){1}/;\n\n    export class Color {\n        r: number = 0;\n        g: number = 0;\n        b: number = 0;\n        a: number = 1.0;\n\n        constructor(color?: Color|string) {\n            if (color instanceof Color) {\n                this.r = color.r;\n                this.g = color.g;\n                this.b = color.b;\n                this.a = color.a;\n            } else if (typeof color === \"string\") {\n                parse(this, color);\n            }\n        }\n\n        add(color2: Color) {\n            var c = new Color();\n            c.r = this.r + color2.r;\n            c.g = this.g + color2.g;\n            c.b = this.b + color2.b;\n            c.a = this.a + color2.a;\n            return c;\n        }\n\n        subtract(color2: Color) {\n            var c = new Color();\n            c.r = this.r - color2.r;\n            c.g = this.g - color2.g;\n            c.b = this.b - color2.b;\n            c.a = this.a - color2.a;\n            return c;\n        }\n\n        multiply(factor: number) {\n            var c = new Color();\n            c.r = this.r * factor;\n            c.g = this.g * factor;\n            c.b = this.b * factor;\n            c.a = this.a * factor;\n            return c;\n        }\n\n        toString() {\n            var r = Math.round(this.r) || 0;\n            var g = Math.round(this.g) || 0;\n            var b = Math.round(this.b) || 0;\n            var a = this.a || 0;\n            return `rgba(${r}, ${g}, ${b}, ${a})`;\n        }\n\n        toHexString(): string {\n            var ah = (this.a * 255).toString(16),\n                rh = this.r.toString(16),\n                gh = this.g.toString(16),\n                bh = this.b.toString(16);\n            return `#${ah}${rh}${gh}${bh}`;\n        }\n\n        toHexStringNoAlpha(): string {\n            var rh = this.r.toString(16),\n                gh = this.g.toString(16),\n                bh = this.b.toString(16);\n            return `#${rh}${gh}${bh}`;\n        }\n\n        static equals(color1: Color, color2: Color): boolean {\n            if (!color1) {\n                return !color2;\n            }\n            if (!color2) {\n                return false;\n            }\n            return color1.r === color2.r\n                && color1.g === color2.g\n                && color1.b === color2.b\n                && color1.a === color2.a;\n        }\n\n        static lerp(start: Color, end: Color, p: number): Color {\n            var c = new Color();\n            c.r = start.r + (end.r - start.r) * p;\n            c.g = start.g + (end.g - start.g) * p;\n            c.b = start.b + (end.b - start.b) * p;\n            c.a = start.a + (end.a - start.a) * p;\n            return c;\n        }\n\n        static fromRgba(r: number, g: number, b: number, a: number): Color {\n            var c = new Color();\n            c.r = r;\n            c.g = g;\n            c.b = b;\n            c.a = a;\n            return c;\n        }\n\n        static fromHex(hex: string): Color {\n            var c = new Color();\n            parseHex(c, hex);\n            return c;\n        }\n    }\n\n    export var KnownColors = {\n        AliceBlue: Color.fromHex(\"#FFF0F8FF\"),\n        AntiqueWhite: Color.fromHex(\"#FFFAEBD7\"),\n        Aqua: Color.fromHex(\"#FF00FFFF\"),\n        Aquamarine: Color.fromHex(\"#FF7FFFD4\"),\n        Azure: Color.fromHex(\"#FFF0FFFF\"),\n        Beige: Color.fromHex(\"#FFF5F5DC\"),\n        Bisque: Color.fromHex(\"#FFFFE4C4\"),\n        Black: Color.fromHex(\"#FF000000\"),\n        BlanchedAlmond: Color.fromHex(\"#FFFFEBCD\"),\n        Blue: Color.fromHex(\"#FF0000FF\"),\n        BlueViolet: Color.fromHex(\"#FF8A2BE2\"),\n        Brown: Color.fromHex(\"#FFA52A2A\"),\n        BurlyWood: Color.fromHex(\"#FFDEB887\"),\n        CadetBlue: Color.fromHex(\"#FF5F9EA0\"),\n        Chartreuse: Color.fromHex(\"#FF7FFF00\"),\n        Chocolate: Color.fromHex(\"#FFD2691E\"),\n        Coral: Color.fromHex(\"#FFFF7F50\"),\n        CornflowerBlue: Color.fromHex(\"#FF6495ED\"),\n        Cornsilk: Color.fromHex(\"#FFFFF8DC\"),\n        Crimson: Color.fromHex(\"#FFDC143C\"),\n        Cyan: Color.fromHex(\"#FF00FFFF\"),\n        DarkBlue: Color.fromHex(\"#FF00008B\"),\n        DarkCyan: Color.fromHex(\"#FF008B8B\"),\n        DarkGoldenrod: Color.fromHex(\"#FFB8860B\"),\n        DarkGray: Color.fromHex(\"#FFA9A9A9\"),\n        DarkGreen: Color.fromHex(\"#FF006400\"),\n        DarkKhaki: Color.fromHex(\"#FFBDB76B\"),\n        DarkMagenta: Color.fromHex(\"#FF8B008B\"),\n        DarkOliveGreen: Color.fromHex(\"#FF556B2F\"),\n        DarkOrange: Color.fromHex(\"#FFFF8C00\"),\n        DarkOrchid: Color.fromHex(\"#FF9932CC\"),\n        DarkRed: Color.fromHex(\"#FF8B0000\"),\n        DarkSalmon: Color.fromHex(\"#FFE9967A\"),\n        DarkSeaGreen: Color.fromHex(\"#FF8FBC8F\"),\n        DarkSlateBlue: Color.fromHex(\"#FF483D8B\"),\n        DarkSlateGray: Color.fromHex(\"#FF2F4F4F\"),\n        DarkTurquoise: Color.fromHex(\"#FF00CED1\"),\n        DarkViolet: Color.fromHex(\"#FF9400D3\"),\n        DeepPink: Color.fromHex(\"#FFFF1493\"),\n        DeepSkyBlue: Color.fromHex(\"#FF00BFFF\"),\n        DimGray: Color.fromHex(\"#FF696969\"),\n        DodgerBlue: Color.fromHex(\"#FF1E90FF\"),\n        Firebrick: Color.fromHex(\"#FFB22222\"),\n        FloralWhite: Color.fromHex(\"#FFFFFAF0\"),\n        ForestGreen: Color.fromHex(\"#FF228B22\"),\n        Fuchsia: Color.fromHex(\"#FFFF00FF\"),\n        Gainsboro: Color.fromHex(\"#FFDCDCDC\"),\n        GhostWhite: Color.fromHex(\"#FFF8F8FF\"),\n        Gold: Color.fromHex(\"#FFFFD700\"),\n        Goldenrod: Color.fromHex(\"#FFDAA520\"),\n        Gray: Color.fromHex(\"#FF808080\"),\n        Green: Color.fromHex(\"#FF008000\"),\n        GreenYellow: Color.fromHex(\"#FFADFF2F\"),\n        Honeydew: Color.fromHex(\"#FFF0FFF0\"),\n        HotPink: Color.fromHex(\"#FFFF69B4\"),\n        IndianRed: Color.fromHex(\"#FFCD5C5C\"),\n        Indigo: Color.fromHex(\"#FF4B0082\"),\n        Ivory: Color.fromHex(\"#FFFFFFF0\"),\n        Khaki: Color.fromHex(\"#FFF0E68C\"),\n        Lavender: Color.fromHex(\"#FFE6E6FA\"),\n        LavenderBlush: Color.fromHex(\"#FFFFF0F5\"),\n        LawnGreen: Color.fromHex(\"#FF7CFC00\"),\n        LemonChiffon: Color.fromHex(\"#FFFFFACD\"),\n        LightBlue: Color.fromHex(\"#FFADD8E6\"),\n        LightCoral: Color.fromHex(\"#FFF08080\"),\n        LightCyan: Color.fromHex(\"#FFE0FFFF\"),\n        LightGoldenrodYellow: Color.fromHex(\"#FFFAFAD2\"),\n        LightGray: Color.fromHex(\"#FFD3D3D3\"),\n        LightGreen: Color.fromHex(\"#FF90EE90\"),\n        LightPink: Color.fromHex(\"#FFFFB6C1\"),\n        LightSalmon: Color.fromHex(\"#FFFFA07A\"),\n        LightSeaGreen: Color.fromHex(\"#FF20B2AA\"),\n        LightSkyBlue: Color.fromHex(\"#FF87CEFA\"),\n        LightSlateGray: Color.fromHex(\"#FF778899\"),\n        LightSteelBlue: Color.fromHex(\"#FFB0C4DE\"),\n        LightYellow: Color.fromHex(\"#FFFFFFE0\"),\n        Lime: Color.fromHex(\"#FF00FF00\"),\n        LimeGreen: Color.fromHex(\"#FF32CD32\"),\n        Linen: Color.fromHex(\"#FFFAF0E6\"),\n        Magenta: Color.fromHex(\"#FFFF00FF\"),\n        Maroon: Color.fromHex(\"#FF800000\"),\n        MediumAquamarine: Color.fromHex(\"#FF66CDAA\"),\n        MediumBlue: Color.fromHex(\"#FF0000CD\"),\n        MediumOrchid: Color.fromHex(\"#FFBA55D3\"),\n        MediumPurple: Color.fromHex(\"#FF9370DB\"),\n        MediumSeaGreen: Color.fromHex(\"#FF3CB371\"),\n        MediumSlateBlue: Color.fromHex(\"#FF7B68EE\"),\n        MediumSpringGreen: Color.fromHex(\"#FF00FA9A\"),\n        MediumTurquoise: Color.fromHex(\"#FF48D1CC\"),\n        MediumVioletRed: Color.fromHex(\"#FFC71585\"),\n        MidnightBlue: Color.fromHex(\"#FF191970\"),\n        MintCream: Color.fromHex(\"#FFF5FFFA\"),\n        MistyRose: Color.fromHex(\"#FFFFE4E1\"),\n        Moccasin: Color.fromHex(\"#FFFFE4B5\"),\n        NavajoWhite: Color.fromHex(\"#FFFFDEAD\"),\n        Navy: Color.fromHex(\"#FF000080\"),\n        OldLace: Color.fromHex(\"#FFFDF5E6\"),\n        Olive: Color.fromHex(\"#FF808000\"),\n        OliveDrab: Color.fromHex(\"#FF6B8E23\"),\n        Orange: Color.fromHex(\"#FFFFA500\"),\n        OrangeRed: Color.fromHex(\"#FFFF4500\"),\n        Orchid: Color.fromHex(\"#FFDA70D6\"),\n        PaleGoldenrod: Color.fromHex(\"#FFEEE8AA\"),\n        PaleGreen: Color.fromHex(\"#FF98FB98\"),\n        PaleTurquoise: Color.fromHex(\"#FFAFEEEE\"),\n        PaleVioletRed: Color.fromHex(\"#FFDB7093\"),\n        PapayaWhip: Color.fromHex(\"#FFFFEFD5\"),\n        PeachPuff: Color.fromHex(\"#FFFFDAB9\"),\n        Peru: Color.fromHex(\"#FFCD853F\"),\n        Pink: Color.fromHex(\"#FFFFC0CB\"),\n        Plum: Color.fromHex(\"#FFDDA0DD\"),\n        PowderBlue: Color.fromHex(\"#FFB0E0E6\"),\n        Purple: Color.fromHex(\"#FF800080\"),\n        Red: Color.fromHex(\"#FFFF0000\"),\n        RosyBrown: Color.fromHex(\"#FFBC8F8F\"),\n        RoyalBlue: Color.fromHex(\"#FF4169E1\"),\n        SaddleBrown: Color.fromHex(\"#FF8B4513\"),\n        Salmon: Color.fromHex(\"#FFFA8072\"),\n        SandyBrown: Color.fromHex(\"#FFF4A460\"),\n        SeaGreen: Color.fromHex(\"#FF2E8B57\"),\n        SeaShell: Color.fromHex(\"#FFFFF5EE\"),\n        Sienna: Color.fromHex(\"#FFA0522D\"),\n        Silver: Color.fromHex(\"#FFC0C0C0\"),\n        SkyBlue: Color.fromHex(\"#FF87CEEB\"),\n        SlateBlue: Color.fromHex(\"#FF6A5ACD\"),\n        SlateGray: Color.fromHex(\"#FF708090\"),\n        Snow: Color.fromHex(\"#FFFFFAFA\"),\n        SpringGreen: Color.fromHex(\"#FF00FF7F\"),\n        SteelBlue: Color.fromHex(\"#FF4682B4\"),\n        Tan: Color.fromHex(\"#FFD2B48C\"),\n        Teal: Color.fromHex(\"#FF008080\"),\n        Thistle: Color.fromHex(\"#FFD8BFD8\"),\n        Tomato: Color.fromHex(\"#FFFF6347\"),\n        Transparent: Color.fromHex(\"#00FFFFFF\"),\n        Turquoise: Color.fromHex(\"#FF40E0D0\"),\n        Violet: Color.fromHex(\"#FFEE82EE\"),\n        Wheat: Color.fromHex(\"#FFF5DEB3\"),\n        White: Color.fromHex(\"#FFFFFFFF\"),\n        WhiteSmoke: Color.fromHex(\"#FFF5F5F5\"),\n        Yellow: Color.fromHex(\"#FFFFFF00\"),\n        YellowGreen: Color.fromHex(\"#FF9ACD32\")\n    };\n\n    function parse(c: Color, s: string) {\n        if (s[0] === \"#\") {\n            parseHex(c, s);\n        } else {\n            var known = KnownColors[s];\n            c.r = known.r;\n            c.g = known.g;\n            c.b = known.b;\n            c.a = known.a;\n        }\n    }\n\n    function parseHex(c: Color, hex: string) {\n        var match;\n        if ((match = AlphaRegex.exec(hex)) != null) {\n            c.a = parseInt(match[1], 16) / 255.0;\n            c.r = parseInt(match[2], 16);\n            c.g = parseInt(match[3], 16);\n            c.b = parseInt(match[4], 16);\n        } else if ((match = NoAlphaRegex.exec(hex)) != null) {\n            c.a = 1.0;\n            c.r = parseInt(match[1], 16);\n            c.g = parseInt(match[2], 16);\n            c.b = parseInt(match[3], 16);\n        }\n    }\n}","namespace puck.element {\n    export enum DirtyFlags {\n        none = 0,\n        opacity = 1 << 0,\n        visible = 1 << 1,\n        stretch = 1 << 2,\n        transform = 1 << 3,\n\n        font = 1 << 4,\n        padding = 1 << 5,\n        extents = 1 << 6,\n        newbounds = 1 << 7,\n        invalidate = 1 << 8,\n\n        down = DirtyFlags.opacity | DirtyFlags.visible | DirtyFlags.stretch | DirtyFlags.transform,\n        up = DirtyFlags.font | DirtyFlags.padding | DirtyFlags.extents | DirtyFlags.newbounds | DirtyFlags.invalidate,\n    }\n}","/// <reference path=\"element/DirtyFlags\" />\n\nnamespace puck {\n    import IElement = puck.element.IElement;\n    import IElementState = puck.element.IElementState;\n    import IElementComposite = puck.element.IElementComposite;\n    import IElementProcessor = puck.element.IElementProcessor;\n    import DirtyFlags = puck.element.DirtyFlags;\n\n    export class Element implements IElement {\n        state: IElementState;\n        composite: IElementComposite;\n        processor: IElementProcessor;\n        stencil: stencil.IStencil;\n\n        constructor(state?: IElementState, composite?: IElementComposite) {\n            this.init(state, composite);\n            Object.freeze(this);\n        }\n\n        init(state?: IElementState, composite?: IElementComposite) {\n            this.state = (state || new element.ElementState()).reset();\n            this.composite = (composite || new element.ElementComposite()).reset();\n            this.processor = {\n                down: element.down.Processor.instance,\n                up: element.up.Processor.instance,\n                render: element.render.Processor.instance,\n                hit: element.hit.Processor.instance,\n            };\n            this.stencil = stencil.empty;\n        }\n\n        get opacity(): number {\n            return this.state.opacity;\n        }\n\n        set opacity(value: number) {\n            if (this.state.opacity !== value) {\n                this.state.opacity = value;\n                this.composite.taint(DirtyFlags.opacity);\n            }\n        }\n\n        get visible(): boolean {\n            return this.state.visible;\n        }\n\n        set visible(value: boolean) {\n            if (this.state.visible !== value) {\n                this.state.visible = value;\n                this.composite.taint(DirtyFlags.visible);\n            }\n        }\n\n        get transformOriginX(): number {\n            return this.state.transformOrigin.x;\n        }\n\n        set transformOriginX(value: number) {\n            if (this.state.transformOrigin.x !== value) {\n                this.state.transformOrigin.x = value;\n                this.composite.taint(DirtyFlags.transform);\n            }\n        }\n\n        get transformOriginY(): number {\n            return this.state.transformOrigin.y;\n        }\n\n        set transformOriginY(value: number) {\n            if (this.state.transformOrigin.y !== value) {\n                this.state.transformOrigin.y = value;\n                this.composite.taint(DirtyFlags.transform);\n            }\n        }\n\n        resetTransform(): this {\n            la.mat3.identity(this.state.transform);\n            this.composite.taint(DirtyFlags.transform);\n            return this;\n        }\n\n        setTransform(mat: Float32Array): this {\n            la.mat3.copyTo(mat, this.state.transform);\n            this.composite.taint(DirtyFlags.transform);\n            return this;\n        }\n\n        applyTransform(mat: Float32Array): this {\n            la.mat3.apply(this.state.transform, mat);\n            this.composite.taint(DirtyFlags.transform);\n            return this;\n        }\n    }\n}","/// <reference path=\"Element\" />\n\nnamespace puck {\n    import IContainer = puck.container.IContainer;\n    import IElement = puck.element.IElement;\n    import IContainerState = puck.container.IContainerState;\n    import IContainerComposite = puck.container.IContainerComposite;\n    import IContainerProcessor = puck.container.IContainerProcessor;\n    import DirtyFlags = puck.element.DirtyFlags;\n\n    export class Container implements IContainer {\n        state: IContainerState;\n        composite: IContainerComposite;\n        elements: IElement[];\n        processor: IContainerProcessor;\n\n        constructor(state?: IContainerState, composite?: IContainerComposite) {\n            this.init(state, composite);\n            Object.freeze(this);\n        }\n\n        init(state?: IContainerState, composite?: IContainerComposite) {\n            this.elements = [];\n            this.state = (state || new container.ContainerState()).reset();\n            this.composite = (composite || new container.ContainerComposite()).reset();\n            this.processor = {\n                down: container.down.Processor.instance,\n                up: container.up.Processor.instance,\n                render: container.render.Processor.instance,\n                hit: container.hit.Processor.instance,\n            };\n        }\n\n        walk(reverse?: boolean): walk.IWalker<element.IElement> {\n            var els = this.elements;\n            var i = -1;\n            if (!reverse) {\n                return <walk.IWalker<element.IElement>>{\n                    next(): element.IElement {\n                        i++;\n                        return els[i];\n                    }\n                };\n            }\n\n            i = els.length;\n            return <walk.IWalker<element.IElement>>{\n                next(): element.IElement {\n                    i--;\n                    return els[i];\n                }\n            };\n        }\n\n        get opacity(): number {\n            return this.state.opacity;\n        }\n\n        set opacity(value: number) {\n            if (this.state.opacity !== value) {\n                this.state.opacity = value;\n                this.composite.taint(DirtyFlags.opacity);\n            }\n        }\n\n        get visible(): boolean {\n            return this.state.visible;\n        }\n\n        set visible(value: boolean) {\n            if (this.state.visible !== value) {\n                this.state.visible = value;\n                this.composite.taint(DirtyFlags.visible);\n            }\n        }\n\n        get x(): number {\n            return this.state.offset.x;\n        }\n\n        set x(value: number) {\n            if (this.state.offset.x !== value) {\n                this.state.offset.x = value;\n                this.composite.taint(DirtyFlags.transform);\n            }\n        }\n\n        get y(): number {\n            return this.state.offset.y;\n        }\n\n        set y(value: number) {\n            if (this.state.offset.y !== value) {\n                this.state.offset.y = value;\n                this.composite.taint(DirtyFlags.transform);\n            }\n        }\n\n        get transformOriginX(): number {\n            return this.state.transformOrigin.x;\n        }\n\n        set transformOriginX(value: number) {\n            if (this.state.transformOrigin.x !== value) {\n                this.state.transformOrigin.x = value;\n                this.composite.taint(DirtyFlags.transform);\n            }\n        }\n\n        get transformOriginY(): number {\n            return this.state.transformOrigin.y;\n        }\n\n        set transformOriginY(value: number) {\n            if (this.state.transformOrigin.y !== value) {\n                this.state.transformOrigin.y = value;\n                this.composite.taint(DirtyFlags.transform);\n            }\n        }\n\n        resetTransform(): this {\n            la.mat3.identity(this.state.transform);\n            this.composite.taint(DirtyFlags.transform);\n            return this;\n        }\n\n        setTransform(mat: Float32Array): this {\n            la.mat3.copyTo(mat, this.state.transform);\n            this.composite.taint(DirtyFlags.transform);\n            return this;\n        }\n\n        applyTransform(mat: Float32Array): this {\n            la.mat3.apply(this.state.transform, mat);\n            this.composite.taint(DirtyFlags.transform);\n            return this;\n        }\n    }\n}","namespace puck {\n    import IVisualState = puck.visual.IVisualState;\n    import IVisualComposite = puck.visual.IVisualComposite;\n    import IVisualProcessor = puck.visual.IVisualProcessor;\n    import DirtyFlags = puck.element.DirtyFlags;\n\n    /*\n     * This represents an element that has a *fill*, *stroke*, and *strokeThickness*\n     * If *fill* or *stroke* change, visual needs repainted\n     * If a *fill* or *stroke* is cleared, *extents* needs updated\n     * If a *stroke* is cleared, *padding* needs updated\n     * If *strokeThickness* changes, *padding* needs updated\n     */\n\n    export class Visual extends Element implements visual.IVisual {\n        private $fillwatch: puck.internal.IWatcher = null;\n        private $strokewatch: puck.internal.IWatcher = null;\n\n        state: IVisualState;\n        composite: IVisualComposite;\n        processor: IVisualProcessor;\n\n        constructor(state?: IVisualState, composite?: IVisualComposite) {\n            super(state, composite);\n        }\n\n        init(state?: IVisualState, composite?: IVisualComposite) {\n            this.state = (state || new visual.VisualState()).reset();\n            this.composite = (composite || new visual.VisualComposite()).reset();\n            this.processor = {\n                down: element.down.Processor.instance,\n                up: element.up.Processor.instance,\n                render: visual.render.Processor.instance,\n                hit: visual.hit.Processor.instance,\n            };\n            this.stencil = stencil.visual;\n        }\n\n        get fill(): IBrush { return this.state.fill; }\n        set fill(value: IBrush) {\n            if (this.$fillwatch) {\n                this.$fillwatch.unwatch();\n                this.$fillwatch = null;\n            }\n            if ((!value) === (!this.state.fill)) {\n                // toggling fill on/off can disturb extents\n                this.composite.taint(DirtyFlags.extents).invalidate();\n            }\n            if (value !== this.state.fill) {\n                this.state.fill = value;\n                this.composite.invalidate();\n            }\n            if (value) {\n                this.$fillwatch = value.watch(() => this.composite.invalidate());\n            }\n        }\n\n        get stroke(): IBrush { return this.state.stroke; }\n        set stroke(value: IBrush) {\n            if (this.$strokewatch) {\n                this.$strokewatch.unwatch();\n                this.$strokewatch = null;\n            }\n            if ((!value) === (!this.state.stroke)) {\n                // toggling stroke on/off can disturb padding\n                this.composite.taint(DirtyFlags.padding).invalidate();\n            }\n            if (value !== this.state.stroke) {\n                this.state.stroke = value;\n                this.composite.invalidate();\n            }\n            if (value) {\n                this.$strokewatch = value.watch(() => this.composite.invalidate());\n            }\n        }\n\n        get strokeThickness(): number { return this.state.strokeThickness; }\n        set strokeThickness(value: number) {\n            if (value !== this.state.strokeThickness) {\n                this.state.strokeThickness = value;\n                this.composite.taint(DirtyFlags.padding);\n            }\n        }\n    }\n}","namespace puck.stencil {\n    import IVisualState = puck.visual.IVisualState;\n    import IVisualComposite = puck.visual.IVisualComposite;\n    import RenderContext = puck.render.RenderContext;\n    import IRect = la.IRect;\n\n    export var visual: IStencil = {\n        draft(bag: IStencilBag) {\n            var state = <IVisualState>bag.state,\n                size = state.size;\n\n            la.rect.init(0, 0, size.width, size.height, bag.fillRect);\n            la.rect.init(0, 0, size.width, size.height, bag.strokeRect);\n            if (state.stroke && state.strokeThickness > 0) {\n                // visual gets contained only if stroke exists and stroke thickness is non-zero\n                var ht = state.strokeThickness / 2;\n                la.rect.shrink(bag.fillRect, la.padding.init(ht, ht, ht, ht));\n            }\n        },\n        draw(ctx: RenderContext, bag: IStencilBag) {\n            ctx.raw.beginPath();\n            ctx.raw.closePath();\n        },\n    };\n}","/// <reference path=\"Visual\" />\n/// <reference path=\"stencil/visual\" />\n\nnamespace puck {\n    import DirtyFlags = puck.element.DirtyFlags;\n    import IVisualState = puck.visual.IVisualState;\n    import IVisualComposite = puck.visual.IVisualComposite;\n    var PI2 = Math.PI * 2;\n\n    export class Ellipse extends Visual {\n        init(state?: IVisualState, composite?: IVisualComposite) {\n            super.init(state, composite);\n            this.stencil = ellipseStencil;\n        }\n\n        get x(): number {\n            return this.state.offset.x;\n        }\n\n        set x(value: number) {\n            if (this.state.offset.x !== value) {\n                this.state.offset.x = value;\n                this.composite.taint(DirtyFlags.transform);\n            }\n        }\n\n        get y(): number {\n            return this.state.offset.y;\n        }\n\n        set y(value: number) {\n            if (this.state.offset.y !== value) {\n                this.state.offset.y = value;\n                this.composite.taint(DirtyFlags.transform);\n            }\n        }\n\n        get width(): number {\n            return this.state.size.width;\n        }\n\n        set width(value: number) {\n            if (this.state.size.width !== value) {\n                this.state.size.width = value;\n                this.composite.taint(DirtyFlags.transform | DirtyFlags.extents);\n            }\n        }\n\n        get height(): number {\n            return this.state.size.height;\n        }\n\n        set height(value: number) {\n            if (this.state.size.height !== value) {\n                this.state.size.height = value;\n                this.composite.taint(DirtyFlags.transform | DirtyFlags.extents);\n            }\n        }\n    }\n\n    var ellipseStencil = <stencil.IStencil>{\n        draft: stencil.visual.draft,\n        draw(ctx: render.RenderContext, bag: stencil.IStencilBag) {\n            var fr = bag.fillRect;\n            if (fr.width <= 0 || fr.height <= 0) {\n                // degenerate\n                return;\n            }\n            var rx = fr.width / 2,\n                ry = fr.height / 2;\n            var raw = ctx.raw;\n            raw.beginPath();\n            raw.ellipse(fr.x + rx, fr.y + ry, rx, ry, 0, 0, PI2, false);\n            raw.closePath();\n        }\n    };\n}","namespace puck {\n    export enum FillRule {\n        evenodd = 0,\n        nonzero = 1,\n    }\n\n    export enum PenLineJoin {\n        miter = 0,\n        bevel = 1,\n        round = 2,\n    }\n\n    export enum PenLineCap {\n        flat = 0,\n        square = 1,\n        round = 2,\n        triangle = 3,\n    }\n}","namespace puck {\n    export var FontStyle = {\n        normal: \"normal\",\n        italic: \"italic\",\n        oblique: \"oblique\"\n    };\n\n    export var FontStretch = {\n        ultraCondensed: \"ultra-condensed\",\n        extraCondensed: \"extra-condensed\",\n        condensed: \"condensed\",\n        semiCondensed: \"semi-condensed\",\n        normal: \"normal\",\n        semiExpanded: \"semi-expanded\",\n        expanded: \"expanded\",\n        extraExpanded: \"extra-expanded\",\n        ultraExpanded: \"ultra-expanded\"\n    };\n\n    export enum FontWeight {\n        thin = 100,\n        extraLight = 200,\n        light = 300,\n        normal = 400,\n        medium = 500,\n        semiBold = 600,\n        bold = 700,\n        extraBold = 800,\n        black = 900,\n        extraBlack = 950,\n    }\n\n    export interface IFont {\n        family: string;\n        size: number;\n        stretch: string;\n        style: string;\n        weight: FontWeight;\n        toString(): string;\n    }\n\n    export var defaultFont: IFont = {\n        family: `\\\"Segoe UI\\\",Roboto,Helvetica,Arial,sans-serif`,\n        size: 14,\n        stretch: FontStretch.normal,\n        style: FontStyle.normal,\n        weight: FontWeight.normal,\n        toString(): string {\n            return font.toString(defaultFont);\n        },\n    };\n}","namespace puck {\n    export class FrameDebug {\n        private $onBeginProcess: Function = null;\n        private $onEndProcess: Function = null;\n        private $onBeginRender: Function = null;\n        private $onEndRender: Function = null;\n\n        onBeginProcess(cb: Function): this {\n            this.$onBeginProcess = cb;\n            return this;\n        }\n\n        onEndProcess(cb: Function): this {\n            this.$onEndProcess = cb;\n            return this;\n        }\n\n        onBeginRender(cb: Function): this {\n            this.$onBeginRender = cb;\n            return this;\n        }\n\n        onEndRender(cb: Function): this {\n            this.$onEndRender = cb;\n            return this;\n        }\n\n        beginProcess() {\n            this.$onBeginProcess && this.$onBeginProcess();\n        }\n\n        endProcess() {\n            this.$onEndProcess && this.$onEndProcess();\n        }\n\n        beginRender() {\n            this.$onBeginRender && this.$onBeginRender();\n        }\n\n        endRender() {\n            this.$onEndRender && this.$onEndRender();\n        }\n    }\n}","namespace puck {\n    export abstract class GradientBrush implements IBrush {\n        private $cachedBrush: string | CanvasGradient | CanvasPattern = null;\n        private $cachedBounds = la.rect.init(0, 0, 0, 0);\n        protected $changer = new puck.internal.WatchChanger();\n\n        private $stops = new GradientStops();\n        private $spreadMethod: GradientSpreadMethod = GradientSpreadMethod.pad;\n        private $mappingMode: BrushMappingMode = BrushMappingMode.relativeToBounds;\n\n        constructor() {\n            this.$stops.watch(() => this.$changer.on());\n        }\n\n        get spreadMethod(): GradientSpreadMethod {\n            return this.$spreadMethod;\n        }\n\n        set spreadMethod(value: GradientSpreadMethod) {\n            if (this.$spreadMethod !== value) {\n                this.$spreadMethod = value;\n                this.$changer.on();\n            }\n        }\n\n        get mappingMode(): BrushMappingMode {\n            return this.$mappingMode;\n        }\n\n        set mappingMode(value: BrushMappingMode) {\n            if (this.$mappingMode !== value) {\n                this.$mappingMode = value;\n                this.$changer.on();\n            }\n        }\n\n        get stops(): GradientStops {\n            return this.$stops;\n        }\n\n        watch(onChanged: ()=>void): puck.internal.IWatcher {\n            return this.$changer.watch(onChanged);\n        }\n\n        setup(ctx: CanvasRenderingContext2D, region: la.IRect) {\n            if (this.$cachedBrush && la.rect.equal(this.$cachedBounds, region))\n                return;\n            la.rect.copyTo(region, this.$cachedBounds);\n            this.$cachedBrush = this.createBrush(ctx, region);\n        }\n\n        toHtml5Object(): any {\n            return this.$cachedBrush;\n        }\n\n        protected createBrush(ctx: CanvasRenderingContext2D, region: la.IRect): string | CanvasGradient | CanvasPattern {\n            switch (this.spreadMethod) {\n                case GradientSpreadMethod.pad:\n                    return this.createPad(ctx, region);\n                default:\n                case GradientSpreadMethod.reflect:\n                    return this.createReflect(ctx, region);\n                case GradientSpreadMethod.repeat:\n                    return this.createRepeat(ctx, region);\n            }\n        }\n\n        protected abstract createPad(ctx: CanvasRenderingContext2D, region: la.IRect): string | CanvasGradient | CanvasPattern;\n\n        protected abstract createReflect(ctx: CanvasRenderingContext2D, region: la.IRect): string | CanvasGradient | CanvasPattern;\n\n        protected abstract createRepeat(ctx: CanvasRenderingContext2D, region: la.IRect): string | CanvasGradient | CanvasPattern;\n\n        protected mapPoint(region: la.IRect, point: la.IPoint): la.IPoint {\n            var mapped = {x: point.x, y: point.y};\n            if (this.mappingMode === BrushMappingMode.relativeToBounds) {\n                mapped.x *= region.width;\n                mapped.y *= region.height;\n            }\n            mapped.x += region.x;\n            mapped.y += region.y;\n            return mapped;\n        }\n    }\n}","namespace puck {\n    export enum GradientSpreadMethod {\n        pad = 0,\n        reflect = 1,\n        repeat = 2,\n    }\n}","namespace puck {\n    export interface IGradientStop {\n        color: Color;\n        offset: number;\n    }\n\n    export class GradientStop implements IGradientStop {\n        constructor(public color: Color, public offset: number) {\n            Object.freeze(this);\n        }\n    }\n}","namespace puck {\n    export class PuckArray<T> {\n        protected $backing: T[] = [];\n        protected $changer = new puck.internal.WatchChanger();\n\n        get length() {\n            return this.$backing.length;\n        }\n\n        clear(): this {\n            this.$backing.length = 0;\n            this.$changer.on();\n            return this;\n        }\n\n        add(item: T): this {\n            this.$backing.push(item);\n            Object.freeze(item);\n            this.$changer.on();\n            return this;\n        }\n\n        addMany(items: T[]): this {\n            var backing = this.$backing;\n            for (var i = 0; i < items.length; i++) {\n                Object.freeze(items[i]);\n            }\n            backing.push.apply(backing, items);\n            this.$changer.on();\n            return this;\n        }\n\n        insert(index: number, item: T): this {\n            this.$backing.splice(index, 0, item);\n            Object.freeze(item);\n            this.$changer.on();\n            return this;\n        }\n\n        insertMany(index: number, items: T[]): this {\n            for (var i = 0; i < items.length; i++) {\n                Object.freeze(items[i]);\n            }\n            var backing = this.$backing;\n            for (var i = items.length - 1; i >= 0; i--) {\n                backing.splice(index, 0, items[i]);\n            }\n            this.$changer.on();\n            return this;\n        }\n\n        edit(oldItem: T, newItem: T): this {\n            return this.editAt(this.$backing.indexOf(oldItem), newItem);\n        }\n\n        editAt(index: number, newItem: T): this {\n            var backing = this.$backing;\n            if (index < 0 && index >= backing.length)\n                return this;\n            backing[index] = newItem;\n            Object.freeze(newItem);\n            this.$changer.on();\n            return this;\n        }\n\n        remove(item: T) {\n            return this.removeAt(this.$backing.indexOf(item));\n        }\n\n        removeAt(index: number) {\n            var backing = this.$backing;\n            if (index < 0 && index >= backing.length)\n                return this;\n            backing.splice(index, 1);\n            this.$changer.on();\n            return this;\n        }\n\n        watch(onChanged: () => void): puck.internal.IWatcher {\n            return this.$changer.watch(onChanged);\n        }\n\n        iter(): Iterator<T> {\n            return PuckArray.arrayIter<T>(this.$backing);\n        }\n\n        static arrayIter<T>(arr: T[]): Iterator<T> {\n            var i = -1;\n            return {\n                next(): IteratorResult<T> {\n                    i++;\n                    if (i >= arr.length)\n                        return {done: true};\n                    return {done: false, value: arr[i]};\n                }\n            }\n        }\n    }\n}","/// <reference path=\"PuckArray\" />\n\nnamespace puck {\n    /*\n     * Represents an array of GradientStop\n     * Includes change notification when array is mutated\n     */\n    export class GradientStops extends PuckArray<IGradientStop> {\n        paddedIter(): Iterator<IGradientStop> {\n            var min: IGradientStop = null;\n            var max: IGradientStop = null;\n\n            var tmp: IGradientStop[] = this.$backing.slice(0);\n            for (var i = 0; i < tmp.length; i++) {\n                let cur = tmp[i];\n                tmp.push(cur);\n                if (!min || cur.offset < min.offset)\n                    min = cur;\n                if (!max || cur.offset > max.offset)\n                    max = cur;\n            }\n\n            if (!!min)\n                tmp.unshift({offset: 0, color: min.color});\n            if (!!max)\n                tmp.push({offset: 1, color: max.color});\n\n            return PuckArray.arrayIter<IGradientStop>(tmp);\n        }\n    }\n}","namespace puck {\n    import IImageState = puck.image.IImageState;\n    import IImageComposite = puck.image.IImageComposite;\n    import IImageProcessor = puck.image.IImageProcessor;\n    import DirtyFlags = puck.element.DirtyFlags;\n\n    /*\n     * Represents an Image object to render\n     * By default, stretch is set to none which will use the image's natural size as extents\n     * If another stretch is represented, image will transform into width/height specified.\n     */\n\n    export class Image extends Element implements image.IImage {\n        state: IImageState;\n        composite: IImageComposite;\n        processor: IImageProcessor;\n        stencil: stencil.IStencil;\n\n        constructor(state?: IImageState, composite?: IImageComposite) {\n            super(state, composite);\n        }\n\n        init(state?: IImageState, composite?: IImageComposite) {\n            this.state = (state || new image.ImageState()).reset();\n            this.composite = (composite || new image.ImageComposite()).reset();\n            this.processor = {\n                down: image.down.Processor.instance,\n                up: image.up.Processor.instance,\n                render: element.render.Processor.instance,\n                hit: image.hit.Processor.instance,\n            };\n            this.stencil = imageStencil;\n            this.state.source.watch(\n                () => this.onSourceChanged(),\n                (e) => this.onSourceErrored(e),\n                () => this.onSourceLoaded());\n        }\n\n        get sourceUri(): string {\n            return this.state.source.uri;\n        }\n\n        // invalidations come through watcher\n        set sourceUri(value: string) {\n            this.state.source.uri = value;\n        }\n\n        get stretch(): Stretch {\n            return this.state.stretch;\n        }\n\n        set stretch(value: Stretch) {\n            if (this.state.stretch !== value) {\n                this.state.stretch = value;\n                this.composite.taint(DirtyFlags.stretch);\n            }\n        }\n\n        get x(): number {\n            return this.state.offset.x;\n        }\n\n        set x(value: number) {\n            if (this.state.offset.x !== value) {\n                this.state.offset.x = value;\n                this.composite.taint(DirtyFlags.transform);\n            }\n        }\n\n        get y(): number {\n            return this.state.offset.y;\n        }\n\n        set y(value: number) {\n            if (this.state.offset.y !== value) {\n                this.state.offset.y = value;\n                this.composite.taint(DirtyFlags.transform);\n            }\n        }\n\n        get width(): number {\n            return this.state.size.width;\n        }\n\n        set width(value: number) {\n            if (this.state.size.width !== value) {\n                this.state.size.width = value;\n                this.composite.taint(DirtyFlags.stretch | DirtyFlags.transform);\n            }\n        }\n\n        get height(): number {\n            return this.state.size.height;\n        }\n\n        set height(value: number) {\n            if (this.state.size.height !== value) {\n                this.state.size.height = value;\n                this.composite.taint(DirtyFlags.stretch | DirtyFlags.transform);\n            }\n        }\n\n        protected onSourceChanged() {\n            this.setNaturalSize(0, 0);\n        }\n\n        protected onSourceErrored(err: any) {\n            console.error(\"error loading image\", err);\n        }\n\n        protected onSourceLoaded() {\n            var source = this.state.source;\n            this.setNaturalSize(source.naturalWidth, source.naturalHeight);\n        }\n\n        protected setNaturalSize(width: number, height: number) {\n            var naturalSize = this.state.natural;\n            naturalSize.width = width;\n            naturalSize.height = height;\n            this.composite.taint(DirtyFlags.stretch | DirtyFlags.extents).invalidate();\n        }\n    }\n\n    var imageStencil = <stencil.IStencil>{\n        draft(bag: stencil.IStencilBag) {\n        },\n        draw(ctx: render.RenderContext, bag: stencil.IStencilBag) {\n            var state = <IImageState>bag.state,\n                comp = <IImageComposite>bag.composite;\n            ctx.preapply(comp.stretchTransform);\n            state.source.draw(ctx.raw);\n        },\n    };\n}","/// <reference path=\"Container\" />\n\nnamespace puck {\n    import IContainerState = puck.container.IContainerState;\n    import IContainerComposite = puck.container.IContainerComposite;\n    import DirtyFlags = puck.element.DirtyFlags;\n\n    export class Layer extends Container {\n        private $ctx: render.RenderContext;\n        private $timer: Timer;\n        frameDebug: FrameDebug;\n\n        get width(): number {\n            return this.$ctx.raw.canvas.width;\n        }\n\n        get height(): number {\n            return this.$ctx.raw.canvas.height;\n        }\n\n        init(state?: IContainerState, composite?: IContainerComposite) {\n            super.init(state, composite);\n            this.frameDebug = new FrameDebug();\n            this.$ctx = new render.RenderContext();\n            this.$timer = new Timer((now) => this.onTick(now));\n        }\n\n        attach(ctx: CanvasRenderingContext2D): this {\n            this.$ctx.init(ctx);\n            return this;\n        }\n\n        activate(): this {\n            this.$timer.enable();\n            return this;\n        }\n\n        deactivate(): this {\n            this.$timer.disable();\n            return this;\n        }\n\n        process(): this {\n            this.frameDebug.beginProcess();\n            engine.process(this);\n            this.frameDebug.endProcess();\n            return this;\n        }\n\n        render(): this {\n            var ctx = this.$ctx,\n                paint = this.composite.paint,\n                raw = ctx.raw;\n\n            this.frameDebug.beginRender();\n            raw.fillStyle = \"#ffffff\";\n            raw.fillRect(paint.x, paint.y, paint.width, paint.height);\n            engine.render(this, ctx, paint);\n            this.frameDebug.endRender();\n\n            return this;\n        }\n\n        protected onTick(now: number) {\n            this.process()\n                .render();\n        }\n    }\n}","/// <reference path=\"GradientBrush\" />\n\nnamespace puck {\n    export class LinearGradientBrush extends GradientBrush {\n        private $start: la.IPoint = {x: 0, y: 0};\n        private $end: la.IPoint = {x: 0, y: 1};\n\n        get start(): la.IPoint {\n            return this.$start;\n        }\n\n        set start(value: la.IPoint) {\n            if (this.$start !== value) {\n                this.$start = value;\n                Object.freeze(value);\n                this.$changer.on();\n            }\n        }\n\n        get end(): la.IPoint {\n            return this.$end;\n        }\n\n        set end(value: la.IPoint) {\n            if (this.$end !== value) {\n                this.$end = value;\n                Object.freeze(value);\n                this.$changer.on();\n            }\n        }\n\n        protected createPad(ctx: CanvasRenderingContext2D, region: la.IRect): string|CanvasGradient|CanvasPattern {\n            var mstart = this.mapPoint(region, this.start);\n            var mend = this.mapPoint(region, this.end);\n            var grd = ctx.createLinearGradient(mstart.x, mstart.y, mend.x, mend.y);\n            for (var it = this.stops.iter(), result = it.next(); !result.done; result = it.next()) {\n                addColorStop(grd, result.value);\n            }\n            return grd;\n        }\n\n        protected createReflect(ctx: CanvasRenderingContext2D, region: la.IRect): string|CanvasGradient|CanvasPattern {\n            var mstart = this.mapPoint(region, this.start);\n            var mend = this.mapPoint(region, this.end);\n            return this.createInterpolated(ctx, linearGradient.createRepeatInterpolator(mstart, mend, region));\n        }\n\n        protected createRepeat(ctx: CanvasRenderingContext2D, region: la.IRect): string|CanvasGradient|CanvasPattern {\n            var mstart = this.mapPoint(region, this.start);\n            var mend = this.mapPoint(region, this.end);\n            return this.createInterpolated(ctx, linearGradient.createReflectInterpolator(mstart, mend, region));\n        }\n\n        private createInterpolated(ctx: CanvasRenderingContext2D, interpolator: linearGradient.IInterpolator) {\n            var grd = ctx.createLinearGradient(interpolator.x0, interpolator.y0, interpolator.x1, interpolator.y1);\n            var allStops = this.stops.paddedIter();\n            for (; interpolator.step();) {\n                for (var result = allStops.next(); !result.done; result = allStops.next()) {\n                    let cur = result.value;\n                    let inter = {\n                        color: cur.color,\n                        offset: interpolator.interpolate(cur.offset)\n                    };\n                    if (inter.offset >= 0 && inter.offset <= 1)\n                        addColorStop(grd, inter);\n                }\n            }\n            return grd;\n        }\n    }\n\n    function addColorStop(grd: CanvasGradient, stop: IGradientStop) {\n        // Placing color stop in between [0.0, 1.0]\n        // Otherwise, gradient will not render\n        var offset = Math.min(1.0, Math.max(0.0, stop.offset));\n        var color = stop.color.toString();\n        grd.addColorStop(offset, color);\n    }\n}","namespace puck {\n    import IPathState = puck.path.IPathState;\n    import IPathComposite = puck.path.IPathComposite;\n    import IPathProcessor = puck.path.IPathProcessor;\n    import DirtyFlags = puck.element.DirtyFlags;\n\n    /*\n     * This represents a multisegment path managed through curve API\n     * If any stroke parameters change, we need to recalculate *padding*\n     * Calculation of filled/stroked bounds is done via curve\n     */\n\n    export class Path extends Visual implements path.IPath {\n        state: IPathState;\n        composite: IPathComposite;\n        processor: IPathProcessor;\n\n        constructor(state?: IPathState, composite?: IPathComposite) {\n            super(state, composite);\n        }\n\n        init(state?: IPathState, composite?: IPathComposite) {\n            this.state = (state || new path.PathState()).reset();\n            this.composite = (composite || new path.PathComposite()).reset();\n            this.processor = {\n                down: path.down.Processor.instance,\n                up: path.up.Processor.instance,\n                render: path.render.Processor.instance,\n                hit: path.hit.Processor.instance,\n            };\n            this.stencil = stencil.path;\n        }\n\n        get x(): number {\n            return this.state.offset.x;\n        }\n\n        set x(value: number) {\n            if (this.state.offset.x !== value) {\n                this.state.offset.x = value;\n                this.composite.taint(DirtyFlags.transform);\n            }\n        }\n\n        get y(): number {\n            return this.state.offset.y;\n        }\n\n        set y(value: number) {\n            if (this.state.offset.y !== value) {\n                this.state.offset.y = value;\n                this.composite.taint(DirtyFlags.transform);\n            }\n        }\n\n        get width(): number {\n            return this.state.size.width;\n        }\n\n        set width(value: number) {\n            if (this.state.size.width !== value) {\n                this.state.size.width = value;\n                this.composite.taint(DirtyFlags.stretch | DirtyFlags.transform);\n            }\n        }\n\n        get height(): number {\n            return this.state.size.height;\n        }\n\n        set height(value: number) {\n            if (this.state.size.height !== value) {\n                this.state.size.height = value;\n                this.composite.taint(DirtyFlags.stretch | DirtyFlags.transform);\n            }\n        }\n\n        get stretch(): Stretch {\n            return this.state.stretch;\n        }\n\n        set stretch(value: Stretch) {\n            if (this.state.stretch !== value) {\n                this.state.stretch = value;\n                this.composite.taint(DirtyFlags.stretch);\n            }\n        }\n\n        get path() {\n            return this.state.path;\n        }\n\n        set path(value: curve.Path) {\n            if (this.state.path !== value) {\n                this.state.path = value;\n                this.composite.bounder.setPath(value);\n                this.composite\n                    .taint(DirtyFlags.padding)\n                    .invalidate();\n            }\n        }\n\n        get fillRule() {\n            return this.state.fillRule;\n        }\n\n        set fillRule(value: FillRule) {\n            if (this.state.fillRule !== value) {\n                this.state.fillRule = value;\n                this.composite.invalidate();\n            }\n        }\n\n        get strokeLineCap() {\n            return this.state.strokeLineCap;\n        }\n\n        set strokeLineCap(value: PenLineCap) {\n            if (this.state.strokeLineCap !== value) {\n                this.state.strokeLineCap = value;\n                this.composite\n                    .taint(DirtyFlags.padding)\n                    .invalidate();\n            }\n        }\n\n        get strokeLineJoin() {\n            return this.state.strokeLineJoin;\n        }\n\n        set strokeLineJoin(value: PenLineJoin) {\n            if (this.state.strokeLineJoin !== value) {\n                this.state.strokeLineJoin = value;\n                this.composite\n                    .taint(DirtyFlags.padding)\n                    .invalidate();\n            }\n        }\n\n        get strokeMiterLimit() {\n            return this.state.strokeMiterLimit;\n        }\n\n        set strokeMiterLimit(value: number) {\n            if (this.state.strokeMiterLimit !== value) {\n                this.state.strokeMiterLimit = value;\n                this.composite\n                    .taint(DirtyFlags.padding)\n                    .invalidate();\n            }\n        }\n    }\n}","/// <reference path=\"PuckArray\" />\n\nnamespace puck {\n    export class Points extends PuckArray<la.IPoint> {\n    }\n}","namespace puck {\n    import DirtyFlags = puck.element.DirtyFlags;\n    import IPolylineState = puck.polyline.IPolylineState;\n    import IPathComposite = puck.path.IPathComposite;\n    import IPolylineProcessor = puck.polyline.IPolylineProcessor;\n\n    export class Polyline extends Visual implements polyline.IPolyline {\n        state: polyline.IPolylineState;\n        composite: path.IPathComposite;\n        processor: IPolylineProcessor;\n\n        constructor(state?: IPolylineState, composite?: IPathComposite) {\n            super(state, composite);\n        }\n\n        init(state ?: IPolylineState, composite ?: IPathComposite) {\n            this.state = (state || new polyline.PolylineState()).reset();\n            this.composite = (composite || new path.PathComposite()).reset();\n            this.processor = {\n                down: polyline.down.Processor.instance,\n                up: path.up.Processor.instance,\n                render: path.render.Processor.instance,\n                hit: path.hit.Processor.instance,\n            };\n            this.stencil = stencil.path;\n            this.state.points.watch(() => {\n                if (this.state.path)\n                    this.state.path.reset();\n                // forces repathing from points\n            });\n        }\n\n        get points() {\n            return this.state.points;\n        }\n\n        get closed() {\n            return this.closed;\n        }\n\n        set closed(value: boolean) {\n            if (this.state.closed !== value) {\n                this.state.closed = value;\n                this.composite.invalidate();\n            }\n        }\n\n        get x(): number {\n            return this.state.offset.x;\n        }\n\n        set x(value: number) {\n            if (this.state.offset.x !== value) {\n                this.state.offset.x = value;\n                this.composite.taint(DirtyFlags.transform);\n            }\n        }\n\n        get y(): number {\n            return this.state.offset.y;\n        }\n\n        set y(value: number) {\n            if (this.state.offset.y !== value) {\n                this.state.offset.y = value;\n                this.composite.taint(DirtyFlags.transform);\n            }\n        }\n\n        get width(): number {\n            return this.state.size.width;\n        }\n\n        set width(value: number) {\n            if (this.state.size.width !== value) {\n                this.state.size.width = value;\n                this.composite.taint(DirtyFlags.stretch | DirtyFlags.transform);\n            }\n        }\n\n        get height(): number {\n            return this.state.size.height;\n        }\n\n        set height(value: number) {\n            if (this.state.size.height !== value) {\n                this.state.size.height = value;\n                this.composite.taint(DirtyFlags.stretch | DirtyFlags.transform);\n            }\n        }\n\n        get stretch(): Stretch {\n            return this.state.stretch;\n        }\n\n        set stretch(value: Stretch) {\n            if (this.state.stretch !== value) {\n                this.state.stretch = value;\n                this.composite.taint(DirtyFlags.stretch);\n            }\n        }\n\n        get fillRule() {\n            return this.state.fillRule;\n        }\n\n        set fillRule(value: FillRule) {\n            if (this.state.fillRule !== value) {\n                this.state.fillRule = value;\n                this.composite.invalidate();\n            }\n        }\n\n        get strokeLineCap() {\n            return this.state.strokeLineCap;\n        }\n\n        set strokeLineCap(value: PenLineCap) {\n            if (this.state.strokeLineCap !== value) {\n                this.state.strokeLineCap = value;\n                this.composite\n                    .taint(DirtyFlags.padding)\n                    .invalidate();\n            }\n        }\n\n        get strokeLineJoin() {\n            return this.state.strokeLineJoin;\n        }\n\n        set strokeLineJoin(value: PenLineJoin) {\n            if (this.state.strokeLineJoin !== value) {\n                this.state.strokeLineJoin = value;\n                this.composite\n                    .taint(DirtyFlags.padding)\n                    .invalidate();\n            }\n        }\n\n        get strokeMiterLimit() {\n            return this.state.strokeMiterLimit;\n        }\n\n        set strokeMiterLimit(value: number) {\n            if (this.state.strokeMiterLimit !== value) {\n                this.state.strokeMiterLimit = value;\n                this.composite\n                    .taint(DirtyFlags.padding)\n                    .invalidate();\n            }\n        }\n    }\n}","/// <reference path=\"GradientBrush\" />\n\nnamespace puck {\n    var tmpCanvas: HTMLCanvasElement = document.createElement('canvas');\n    var tmpCtx: CanvasRenderingContext2D = tmpCanvas.getContext('2d');\n    var epsilon = 1E-10;\n\n    export class RadialGradientBrush extends GradientBrush {\n        private $center: la.IPoint = {x: 0.5, y: 0.5};\n        private $origin: la.IPoint = {x: 0.5, y: 0.5};\n        private $radius: la.IPoint = {x: 0.5, y: 0.5};\n\n        get center() {\n            return this.$center;\n        }\n\n        set center(value: la.IPoint) {\n            if (this.$center !== value) {\n                this.$center = value;\n                Object.freeze(value);\n                this.$changer.on();\n            }\n        }\n\n        get origin() {\n            return this.$origin;\n        }\n\n        set origin(value: la.IPoint) {\n            if (this.$origin !== value) {\n                this.$origin = value;\n                Object.freeze(value);\n                this.$changer.on();\n            }\n        }\n\n        get radiusX() {\n            return this.$radius.x;\n        }\n\n        set radiusX(value: number) {\n            if (this.$radius.x !== value) {\n                this.$radius.x = value;\n                this.$changer.on();\n            }\n        }\n\n        get radiusY() {\n            return this.$radius.y;\n        }\n\n        set radiusY(value: number) {\n            if (this.$radius.y !== value) {\n                this.$radius.y = value;\n                this.$changer.on();\n            }\n        }\n\n        protected createPad(ctx: CanvasRenderingContext2D, region: la.IRect): string|CanvasGradient|CanvasPattern {\n            var data = this.getPointData(region);\n            var grd = (!data.balanced ? tmpCtx : ctx).createRadialGradient(data.x0, data.y0, 0, data.x1, data.y1, data.r1);\n            for (var it = this.stops.iter(), result = it.next(); !result.done; result = it.next()) {\n                addColorStop(grd, result.value);\n            }\n            return this.fit(ctx, grd, data, region);\n        }\n\n        protected createReflect(ctx: CanvasRenderingContext2D, region: la.IRect): string|CanvasGradient|CanvasPattern {\n            var data = this.getPointData(region);\n            return this.createInterpolated(data, region, false);\n        }\n\n        protected createRepeat(ctx: CanvasRenderingContext2D, region: la.IRect): string|CanvasGradient|CanvasPattern {\n            var data = this.getPointData(region);\n            return this.createInterpolated(data, region, true);\n        }\n\n        private createInterpolated(data: radialGradient.IRadialPointData, bounds: la.IRect, reflect: boolean): CanvasPattern {\n            tmpCanvas.width = bounds.width;\n            tmpCanvas.height = bounds.height;\n            tmpCtx.save();\n            if (!data.balanced)\n                tmpCtx.scale(data.sx, data.sy);\n            tmpCtx.globalCompositeOperation = \"destination-over\";\n\n            var inverted = false;\n            var allStops = this.stops.paddedIter();\n            for (var extender = radialGradient.createExtender(data, bounds); extender.step(); inverted = !inverted) {\n                var grd = extender.createGradient(tmpCtx);\n                for (var result = allStops.next(); !result.done; result = allStops.next()) {\n                    let cur = result.value;\n                    let inter = {\n                        color: cur.color,\n                        offset: (reflect && inverted) ? 1 - cur.offset : cur.offset,\n                    };\n                    addColorStop(grd, inter);\n                }\n                tmpCtx.fillStyle = grd;\n                tmpCtx.beginPath();\n                tmpCtx.arc(extender.x1, extender.y1, extender.r1, 0, 2 * Math.PI, false);\n                tmpCtx.closePath();\n                tmpCtx.fill();\n            }\n\n            var pattern = tmpCtx.createPattern(tmpCanvas, \"no-repeat\");\n            tmpCtx.restore();\n            return pattern;\n        }\n\n        private getPointData(bounds: la.IRect): radialGradient.IRadialPointData {\n            var mcenter = this.mapPoint(bounds, this.center);\n            var morigin = this.mapPoint(bounds, this.origin);\n            var mradius = this.mapPoint(bounds, this.$radius);\n\n            var rad = Math.max(mradius.x, mradius.y);\n            var side = Math.max(bounds.width, bounds.height),\n                sx = bounds.width / side,\n                sy = bounds.height / side;\n            return {\n                x0: morigin.x / sx,\n                y0: morigin.y / sy,\n                x1: mcenter.x / sx,\n                y1: mcenter.y / sy,\n                r1: rad,\n                side: side,\n                sx: bounds.width / side,\n                sy: bounds.height / side,\n                balanced: Math.abs(mradius.x - mradius.y) < epsilon\n            };\n        }\n\n        private fit(ctx: CanvasRenderingContext2D, fill: string|CanvasGradient|CanvasPattern, data: radialGradient.IRadialPointData, bounds: la.IRect): CanvasPattern {\n            //NOTE:\n            //  This will return the CanvasGradient if bounds are square\n            //  Otherwise, it will create a CanvasPattern by scaling square coordinate space into bounds\n            if (data.balanced)\n                return fill;\n\n            tmpCanvas.width = bounds.width;\n            tmpCanvas.height = bounds.height;\n\n            tmpCtx.save();\n            tmpCtx.scale(data.sx, data.sy);\n            tmpCtx.fillStyle = fill;\n            tmpCtx.fillRect(0, 0, data.side, data.side);\n            var pattern = ctx.createPattern(tmpCanvas, \"no-repeat\");\n            tmpCtx.restore();\n            return pattern;\n        }\n    }\n\n    function addColorStop(grd: CanvasGradient, stop: IGradientStop) {\n        // Placing color stop in between [0.0, 1.0]\n        // Otherwise, gradient will not render\n        var offset = Math.min(1.0, Math.max(0.0, stop.offset));\n        var color = stop.color.toString();\n        grd.addColorStop(offset, color);\n    }\n}","/// <reference path=\"Visual\" />\n/// <reference path=\"stencil/visual\" />\n\nnamespace puck {\n    import DirtyFlags = puck.element.DirtyFlags;\n    import IVisualState = puck.visual.IVisualState;\n    import IVisualComposite = puck.visual.IVisualComposite;\n\n    export class Rectangle extends Visual {\n        init(state?: IVisualState, composite?: IVisualComposite) {\n            super.init(state, composite);\n            this.stencil = rectangleStencil;\n        }\n\n        get x(): number {\n            return this.state.offset.x;\n        }\n\n        set x(value: number) {\n            if (this.state.offset.x !== value) {\n                this.state.offset.x = value;\n                this.composite.taint(DirtyFlags.transform);\n            }\n        }\n\n        get y(): number {\n            return this.state.offset.y;\n        }\n\n        set y(value: number) {\n            if (this.state.offset.y !== value) {\n                this.state.offset.y = value;\n                this.composite.taint(DirtyFlags.transform);\n            }\n        }\n\n        get width(): number {\n            return this.state.size.width;\n        }\n\n        set width(value: number) {\n            if (this.state.size.width !== value) {\n                this.state.size.width = value;\n                this.composite.taint(DirtyFlags.transform | DirtyFlags.extents);\n            }\n        }\n\n        get height(): number {\n            return this.state.size.height;\n        }\n\n        set height(value: number) {\n            if (this.state.size.height !== value) {\n                this.state.size.height = value;\n                this.composite.taint(DirtyFlags.transform | DirtyFlags.extents);\n            }\n        }\n    }\n\n    var rectangleStencil = <stencil.IStencil>{\n        draft: stencil.visual.draft,\n        draw(ctx: render.RenderContext, bag: stencil.IStencilBag) {\n            var fr = bag.fillRect;\n            if (fr.width <= 0 || fr.height <= 0) {\n                // degenerate\n                return;\n            }\n            var raw = ctx.raw;\n            raw.beginPath();\n            raw.rect(fr.x, fr.y, fr.width, fr.height);\n            raw.closePath();\n        }\n    };\n}","namespace puck {\n    export class SolidColorBrush implements IBrush {\n        private $color: Color = null;\n        private $changer = new puck.internal.WatchChanger();\n\n        constructor(color?: Color|string) {\n            this.color = new Color(color);\n        }\n\n        get color(): Color { return this.$color; }\n        set color(value: Color) {\n            if (!Color.equals(this.$color, value)) {\n                this.$changer.on();\n            }\n            this.$color = value; // always set in case ref changes\n        }\n\n        watch(onChanged: () => void): puck.internal.IWatcher {\n            return this.$changer.watch(onChanged);\n        }\n\n        setup(ctx: CanvasRenderingContext2D, region: la.IRect) {\n        }\n\n        toHtml5Object(): any {\n            return this.color.toString();\n        }\n    }\n}","namespace puck {\n    /*\n     * aspect ratio (ar) = width/height\n     *\n     * none:          ignores element's width/height\n     * fill:          stretches image to fill width and height\n     * uniform:       stretches image to fill width or height (smallest factor)\n     *    natural ar > element ar => blank horizontal space\n     *    natural ar < element ar => blank vertical space\n     * uniformToFill: stretches image to fill width or height (largest factor)\n     *    natural ar > element ar => vertical overpaint\n     *    natural ar < element ar => horizontal overpaint\n     */\n\n    export enum Stretch {\n        none = 0,\n        fill = 1,\n        uniform = 2,\n        uniformToFill = 3,\n    }\n}","/// <reference path=\"Visual\" />\n\nnamespace puck {\n    import ITextState = puck.text.ITextState;\n    import IElementComposite = puck.element.IElementComposite;\n    import DirtyFlags = puck.element.DirtyFlags;\n    import ITextProcessor = puck.text.ITextProcessor;\n\n    export class Text extends Element implements text.IText {\n        private $fillwatch: puck.internal.IWatcher = null;\n        private $strokewatch: puck.internal.IWatcher = null;\n\n        state: puck.text.ITextState;\n        processor: ITextProcessor;\n\n        constructor(state?: ITextState, composite?: IElementComposite) {\n            super(state, composite);\n        }\n\n        init(state?: ITextState, composite?: IElementComposite) {\n            this.state = (state || new text.TextState()).reset();\n            this.composite = (composite || new element.ElementComposite()).reset();\n            this.processor = {\n                down: element.down.Processor.instance,\n                up: text.up.Processor.instance,\n                render: text.render.Processor.instance,\n                hit: text.hit.Processor.instance,\n            };\n            this.stencil = stencil.empty;\n        }\n\n        get fill(): IBrush { return this.state.fill; }\n        set fill(value: IBrush) {\n            if (this.$fillwatch) {\n                this.$fillwatch.unwatch();\n                this.$fillwatch = null;\n            }\n            if ((!value) === (!this.state.fill)) {\n                // toggling fill on/off can disturb extents\n                this.composite.taint(DirtyFlags.extents).invalidate();\n            }\n            if (value !== this.state.fill) {\n                this.state.fill = value;\n                this.composite.invalidate();\n            }\n            if (value) {\n                this.$fillwatch = value.watch(() => this.composite.invalidate());\n            }\n        }\n\n        get stroke(): IBrush { return this.state.stroke; }\n        set stroke(value: IBrush) {\n            if (this.$strokewatch) {\n                this.$strokewatch.unwatch();\n                this.$strokewatch = null;\n            }\n            if ((!value) === (!this.state.stroke)) {\n                // toggling stroke on/off can disturb padding\n                this.composite.taint(DirtyFlags.padding).invalidate();\n            }\n            if (value !== this.state.stroke) {\n                this.state.stroke = value;\n                this.composite.invalidate();\n            }\n            if (value) {\n                this.$strokewatch = value.watch(() => this.composite.invalidate());\n            }\n        }\n\n        get strokeThickness(): number { return this.state.strokeThickness; }\n        set strokeThickness(value: number) {\n            if (value !== this.state.strokeThickness) {\n                this.state.strokeThickness = value;\n                this.composite.taint(DirtyFlags.padding);\n            }\n        }\n\n        get x(): number {\n            return this.state.offset.x;\n        }\n\n        set x(value: number) {\n            if (this.state.offset.x !== value) {\n                this.state.offset.x = value;\n                this.composite.taint(DirtyFlags.transform);\n            }\n        }\n\n        get y(): number {\n            return this.state.offset.y;\n        }\n\n        set y(value: number) {\n            if (this.state.offset.y !== value) {\n                this.state.offset.y = value;\n                this.composite.taint(DirtyFlags.transform);\n            }\n        }\n\n        get text(): string {\n            return this.state.text;\n        }\n\n        set text(value: string) {\n            this.state.text = value;\n            this.composite.taint(DirtyFlags.font);\n        }\n\n        get fontFamily(): string {\n            return this.state.font.family;\n        }\n\n        set fontFamily(value: string) {\n            if (this.state.font.family !== value) {\n                this.state.font.family = value;\n                this.composite.taint(DirtyFlags.font);\n            }\n        }\n\n        get fontSize(): number {\n            return this.state.font.size;\n        }\n\n        set fontSize(value: number) {\n            if (this.state.font.size !== value) {\n                this.state.font.size = value;\n                this.composite.taint(DirtyFlags.font);\n            }\n        }\n\n        get fontStretch(): string {\n            return this.state.font.stretch;\n        }\n\n        set fontStretch(value: string) {\n            if (this.state.font.stretch !== value) {\n                this.state.font.stretch = value;\n                this.composite.taint(DirtyFlags.font);\n            }\n        }\n\n        get fontStyle(): string {\n            return this.state.font.style;\n        }\n\n        set fontStyle(value: string) {\n            if (this.state.font.style !== value) {\n                this.state.font.style = value;\n                this.composite.taint(DirtyFlags.font);\n            }\n        }\n\n        get fontWeight(): FontWeight {\n            return this.state.font.weight;\n        }\n\n        set fontWeight(value: FontWeight) {\n            if (this.state.font.weight !== value) {\n                this.state.font.weight = value;\n                this.composite.taint(DirtyFlags.font);\n            }\n        }\n    }\n}","namespace puck {\n    export class Timer {\n        private enabled = false;\n        private active: number = 0;\n\n        constructor(public callback: FrameRequestCallback) {\n        }\n\n        enable() {\n            this.enabled = true;\n            this.active = animate.request((now) => this.onFrame(now));\n        }\n\n        disable() {\n            this.enabled = false;\n            if (this.active) {\n                animate.cancel(this.active);\n                this.active = 0;\n            }\n        }\n\n        protected onFrame(now: number) {\n            this.callback && this.callback(now);\n            this.active = animate.request((now) => this.onFrame(now));\n        }\n    }\n\n    namespace animate {\n        var req = window.requestAnimationFrame\n            || (<any>window).webkitRequestAnimationFrame\n            || (<any>window).mozRequestAnimationFrame\n            || (<any>window).oRequestAnimationFrame\n            || (<any>window).msRequestAnimationFrame\n            || ((callback) => window.setTimeout(callback, 1000 / 200));\n        var can = window.cancelAnimationFrame\n            || (<any>window).webkitCancelAnimationFrame\n            || (<any>window).mozCancelAnimationFrame\n            || (<any>window).oCancelAnimationFrame\n            || (<any>window).msCancelAnimationFrame\n            || ((handle: number) => window.clearTimeout(handle));\n\n        export function request(callback: FrameRequestCallback) {\n            return req(callback);\n        }\n\n        export function cancel(handle: number) {\n            return can(handle);\n        }\n    }\n}","namespace puck.element {\n    export interface IElementComposite {\n        hasDirt(match: DirtyFlags): boolean;\n        taint(newDirt: DirtyFlags): this;\n        untaint(oldDirt: DirtyFlags): this;\n        reset(): this;\n        invalidate(): this;\n        opacity: number;\n        visible: boolean;\n        transform: Float32Array;\n        padding: la.IPadding;\n        extents: la.IRect;\n        paint: la.IRect;\n    }\n    export class ElementComposite implements IElementComposite {\n        private $$dirt = DirtyFlags.none;\n\n        opacity: number;\n        visible: boolean;\n        // NOTE: transform, extents, bounds are relative to owner top-left\n        transform = la.mat3.identity();\n        padding = la.padding.init(0, 0, 0, 0);\n        extents = la.rect.init(0, 0, 0, 0);\n        // NOTE: paint is used to carry invalidated region up the tree\n        paint = la.rect.init(0, 0, 0, 0);\n\n        hasDirt(match: DirtyFlags): boolean {\n            return (this.$$dirt & match) > 0;\n        }\n\n        taint(newDirt: DirtyFlags): this {\n            this.$$dirt |= newDirt;\n            return this;\n        }\n\n        untaint(oldDirt: DirtyFlags): this {\n            this.$$dirt &= ~oldDirt;\n            return this;\n        }\n\n        reset(): this {\n            this.opacity = 1.0;\n            this.visible = true;\n            la.mat3.identity(this.transform);\n            la.padding.init(0, 0, 0, 0, this.padding);\n            la.rect.init(0, 0, 0, 0, this.extents);\n            la.rect.init(0, 0, 0, 0, this.paint);\n            this.$$dirt = DirtyFlags.none;\n            return this;\n        }\n\n        invalidate(): this {\n            this.taint(DirtyFlags.invalidate);\n            la.rect.union(this.paint, this.extents);\n            return this;\n        }\n    }\n}","/// <reference path=\"../element/ElementComposite\" />\n\nnamespace puck.container {\n    export interface IContainerComposite extends element.IElementComposite {\n    }\n    export class ContainerComposite extends element.ElementComposite implements IContainerComposite {\n    }\n}","namespace puck.element {\n    export interface IElementState {\n        //range: [0.0, 1.0]\n        opacity: number;\n        visible: boolean;\n\n        //visual offset from parent\n        offset: la.IPoint;\n        size: la.ISize;\n\n        //origin of transform in relative coordinate space ([0.0,1.0], [0.0,1.0])\n        transform: Float32Array;\n        transformOrigin: la.IPoint;\n\n        reset();\n\n        mapTransformOrigin(comp: IElementComposite): la.IPoint;\n    }\n\n    export class ElementState implements IElementState {\n        opacity: number = 1.0;\n        visible: boolean = true;\n        offset = {x: 0, y: 0};\n        size = {width: 0, height: 0};\n        transform = la.mat3.identity();\n        transformOrigin = {x: 0.5, y: 0.5};\n\n        reset(): this {\n            this.opacity = 1.0;\n            this.visible = true;\n            this.offset.x = 0;\n            this.offset.y = 0;\n            this.size.width = 0;\n            this.size.height = 0;\n            la.mat3.identity(this.transform);\n            this.transformOrigin.x = 0.5;\n            this.transformOrigin.y = 0.5;\n            return this;\n        }\n\n        mapTransformOrigin(comp: IElementComposite): la.IPoint {\n            var to = this.transformOrigin,\n                size = this.size;\n            return {\n                x: to.x * size.width,\n                y: to.y * size.height\n            };\n        }\n    }\n}","/// <reference path=\"../element/ElementState\" />\n\nnamespace puck.container {\n    export interface IContainerState extends element.IElementState {\n        // NOTE: size is ignored\n    }\n    export class ContainerState extends element.ElementState implements IContainerState {\n    }\n}","namespace puck.engine {\n    export function hit(el: element.IElement, ctx: puck.render.RenderContext, pos: Float32Array, hitlist: element.IElement[]) {\n        var processor = el.processor.hit;\n        processor.process(el, ctx, pos, hitlist);\n    }\n}","/// <reference path=\"../element/DirtyFlags\" />\n\nnamespace puck.engine {\n    import DirtyFlags = puck.element.DirtyFlags;\n\n    // Process walks entire tree\n    // -> Down phase is processed pre-order\n    // -> Up phase is processed post-order\n    export function process(el: element.IElement, parent?: element.IElement) {\n        doDown(el, parent);\n        var ccomposites: element.IElementComposite[] = [];\n        for (var walker = walk.getWalker(el), cur = walker.next(); !!cur; cur = walker.next()) {\n            process(cur, el);\n            ccomposites.push(cur.composite);\n        }\n        doUp(el, parent, ccomposites);\n    }\n\n    const EMPTY_DOWN_COMPOSITE = <container.IContainerComposite>{\n        opacity: 1.0,\n        visible: true,\n        transform: la.mat3.identity(),\n        extents: la.rect.init(0, 0, 0, 0),\n        hasDirt(match: DirtyFlags) {\n            return false\n        },\n        taint(newDirt: DirtyFlags) {\n        },\n        untaint(oldDirt: DirtyFlags) {\n        },\n        reset() {\n        }\n    };\n\n    function doDown(el: element.IElement, parent: element.IElement) {\n        var processor = el.processor.down;\n        var bag = <element.down.IProcessorBag>{\n            walker: walk.getWalker(el),\n            state: el.state,\n            composite: el.composite,\n            pcomposite: parent ? parent.composite : EMPTY_DOWN_COMPOSITE\n        };\n        if (processor.isTainted(bag)) {\n            processor.process(bag);\n            processor.clear(bag);\n        }\n    }\n\n    function doUp(el: element.IElement, parent: element.IElement, ccomposites: element.IElementComposite[]) {\n        var processor = el.processor.up;\n        var bag = <element.up.IProcessorBag>{\n            state: el.state,\n            composite: el.composite,\n            ccomposites: ccomposites\n        };\n        if (processor.isTainted(bag)) {\n            var dirt = processor.process(bag);\n            if (parent)\n                parent.composite.taint(dirt);\n            processor.clear(bag);\n        }\n    }\n}","namespace puck.render {\r\n    import mat3 = la.mat3;\r\n\r\n    var caps: string[] = [\r\n        \"butt\", //flat\r\n        \"square\", //square\r\n        \"round\", //round\r\n        \"butt\" //triangle\r\n    ];\r\n    var joins: string[] = [\r\n        \"miter\",\r\n        \"bevel\",\r\n        \"round\"\r\n    ];\r\n    export class RenderContext {\r\n        private $$transforms = [];\r\n        currentTransform = mat3.identity();\r\n        hasFillRule: boolean;\r\n        raw: CanvasRenderingContext2D;\r\n        size: RenderContextSize;\r\n\r\n        constructor() {\r\n            Object.defineProperties(this, {\r\n                \"currentTransform\": {value: mat3.identity(), writable: false},\r\n                \"hasFillRule\": {value: RenderContext.hasFillRule, writable: false},\r\n                \"size\": {value: new RenderContextSize(), writable: false},\r\n            });\r\n        }\r\n\r\n        static get hasFillRule(): boolean {\r\n            if (navigator.appName === \"Microsoft Internet Explorer\") {\r\n                var version = getIEVersion();\r\n                return version < 0 || version > 10;\r\n            }\r\n            return true;\r\n        }\r\n\r\n        init(ctx: CanvasRenderingContext2D): this {\r\n            Object.defineProperties(this, {\r\n                \"raw\": {value: ctx, writable: false}\r\n            });\r\n            this.size.init(ctx);\r\n            return this;\r\n        }\r\n\r\n        applyDpiRatio() {\r\n            var ratio = this.size.dpiRatio;\r\n            this.scale(ratio, ratio);\r\n        }\r\n\r\n        save() {\r\n            this.$$transforms.push(mat3.create(this.currentTransform));\r\n            this.raw.save();\r\n        }\r\n\r\n        restore() {\r\n            var old = this.$$transforms.pop();\r\n            if (old)\r\n                mat3.copyTo(old, this.currentTransform);\r\n            this.raw.restore();\r\n        }\r\n\r\n        setTransform(m11: number, m12: number, m21: number, m22: number, dx: number, dy: number) {\r\n            mat3.init(this.currentTransform, m11, m12, m21, m22, dx, dy);\r\n            this.raw.setTransform(m11, m12, m21, m22, dx, dy);\r\n        }\r\n\r\n        resetTransform() {\r\n            mat3.identity(this.currentTransform);\r\n            var raw = <any>this.raw;\r\n            if (raw.resetTransform)\r\n                raw.resetTransform();\r\n        }\r\n\r\n        transform(m11: number, m12: number, m21: number, m22: number, dx: number, dy: number) {\r\n            var ct = this.currentTransform;\r\n            mat3.multiply(ct, mat3.create([m11, m12, m21, m22, dx, dy]), ct);\r\n            this.raw.transform(m11, m12, m21, m22, dx, dy);\r\n        }\r\n\r\n        scale(x: number, y: number) {\r\n            mat3.scale(this.currentTransform, x, y);\r\n            this.raw.scale(x, y);\r\n        }\r\n\r\n        rotate(angle: number) {\r\n            var ct = this.currentTransform;\r\n            var r = mat3.createRotate(angle);\r\n            mat3.multiply(ct, r, ct); //ct = ct * r\r\n            this.raw.rotate(angle);\r\n        }\r\n\r\n        translate(x: number, y: number) {\r\n            mat3.translate(this.currentTransform, x, y);\r\n            this.raw.translate(x, y);\r\n        }\r\n\r\n        apply(mat: Float32Array) {\r\n            var ct = mat3.apply(this.currentTransform, mat);\r\n            this.raw.setTransform(ct[0], ct[1], ct[2], ct[3], ct[4], ct[5]);\r\n        }\r\n\r\n        preapply(mat: Float32Array) {\r\n            var ct = mat3.preapply(this.currentTransform, mat);\r\n            this.raw.setTransform(ct[0], ct[1], ct[2], ct[3], ct[4], ct[5]);\r\n        }\r\n\r\n        clipRect(rect: la.IRect) {\r\n            var raw = this.raw;\r\n            raw.beginPath();\r\n            raw.rect(rect.x, rect.y, rect.width, rect.height);\r\n            raw.clip();\r\n        }\r\n\r\n        fillEx(region: la.IRect, brush: IBrush, fillRule?: FillRule) {\r\n            var raw = this.raw;\r\n            brush.setup(raw, region);\r\n            raw.fillStyle = brush.toHtml5Object();\r\n            if (fillRule == null) {\r\n                (<any>raw).fillRule = raw.msFillRule = \"nonzero\";\r\n                raw.fill();\r\n            } else {\r\n                var fr = fillRule === FillRule.evenodd ? \"evenodd\" : \"nonzero\";\r\n                (<any>raw).fillRule = raw.msFillRule = fr;\r\n                raw.fill(fr);\r\n            }\r\n        }\r\n\r\n        strokeEx(region: la.IRect, brush: IBrush, thickness: number) {\r\n            var raw = this.raw;\r\n            brush.setup(raw, region);\r\n            raw.strokeStyle = brush.toHtml5Object();\r\n            raw.lineWidth = thickness;\r\n            raw.stroke();\r\n        }\r\n\r\n        isPointInStrokeEx(x: number, y: number, thickness: number): boolean {\r\n            var raw = this.raw;\r\n            raw.lineWidth = thickness;\r\n            return raw.isPointInStroke(x, y);\r\n        }\r\n\r\n        setStrokeExtras(lineCap: PenLineCap, lineJoin: PenLineJoin, miterLimit: number) {\r\n            var raw = this.raw;\r\n            raw.lineCap = caps[lineCap || 0] || caps[0];\r\n            raw.lineJoin = joins[lineJoin || 0] || joins[0];\r\n            raw.miterLimit = miterLimit;\r\n        }\r\n    }\r\n\r\n    function getIEVersion(): number {\r\n        var re = new RegExp(\"MSIE ([0-9]{1,}[\\.0-9]{0,})\");\r\n        if (re.exec(navigator.userAgent) != null)\r\n            return parseFloat(RegExp.$1);\r\n        return -1;\r\n    }\r\n}","/// <reference path=\"../render/RenderContext\" />\n\nnamespace puck.engine {\n    import RenderContext = puck.render.RenderContext;\n\n    export function render(el: element.IElement, ctx: RenderContext, region: la.IRect) {\n        var processor = el.processor.render;\n        var bag = <puck.element.render.IProcessorBag>{\n            walker: walk.getWalker(el, true),\n            state: el.state,\n            composite: el.composite,\n            stencil: (<visual.IVisual>el).stencil,\n            ctx: ctx,\n            inregion: region,\n            curregion: la.rect.init(0, 0, 0, 0),\n        };\n        processor.process(bag);\n        processor.clear(bag);\n    }\n}","namespace puck.fit.extents {\n    import mat3 = la.mat3;\n    import rect = la.rect;\n\n    export function calc(extents: la.IRect, stretch: Stretch, natural: la.IRect, size: la.ISize) {\n        if (rect.isEmpty(natural))\n            size.width = size.height = 0;\n        var fitter = fits[stretch];\n        fitter && fitter(extents, natural, size);\n    }\n\n    interface IFitter {\n        (final: la.IRect, natural: la.IRect, size: la.ISize);\n    }\n    interface IFitterHash {\n        [stretch: number]: IFitter;\n    }\n    var fits: IFitterHash = {};\n    fits[Stretch.none] = (final: la.IRect, natural: la.IRect, size: la.ISize) => {\n        la.rect.copyTo(natural, final);\n    };\n    fits[Stretch.fill] = (final: la.IRect, natural: la.IRect, size: la.ISize) => {\n        final.width = size.width;\n        final.height = size.height;\n    };\n    fits[Stretch.uniform] = (final: la.IRect, natural: la.IRect, size: la.ISize) => {\n        var sx = size.width / natural.width,\n            sy = size.height / natural.height;\n        final.width = size.width;\n        final.height = size.height;\n        if (sx < sy) {\n            final.height = natural.height * sx;\n        } else {\n            final.width = natural.width * sy;\n        }\n    };\n    fits[Stretch.uniformToFill] = (final: la.IRect, natural: la.IRect, size: la.ISize) => {\n        var sx = size.width / natural.width,\n            sy = size.height / natural.height;\n        final.width = size.width;\n        final.height = size.height;\n        if (sx > sy) {\n            final.height = natural.height * sx;\n        } else {\n            final.width = natural.width * sy;\n        }\n    };\n}","namespace puck.fit.transform {\n    import IProcessorBag = puck.element.down.IProcessorBag;\n    import DirtyFlags = puck.element.DirtyFlags;\n    import mat3 = la.mat3;\n\n    export function calc(transform: Float32Array, stretch: Stretch, natural: la.IRect, size: la.ISize) {\n        var fitter = fits[stretch];\n        fitter && fitter(transform, natural, size);\n    }\n\n    interface IFitter {\n        (final: Float32Array, natural: la.IRect, size: la.ISize);\n    }\n    interface IFitterHash {\n        [stretch: number]: IFitter;\n    }\n    var fits: IFitterHash = {};\n    fits[Stretch.none] = (mat: Float32Array, natural: la.IRect, size: la.ISize) => {\n        mat3.identity(mat);\n    };\n    fits[Stretch.fill] = (mat: Float32Array, natural: la.IRect, size: la.ISize) => {\n        mat3.createTranslate(-natural.x, -natural.y, mat);\n        mat3.scale(mat, size.width / natural.width, size.height / natural.height);\n    };\n    fits[Stretch.uniform] = (mat: Float32Array, natural: la.IRect, size: la.ISize) => {\n        mat3.createTranslate(-natural.x, -natural.y, mat);\n        var smin = Math.min(size.width / natural.width, size.height / natural.height);\n        mat3.scale(mat, smin, smin);\n    };\n    fits[Stretch.uniformToFill] = (mat: Float32Array, natural: la.IRect, size: la.ISize) => {\n        mat3.createTranslate(-natural.x, -natural.y, mat);\n        var smax = Math.max(size.width / natural.width, size.height / natural.height);\n        mat3.scale(mat, smax, smax);\n    };\n}","namespace puck.font {\n    export function toString(font: IFont): string {\n        //Format: font-style font-variant font-weight font-size/line-height font-family\n        //Font Styles: normal, italic, oblique\n        //Font Variants: normal, small-caps\n        //Font Weights: normal, bold, bolder, lighter, 100, 200, 300, 400, 500, 600, 700, 800, 900\n        var s = \"\";\n        s += font.style.toString() + \" \";\n        s += \"normal \";\n        s += (<number>font.weight).toString() + \" \";\n        s += font.size + \"px \";\n        s += font.family.toString();\n        return s;\n    }\n}","/// <reference path=\"../element/ElementComposite\" />\n\nnamespace puck.image {\n    export interface IImageComposite extends element.IElementComposite {\n        stretchTransform: Float32Array;\n    }\n    export class ImageComposite extends element.ElementComposite implements IImageComposite {\n        stretchTransform = la.mat3.identity();\n\n        reset(): this {\n            super.reset();\n            la.mat3.identity(this.stretchTransform);\n            return this;\n        }\n    }\n}","namespace puck.image {\n    export class ImageSource implements IImageSource {\n        private $el: HTMLImageElement = document.createElement(\"img\");\n        private $watchers: IImageWatcher[] = [];\n\n        constructor() {\n            this.$el.onerror = (e: ErrorEvent) => this.onErrored(e);\n            this.$el.onload = (e) => this.onLoaded();\n        }\n\n        reset() {\n            this.uri = \"\";\n        }\n\n        get uri(): string { return this.$el.src; }\n        set uri(value: string) {\n            if (this.$el.src !== value) {\n                this.$el.src = value;\n                this.onChanged();\n            }\n        }\n\n        get naturalWidth(): number {\n            return this.$el.naturalWidth;\n        }\n\n        get naturalHeight(): number {\n            return this.$el.naturalHeight;\n        }\n\n        draw(ctx: CanvasRenderingContext2D) {\n            ctx.drawImage(this.$el, 0, 0);\n        }\n\n        watch(onChanged: () => any, onErrored: () => any, onLoaded: () => any): IImageWatcher {\n            var watcher: IImageWatcher = {\n                change: onChanged,\n                error: onErrored,\n                load: onLoaded,\n                unwatch: () => {\n                    var ind = this.$watchers.indexOf(watcher);\n                    if (ind > -1)\n                        this.$watchers.splice(ind, 1);\n                }\n            };\n            this.$watchers.push(watcher);\n            return watcher;\n        }\n\n        protected onChanged() {\n            for (var watchers = this.$watchers, i = 0; i < watchers.length; i++) {\n                watchers[i].change();\n            }\n        }\n\n        protected onErrored(e: ErrorEvent) {\n            for (var watchers = this.$watchers, i = 0; i < watchers.length; i++) {\n                watchers[i].error(e.error);\n            }\n        }\n\n        protected onLoaded() {\n            for (var watchers = this.$watchers, i = 0; i < watchers.length; i++) {\n                watchers[i].load();\n            }\n        }\n    }\n}","/// <reference path=\"../element/ElementState\" />\n\nnamespace puck.image {\n    export interface IImageState extends element.IElementState {\n        source: IImageSource;\n        stretch: Stretch;\n        natural: la.IRect;\n        getEffectiveStretch(): Stretch;\n    }\n\n    export class ImageState extends element.ElementState implements IImageState {\n        source: IImageSource = new ImageSource();\n        stretch: Stretch = Stretch.none;\n        natural: la.IRect = la.rect.init(0, 0, 0, 0);\n\n        reset(): this {\n            super.reset();\n            this.source.reset();\n            this.stretch = Stretch.none;\n            la.rect.init(0, 0, 0, 0, this.natural);\n            return this;\n        }\n\n        getEffectiveStretch(): Stretch {\n            var size = this.size,\n                natural = this.natural;\n            if (size.width <= 0 || size.height <= 0) {\n                // fall back to none if width/height are empty\n                // otherwise, we would build a singular stretch transform\n                return Stretch.none;\n            }\n            if (natural.width <= 0 || natural.height <= 0) {\n                // fall back to none if no-size image\n                // otherwise, we would get NaN, NaN scale stretch transform\n                return Stretch.none;\n            }\n            return this.stretch;\n        }\n    }\n}","namespace puck.internal {\n    export interface IWatcher {\n        change();\n        unwatch();\n    }\n\n    export class WatchChanger {\n        private $watchers: IWatcher[] = [];\n\n        watch(onChanged: () => void): IWatcher {\n            var watchers = this.$watchers;\n            var watcher = <IWatcher>{\n                change: onChanged,\n                unwatch: () => {\n                    var ind = watchers.indexOf(watcher);\n                    if (ind > -1)\n                        watchers.splice(ind, 1);\n                }\n            };\n            watchers.push(watcher);\n            return watcher;\n        }\n\n        on() {\n            for (var watchers = this.$watchers, i = 0; i < watchers.length; i++) {\n                watchers[i].change();\n            }\n        }\n    }\n}","namespace puck.linearGradient {\r\n    export interface IInterpolator {\r\n        x0: number;\r\n        y0: number;\r\n        x1: number;\r\n        y1: number;\r\n        step(): boolean;\r\n        interpolate(offset: number): number;\r\n    }\r\n\r\n    export function createRepeatInterpolator(start: la.IPoint, end: la.IPoint, bounds: la.IRect): IInterpolator {\r\n        var first = {x: start.x, y: start.y};\r\n        var last = {x: end.x, y: end.y};\r\n        var dir = {x: end.x - start.x, y: end.y - start.y};\r\n\r\n        calcMetrics(dir, first, last, bounds);\r\n        var numSteps = (last.x - first.x) / dir.x;\r\n        var stepSize = 1.0 / numSteps;\r\n        var cur = -stepSize;\r\n\r\n        return {\r\n            x0: first.x,\r\n            y0: first.y,\r\n            x1: last.x,\r\n            y1: last.y,\r\n            step (): boolean {\r\n                cur += stepSize;\r\n                return cur < 1;\r\n            },\r\n            interpolate (offset: number): number {\r\n                return cur + (offset / numSteps);\r\n            }\r\n        };\r\n    }\r\n\r\n    export function createReflectInterpolator(start: la.IPoint, end: la.IPoint, bounds: la.IRect): IInterpolator {\r\n        var first = {x: start.x, y: start.y};\r\n        var last = {x: end.x, y: end.y};\r\n        var dir = {x: end.x - start.x, y: end.y - start.y};\r\n\r\n        calcMetrics(dir, first, last, bounds);\r\n        var numSteps = (last.x - first.x) / dir.x;\r\n        var stepSize = 1.0 / numSteps;\r\n        var cur = -stepSize;\r\n        var inverted = Math.round((start.x - first.x) / dir.x) % 2 === 0;\r\n\r\n        return {\r\n            x0: first.x,\r\n            y0: first.y,\r\n            x1: last.x,\r\n            y1: last.y,\r\n            step (): boolean {\r\n                inverted = !inverted;\r\n                cur += stepSize;\r\n                return cur < 1;\r\n            },\r\n            interpolate (offset: number): number {\r\n                var norm = offset / numSteps;\r\n                return !inverted ? cur + norm : cur + (stepSize - norm);\r\n            }\r\n        };\r\n    }\r\n}","namespace puck.linearGradient {\r\n    export function calcMetrics(dir: la.IPoint, first: la.IPoint, last: la.IPoint, bounds: la.IRect) {\r\n        if (dir.y === 0) {\r\n            if (dir.x < 0)\r\n                W(dir, first, last, bounds);\r\n            else if (dir.x !== 0)\r\n                E(dir, first, last, bounds);\r\n        } else if (dir.x === 0) {\r\n            if (dir.y < 0)\r\n                N(dir, first, last, bounds);\r\n            else if (dir.y !== 0)\r\n                S(dir, first, last, bounds);\r\n        } else if (dir.x < 0 && dir.y < 0) { // e\\s\r\n            NW(dir, first, last, bounds);\r\n        } else if (dir.x < 0 && dir.y > 0) { // e/s\r\n            SW(dir, first, last, bounds);\r\n        } else if (dir.x > 0 && dir.y < 0) { // s/e\r\n            NE(dir, first, last, bounds);\r\n        } else if (dir.x > 0 && dir.y > 0) { // s\\e\r\n            SE(dir, first, last, bounds);\r\n        }\r\n    }\r\n\r\n    //+x,0y\r\n    function E(dir: la.IPoint, first: la.IPoint, last: la.IPoint, bounds: la.IRect) {\r\n        var maxX = bounds.x + bounds.width;\r\n        while (first.x >= bounds.x)\r\n            first.x -= dir.x;\r\n        while (last.x <= maxX)\r\n            last.x += dir.x;\r\n    }\r\n\r\n    //-x,0y\r\n    function W(dir: la.IPoint, first: la.IPoint, last: la.IPoint, bounds: la.IRect) {\r\n        var maxX = bounds.x + bounds.width;\r\n        while (first.x <= maxX)\r\n            first.x -= dir.x;\r\n        while (last.x >= bounds.x)\r\n            last.x += dir.x;\r\n    }\r\n\r\n    //0x,+y\r\n    function S(dir: la.IPoint, first: la.IPoint, last: la.IPoint, bounds: la.IRect) {\r\n        var maxY = bounds.y + bounds.height;\r\n        while (first.y >= bounds.y)\r\n            first.y -= dir.y;\r\n        while (last.y <= maxY)\r\n            last.y += dir.y;\r\n    }\r\n\r\n    //0x,-y\r\n    function N(dir: la.IPoint, first: la.IPoint, last: la.IPoint, bounds: la.IRect) {\r\n        var maxY = bounds.y + bounds.height;\r\n        while (first.y <= maxY)\r\n            first.y -= dir.y;\r\n        while (last.y >= bounds.y)\r\n            last.y += dir.y;\r\n    }\r\n\r\n    //-x,-y\r\n    function NW(dir: la.IPoint, first: la.IPoint, last: la.IPoint, bounds: la.IRect) {\r\n        var maxX = bounds.x + bounds.width;\r\n        var maxY = bounds.y + bounds.height;\r\n        while (first.x <= maxX && first.y <= maxY) {\r\n            first.x -= dir.x;\r\n            first.y -= dir.y;\r\n        }\r\n        while (last.x >= bounds.x && last.y >= bounds.y) {\r\n            last.x += dir.x;\r\n            last.y += dir.y;\r\n        }\r\n\r\n    }\r\n\r\n    //-x,+y\r\n    function SW(dir: la.IPoint, first: la.IPoint, last: la.IPoint, bounds: la.IRect) {\r\n        var maxX = bounds.x + bounds.width;\r\n        var maxY = bounds.y + bounds.height;\r\n        while (first.x <= maxX && first.y >= bounds.y) {\r\n            first.x -= dir.x;\r\n            first.y -= dir.y;\r\n        }\r\n        while (last.x >= bounds.x && last.y <= maxY) {\r\n            last.x += dir.x;\r\n            last.y += dir.y;\r\n        }\r\n    }\r\n\r\n    //+x,-y\r\n    function NE(dir: la.IPoint, first: la.IPoint, last: la.IPoint, bounds: la.IRect) {\r\n        var maxX = bounds.x + bounds.width;\r\n        var maxY = bounds.y + bounds.height;\r\n        while (first.x >= bounds.x && first.y <= maxY) {\r\n            first.x -= dir.x;\r\n            first.y -= dir.y;\r\n        }\r\n        while (last.x <= maxX && last.y >= bounds.y) {\r\n            last.x += dir.x;\r\n            last.y += dir.y;\r\n        }\r\n    }\r\n\r\n    //+x,+y\r\n    function SE(dir: la.IPoint, first: la.IPoint, last: la.IPoint, bounds: la.IRect) {\r\n        var maxX = bounds.x + bounds.width;\r\n        var maxY = bounds.y + bounds.height;\r\n        while (first.x >= bounds.x && first.y >= bounds.y) {\r\n            first.x -= dir.x;\r\n            first.y -= dir.y;\r\n        }\r\n        while (last.x <= maxX && last.y <= maxY) {\r\n            last.x += dir.x;\r\n            last.y += dir.y;\r\n        }\r\n    }\r\n}","namespace puck.path {\n    import FillBounds = curve.bounds.fill.FillBounds;\n    import StrokeBounds = curve.bounds.stroke.StrokeBounds;\n    import IBoundingBox = curve.bounds.IBoundingBox;\n\n    export class Bounder {\n        private $path: curve.Path = null;\n        private $filled: FillBounds = null;\n        private $stroked: StrokeBounds = null;\n        private $pars: curve.IStrokeParameters;\n\n        constructor() {\n            this.$pars = {\n                strokeThickness: 0,\n                strokeDashArray: null,\n                strokeDashCap: curve.PenLineCap.Flat,\n                strokeDashOffset: 0,\n                strokeEndLineCap: curve.PenLineCap.Flat,\n                strokeLineJoin: curve.PenLineJoin.Miter,\n                strokeMiterLimit: 10,\n                strokeStartLineCap: curve.PenLineCap.Flat,\n            };\n        }\n\n        getPath(): curve.Path {\n            return this.$path;\n        }\n\n        setPath(path: curve.Path) {\n            if (this.$path === path)\n                return;\n            this.$path = path;\n            if (!path) {\n                this.$filled = null;\n                this.$stroked = null;\n            } else {\n                this.$filled = new FillBounds(path);\n                this.$stroked = new StrokeBounds(path);\n                this.$stroked.pars = this.$pars;\n            }\n        }\n\n        reset() {\n            if (this.$filled)\n                this.$filled.reset();\n            if (this.$stroked)\n                this.$stroked.reset();\n        }\n\n        getFillRect(dest: la.IRect): this {\n            var box = this.$filled;\n            if (!box) {\n                la.rect.init(0, 0, 0, 0, dest);\n            } else {\n                dest.x = box.l;\n                dest.y = box.t;\n                dest.width = box.r - box.l;\n                dest.height = box.b - box.t;\n            }\n            return this;\n        }\n\n        getStrokeRect(dest: la.IRect): this {\n            var box = this.$stroked;\n            if (!box) {\n                la.rect.init(0, 0, 0, 0, dest);\n            } else {\n                dest.x = box.l;\n                dest.y = box.t;\n                dest.width = box.r - box.l;\n                dest.height = box.b - box.t;\n            }\n            return this;\n        }\n\n        calc(state: IPathState): this {\n            var stroked = this.$stroked,\n                filled = this.$filled;\n\n            if (stroked) {\n                if (!!state.stroke && state.strokeThickness > 0) {\n                    this.setStroke(state);\n                    stroked.ensure();\n                } else {\n                    stroked.reset();\n                }\n            }\n\n            if (filled) {\n                filled.ensure();\n            }\n\n            return this;\n        }\n\n        protected setStroke(state: IPathState) {\n            var pars = this.$pars;\n            pars.strokeThickness = state.strokeThickness;\n            pars.strokeStartLineCap = <curve.PenLineCap><number>state.strokeLineCap;\n            pars.strokeLineJoin = <curve.PenLineJoin><number>state.strokeLineJoin;\n            pars.strokeMiterLimit = state.strokeMiterLimit;\n        }\n    }\n}","namespace puck.path {\n    import DirtyFlags = puck.element.DirtyFlags;\n\n    export interface IPathComposite extends element.IElementComposite {\n        stretchTransform: Float32Array;\n        natural: la.IRect;\n        bounder: Bounder;\n    }\n\n    export class PathComposite extends element.ElementComposite implements IPathComposite {\n        stretchTransform = la.mat3.identity();\n        natural: la.IRect = la.rect.init(0, 0, 0, 0);\n        bounder = new Bounder();\n\n        reset(): this {\n            super.reset();\n            la.mat3.identity(this.stretchTransform);\n            la.rect.init(0, 0, 0, 0, this.natural);\n            this.bounder.reset();\n            return this;\n        }\n    }\n}","/// <reference path=\"../element/ElementState\" />\n\nnamespace puck.visual {\n    import ElementState = puck.element.ElementState;\n\n    export interface IVisualState extends element.IElementState {\n        fill: IBrush;\n        stroke: IBrush;\n        strokeThickness: number;\n    }\n\n    export class VisualState extends ElementState implements IVisualState {\n        fill: IBrush;\n        stroke: IBrush;\n        strokeThickness: number;\n        \n        reset(): this {\n            super.reset();\n            this.fill = null;\n            this.stroke = null;\n            this.strokeThickness = 0;\n            return this;\n        }\n    }\n}","/// <reference path=\"../visual/VisualState\" />\n\nnamespace puck.path {\n    export interface IPathState extends visual.IVisualState {\n        path: curve.Path;\n        stretch: Stretch;\n        fillRule: FillRule;\n        strokeLineCap: PenLineCap;\n        strokeLineJoin: PenLineJoin;\n        strokeMiterLimit: number;\n        getEffectiveStretch(comp: IPathComposite): Stretch;\n    }\n    export class PathState extends visual.VisualState implements IPathState {\n        path: curve.Path = null;\n        stretch: Stretch = Stretch.none;\n        fillRule: FillRule = FillRule.evenodd;\n        strokeLineCap: PenLineCap = PenLineCap.flat;\n        strokeLineJoin: PenLineJoin = PenLineJoin.miter;\n        strokeMiterLimit: number = 10;\n\n        reset(): this {\n            super.reset();\n            this.path = null;\n            this.stretch = Stretch.none;\n            this.fillRule = FillRule.evenodd;\n            this.strokeLineCap = PenLineCap.flat;\n            this.strokeLineJoin = PenLineJoin.miter;\n            this.strokeMiterLimit = 10;\n            return this;\n        }\n\n        getEffectiveStretch(comp: IPathComposite): Stretch {\n            var size = this.size,\n                natural = comp.natural;\n            if (size.width <= 0 || size.height <= 0) {\n                // fall back to none if width/height are empty\n                // otherwise, we would build a singular stretch transform\n                return Stretch.none;\n            }\n            if (natural.width <= 0 || natural.height <= 0) {\n                // fall back to none if no-size path\n                // otherwise, we would get NaN, NaN scale stretch transform\n                return Stretch.none;\n            }\n            return this.stretch;\n        }\n\n        mapTransformOrigin(comp: IPathComposite): la.IPoint {\n            var to = this.transformOrigin;\n\n            // must precompute extents even though it will be performed later\n            var final = la.rect.init(0, 0, 0, 0);\n            puck.fit.extents.calc(final, this.getEffectiveStretch(comp), comp.natural, this.size);\n            return {\n                x: final.x + (to.x * final.width),\n                y: final.y + (to.y * final.height),\n            }\n        }\n    }\n}","/// <reference path=\"../visual/VisualState\" />\n\nnamespace puck.polyline {\n    export interface IPolylineState extends path.IPathState {\n        points: Points;\n        closed: boolean;\n    }\n    export class PolylineState extends path.PathState implements IPolylineState {\n        points: Points = new Points();\n        closed: boolean = false;\n\n        reset(): this {\n            super.reset();\n            this.points.clear();\n            this.closed = false;\n            return this;\n        }\n    }\n}","namespace puck.radialGradient {\n    export interface IExtender {\n        x0: number;\n        y0: number;\n        r0: number;\n        x1: number;\n        y1: number;\n        r1: number;\n        step(): boolean;\n        createGradient(ctx: CanvasRenderingContext2D): CanvasGradient;\n    }\n    export interface IRadialPointData {\n        x0: number;\n        y0: number;\n        x1: number;\n        y1: number;\n        r1: number;\n        sx: number;\n        sy: number;\n        side: number;\n        balanced: boolean;\n    }\n    export function createExtender(data: IRadialPointData, bounds: la.IRect): IExtender {\n        var started = false;\n        var dx = data.x1 - data.x0;\n        var dy = data.y1 - data.y0;\n        var rstep = data.r1;\n        var reached = false;\n\n        var ext = {\n            x0: data.x0,\n            y0: data.y0,\n            r0: 0,\n            x1: data.x1,\n            y1: data.y1,\n            r1: data.r1,\n            step (): boolean {\n                if (!started) {\n                    started = true;\n                    return true;\n                }\n\n                ext.x0 = ext.x1;\n                ext.y0 = ext.y1;\n                ext.r0 += rstep;\n                ext.r1 += rstep;\n                ext.x1 += dx;\n                ext.y1 += dy;\n\n                if (reached)\n                    return false;\n                reached = exceedBounds(ext.x1, ext.y1, ext.r1, bounds);\n                return true;\n            },\n            createGradient (ctx: CanvasRenderingContext2D): CanvasGradient {\n                return ctx.createRadialGradient(ext.x0, ext.y0, ext.r0, ext.x1, ext.y1, ext.r1);\n            }\n        };\n        return ext;\n    }\n\n    function exceedBounds(cx: number, cy: number, radius: number, bounds: la.IRect) {\n        var ne = len(cx, cy, bounds.x, bounds.y);\n        var nw = len(cx, cy, bounds.x + bounds.width, bounds.y);\n        var sw = len(cx, cy, bounds.x + bounds.width, bounds.y + bounds.height);\n        var se = len(cx, cy, bounds.x, bounds.y + bounds.height);\n        return Math.max(ne, nw, sw, se) < radius;\n    }\n\n    function len(x1: number, y1: number, x2: number, y2: number): number {\n        var dx = x2 - x1;\n        var dy = y2 - y1;\n        return Math.sqrt((dx * dx) + (dy * dy));\n    }\n}","namespace puck.render {\n    export function getNaturalCanvasSize(canvas: HTMLCanvasElement): la.ISize {\n        var zoomFactor = zoom.calc();\n        return {\n            width: canvas.offsetWidth * zoomFactor,\n            height: canvas.offsetHeight * zoomFactor\n        };\n    }\n}","namespace puck.render {\n    //NOTE: If we resize the HTML5 canvas during resize, the canvas will go blank until render happens\n    var epsilon = 1e-10;\n    export class RenderContextSize {\n        private $$ctx: CanvasRenderingContext2D = null;\n        //NOTE: This is the desired on-screen size (backing size for high-dpi devices will be larger)\n        private $$desiredWidth: number = 0;\n        private $$desiredHeight: number = 0;\n        private $$changed: la.ISize = null;\n        private $$lastDpiRatio = 1;\n\n        get desiredWidth(): number {\n            return this.$$desiredWidth;\n        }\n\n        get desiredHeight(): number {\n            return this.$$desiredHeight;\n        }\n\n        get paintWidth(): number {\n            return this.$$desiredWidth * this.dpiRatio;\n        }\n\n        get paintHeight(): number {\n            return this.$$desiredHeight * this.dpiRatio;\n        }\n\n        get dpiRatio(): number {\n            return (window.devicePixelRatio || 1) / this.$$ctx.backingStorePixelRatio;\n        }\n\n        init(ctx: CanvasRenderingContext2D) {\n            this.$$ctx = ctx;\n            var desired = getNaturalCanvasSize(ctx.canvas);\n            this.$$desiredWidth = desired.width;\n            this.$$desiredHeight = desired.height;\n            this.$adjustCanvas();\n        }\n\n        queueResize(width: number, height: number): RenderContextSize {\n            if (this.$$changed) {\n                this.$$changed.width = width;\n                this.$$changed.height = height;\n            } else {\n                this.$$changed = {\n                    width: width,\n                    height: height\n                };\n            }\n            return this;\n        }\n\n        commitResize(): RenderContextSize {\n            if (this.$$changed) {\n                //Don't resize anything if movement is not noticeable\n                if (Math.abs(this.$$changed.width - this.$$desiredWidth) < epsilon && Math.abs(this.$$changed.height - this.$$desiredHeight) < epsilon)\n                    return;\n                this.$$desiredWidth = this.$$changed.width;\n                this.$$desiredHeight = this.$$changed.height;\n                this.$$changed = null;\n                this.$adjustCanvas();\n            }\n            return this;\n        }\n\n        updateDpiRatio(): boolean {\n            if (this.$$lastDpiRatio === this.dpiRatio)\n                return false;\n            this.$adjustCanvas();\n            return true;\n        }\n\n        private $adjustCanvas() {\n            var canvas = this.$$ctx.canvas;\n            var dpiRatio = this.dpiRatio;\n            if (Math.abs(dpiRatio - 1) < epsilon) {\n                canvas.width = this.desiredWidth;\n                canvas.height = this.desiredHeight;\n            } else {\n                // Size the canvas width and height (the virtual canvas size) to the scaled up pixel count.\n                canvas.width = this.paintWidth;\n                canvas.height = this.paintHeight;\n                // Size the physical canvas using CSS width and height to the pixel dimensions.\n                canvas.style.width = this.desiredWidth.toString() + \"px\";\n                canvas.style.height = this.desiredHeight.toString() + \"px\";\n            }\n            this.$$lastDpiRatio = dpiRatio;\n        }\n    }\n}","namespace puck.render.zoom {\n    export var calc: () => number = (() => {\n        if ((<any>document).frames) //IE 7-9\n            return ie();\n        return chrome();\n    })();\n\n    function ie() {\n        return () => {\n            var screen = (<any>document).frames.screen;\n            var zoom = screen.deviceXDPI / screen.systemXDPI;\n            return Math.round(zoom * 100) / 100;\n        };\n    }\n\n    function chrome() {\n        var svg: SVGSVGElement;\n\n        function memoizeSvg() {\n            if (!!svg || !document.body)\n                return;\n            svg = <SVGSVGElement>document.createElementNS('http://www.w3.org/2000/svg', 'svg');\n            svg.setAttribute('xmlns', 'http://www.w3.org/2000/svg');\n            svg.setAttribute('version', '1.1');\n            document.body.appendChild(svg);\n            ((style: CSSStyleDeclaration) => {\n                style.opacity = \"0.0\";\n                style.position = \"absolute\";\n                style.left = \"-300px\";\n                //style.top = \"-150px\";\n            })(<any>svg.style);\n        }\n\n        return () => {\n            memoizeSvg();\n            return !svg ? 1 : svg.currentScale;\n        };\n    }\n}\n","namespace puck.stencil {\n    import IRect = la.IRect;\n    import RenderContext = puck.render.RenderContext;\n    import IElementState = puck.element.IElementState;\n    import IElementComposite = puck.element.IElementComposite;\n\n    export interface IStencilBag {\n        state: IElementState;\n        composite: IElementComposite;\n        fillRect: IRect;\n        strokeRect: IRect;\n    }\n\n    export interface IStencil {\n        draft(bag: IStencilBag);\n        draw(ctx: RenderContext, bag: IStencilBag);\n    }\n\n    export var empty: IStencil = {\n        draft(bag: IStencilBag) {\n        },\n        draw(ctx: RenderContext, bag: IStencilBag) {\n        },\n    };\n}","namespace puck.stencil {\n    import IPathState = puck.path.IPathState;\n    import IPathComposite = puck.path.IPathComposite;\n\n    export var path: IStencil = {\n        draft(bag: stencil.IStencilBag) {\n            // Bounds are updated in \"down:natural\"\n            var comp = <IPathComposite>bag.composite;\n            comp.bounder\n                .getFillRect(bag.fillRect)\n                .getStrokeRect(bag.strokeRect);\n        },\n        draw(ctx: render.RenderContext, bag: stencil.IStencilBag) {\n            var fr = bag.fillRect;\n            if (fr.width <= 0 || fr.height <= 0) {\n                // degenerate\n                return;\n            }\n\n            var raw = ctx.raw,\n                state = <IPathState>bag.state;\n            raw.beginPath();\n            state.path.draw(raw);\n            // NOTE: curve.Path dictates whether to \"closePath\"\n        },\n    };\n}","/// <reference path=\"../element/ElementState\" />\n\nnamespace puck.text {\n    import ElementState = puck.element.ElementState;\n\n    export interface ITextState extends element.IElementState {\n        fill: IBrush;\n        stroke: IBrush;\n        strokeThickness: number;\n        font: IFont;\n        text: string;\n    }\n\n    export class TextState extends ElementState implements ITextState {\n        fill: IBrush;\n        stroke: IBrush;\n        strokeThickness: number;\n        font: puck.IFont;\n        text: string;\n\n        reset(): this {\n            super.reset();\n\n            this.fill = null;\n            this.stroke = null;\n            this.strokeThickness = 0;\n\n            var f: puck.IFont;\n            f = {\n                family: defaultFont.family,\n                size: defaultFont.size,\n                stretch: defaultFont.stretch,\n                style: defaultFont.style,\n                weight: defaultFont.weight,\n                toString() {\n                    return font.toString(f);\n                },\n            };\n            this.font = f;\n            this.text = \"\";\n\n            return this;\n        }\n    }\n}","/// <reference path=\"../element/ElementComposite\" />\n\nnamespace puck.visual {\n    import ElementComposite = puck.element.ElementComposite;\n\n    export interface IVisualComposite extends element.IElementComposite {\n    }\n\n    export class VisualComposite extends ElementComposite implements IVisualComposite {\n    }\n}","namespace puck.walk {\n    export interface IWalker<T> {\n        next(): T;\n    }\n\n    var EMPTY_WALKER: walk.IWalker<element.IElement> = {\n        next() {\n            return undefined;\n        }\n    };\n\n    export function getWalker(el: element.IElement, reverse?: boolean): IWalker<element.IElement> {\n        if (typeof (<container.IContainer>el).walk === \"function\")\n            return (<container.IContainer>el).walk(reverse);\n        return EMPTY_WALKER;\n    }\n}","namespace puck.element.down {\n    export interface IProcessorBag {\n        state: IElementState;\n        composite: IElementComposite;\n        pcomposite: IElementComposite; //parent composite\n    }\n\n    export class Processor {\n        static instance = new Processor();\n\n        isTainted(bag: IProcessorBag): boolean {\n            return bag.composite.hasDirt(DirtyFlags.down);\n        }\n\n        process(bag: IProcessorBag): DirtyFlags {\n            var dirt = DirtyFlags.none;\n            if (opacity.process(bag))\n                dirt |= DirtyFlags.opacity;\n            if (visible.process(bag))\n                dirt |= DirtyFlags.visible;\n            if (transform.process(bag))\n                dirt |= DirtyFlags.transform;\n            return dirt;\n        }\n\n        clear(bag: IProcessorBag): this {\n            bag.composite.untaint(DirtyFlags.down);\n            return this;\n        }\n    }\n}","/// <reference path=\"../../element/down/Processor\" />\n\nnamespace puck.container.down {\n    import DirtyFlags = puck.element.DirtyFlags;\n\n    export interface IProcessorBag extends element.down.IProcessorBag {\n        walker: walk.IWalker<element.IElement>;\n        state: IContainerState;\n        composite: IContainerComposite;\n        pcomposite: IContainerComposite; //parent composite\n    }\n\n    export class Processor extends element.down.Processor {\n        static instance = new Processor();\n\n        process(bag: IProcessorBag): DirtyFlags {\n            var dirt = super.process(bag);\n            for (var cur = bag.walker.next(); !!cur; cur = bag.walker.next()) {\n                cur.composite.taint(dirt);\n            }\n            return dirt;\n        }\n    }\n}","namespace puck.element.hit {\n    import mat3 = la.mat3;\n    import vec2 = la.vec2;\n    import rect = la.rect;\n\n    export class Processor {\n        static instance = new Processor();\n\n        process(el: element.IElement, ctx: puck.render.RenderContext, pos: Float32Array, hitlist: element.IElement[]): boolean {\n            if (!this.prehit(el, ctx, pos))\n                return;\n            ctx.save();\n            ctx.preapply(el.composite.transform);\n            var inside = false;\n            if (this.hit(el, ctx, pos, hitlist)) {\n                inside = true;\n                hitlist.unshift(el);\n            }\n            ctx.restore();\n            return inside;\n        }\n\n        protected prehit(el: element.IElement, ctx: puck.render.RenderContext, pos: Float32Array): boolean {\n            var comp = el.composite;\n            if (!comp.visible || (comp.opacity * 255) < 0.5)\n                return false;\n            var localpos = mat3.transformVec2(ctx.currentTransform, pos, vec2.create(0, 0));\n            return rect.containsVec2(comp.extents, localpos);\n        }\n\n        protected hit(el: element.IElement, ctx: puck.render.RenderContext, pos: Float32Array, hitlist: element.IElement[]): boolean {\n            // element alone is not hittable\n            // visual/container will implement\n            return false;\n        }\n\n        protected draw(el: visual.IVisual, ctx: puck.render.RenderContext) {\n            var sbag: stencil.IStencilBag = {\n                state: el.state,\n                composite: el.composite,\n                fillRect: null,\n                strokeRect: null,\n            };\n            el.stencil.draw(ctx, sbag);\n        }\n    }\n}","/// <reference path=\"../../element/hit/Processor\" />\n\nnamespace puck.container.hit {\n    export class Processor extends element.hit.Processor {\n        static instance = new Processor();\n\n        protected hit(el: IContainer, ctx: puck.render.RenderContext, pos: Float32Array, hitlist: element.IElement[]): boolean {\n            for (var walker = el.walk(true), cur = walker.next(); !!cur; cur = walker.next()) {\n                if (engine.hit(el, ctx, pos, hitlist))\n                    return true;\n            }\n            return false;\n        }\n    }\n}","/// <reference path=\"../../render/RenderContext\" />\n\nnamespace puck.element.render {\n    import RenderContext = puck.render.RenderContext;\n\n    export interface IProcessorBag {\n        state: IElementState;\n        composite: IElementComposite;\n        ctx: RenderContext;\n        inregion: la.IRect;\n        curregion: la.IRect;\n        stencil: stencil.IStencil;\n    }\n\n    export enum SkipResult {\n        none = 0,\n        render = 1 << 1,\n        post = 1 << 2,\n\n        all = render | post,\n    }\n\n    export class Processor {\n        static instance = new Processor();\n\n        process(bag: IProcessorBag) {\n            var result = this.prerender(bag);\n            if ((result & SkipResult.render) === 0) {\n                this.render(bag);\n            }\n            if ((result & SkipResult.post) === 0) {\n                this.postrender(bag);\n            }\n        }\n\n        clear(bag: IProcessorBag): this {\n            bag.composite.untaint(DirtyFlags.invalidate);\n            la.rect.init(0, 0, 0, 0, bag.composite.paint);\n            return this;\n        }\n\n        protected prerender(bag: IProcessorBag): SkipResult {\n            if (!validate.process(bag))\n                return SkipResult.all;\n            if (!should.process(bag))\n                return SkipResult.all;\n            prepare.process(bag);\n            narrow.process(bag);\n            //TODO: Prerender effect\n            return SkipResult.none;\n        }\n\n        protected render(bag: IProcessorBag) {\n            var sbag = this.createStencilBag(bag);\n            bag.stencil.draft(sbag);\n            bag.stencil.draw(bag.ctx, sbag);\n        }\n\n        protected postrender(bag: IProcessorBag) {\n            //TODO: Postrender effect\n            bag.ctx.restore();\n        }\n\n        protected createStencilBag(bag: IProcessorBag): stencil.IStencilBag {\n            return {\n                state: bag.state,\n                composite: bag.composite,\n                fillRect: la.rect.init(0, 0, 0, 0),\n                strokeRect: la.rect.init(0, 0, 0, 0),\n            };\n        }\n    }\n}","/// <reference path=\"../../element/render/Processor\" />\n\nnamespace puck.container.render {\n    export interface IProcessorBag extends element.render.IProcessorBag {\n        walker: walk.IWalker<element.IElement>;\n        composite: IContainerComposite;\n    }\n\n    export class Processor extends element.render.Processor {\n        static instance = new Processor();\n\n        protected render(bag: IProcessorBag) {\n            for (var cur = bag.walker.next(); !!cur; cur = bag.walker.next()) {\n                engine.render(cur, bag.ctx, bag.curregion);\n            }\n        }\n    }\n}","/// <reference path=\"../../element/DirtyFlags\" />\n\nnamespace puck.container.up.extents {\n    import rect = la.rect;\n    import DirtyFlags = puck.element.DirtyFlags;\n    var oldExtents = rect.init(0, 0, 0, 0);\n\n    // Computes container's bounds\n    // Bounds\n    //   - union of all child bounds\n    //   - owner's coordinate system\n    export function process(bag: IProcessorBag): boolean {\n        var comp = bag.composite;\n        if (!comp.hasDirt(DirtyFlags.extents))\n            return false;\n        rect.copyTo(comp.extents, oldExtents);\n\n        rect.init(0, 0, 0, 0, comp.extents);\n        for (var ccomps = bag.ccomposites, i = 0; i < ccomps.length; i++) {\n            rect.union(comp.extents, ccomps[i].extents);\n        }\n        rect.transform(comp.extents, comp.transform, comp.extents);\n\n        if (rect.equal(comp.extents, oldExtents))\n            return false;\n        rect.union(comp.paint, oldExtents);\n        comp.taint(DirtyFlags.newbounds);\n        return true;\n    }\n}","namespace puck.container.up.invalidate {\n    import DirtyFlags = puck.element.DirtyFlags;\n\n    export function process(bag: IProcessorBag): boolean {\n        var comp = bag.composite;\n        if (!comp.hasDirt(DirtyFlags.invalidate))\n            return false;\n\n        var childPaint = la.rect.init(0, 0, 0, 0);\n        for (var ccomps = bag.ccomposites, i = 0; i < ccomps.length; i++) {\n            la.rect.union(childPaint, ccomps[i].paint);\n        }\n        la.rect.transform(childPaint, comp.transform, childPaint);\n\n        la.rect.union(comp.paint, childPaint);\n        return true;\n    }\n}","namespace puck.element.up {\n    export interface IProcessorBag {\n        state: IElementState;\n        composite: IElementComposite;\n        ccomposites: IElementComposite[];\n    }\n\n    export class Processor {\n        static instance = new Processor();\n\n        isTainted(bag: IProcessorBag): boolean {\n            return bag.composite.hasDirt(DirtyFlags.up);\n        }\n\n        process(bag: IProcessorBag): DirtyFlags {\n            var dirt = DirtyFlags.none;\n            if (extents.process(bag))\n                dirt |= DirtyFlags.extents;\n            newbounds.process(bag);\n            return dirt;\n        }\n\n        clear(bag: IProcessorBag): this {\n            bag.composite.untaint(DirtyFlags.up);\n            return this;\n        }\n    }\n}","namespace puck.element.up.newbounds {\n    export function process(bag: IProcessorBag): boolean {\n        var comp = bag.composite;\n        if (!comp.hasDirt(DirtyFlags.newbounds) || !comp.visible || (comp.opacity * 255) < 0.5)\n            return false;\n        comp.invalidate();\n        return true;\n    }\n}","/// <reference path=\"../../element/DirtyFlags\" />\n/// <reference path=\"../../element/up/Processor\" />\n/// <reference path=\"../../element/up/newbounds\" />\n\nnamespace puck.container.up {\n    import DirtyFlags = puck.element.DirtyFlags;\n    import newbounds = puck.element.up.newbounds;\n\n    export interface IProcessorBag extends element.up.IProcessorBag {\n        state: IContainerState;\n        composite: IContainerComposite;\n    }\n\n    // A container processor additionally processes bounds\n    export class Processor extends element.up.Processor {\n        static instance = new Processor();\n\n        process(bag: IProcessorBag): DirtyFlags {\n            var dirt = DirtyFlags.none;\n            if (extents.process(bag))\n                dirt |= DirtyFlags.extents;\n            newbounds.process(bag);\n            if (invalidate.process(bag))\n                dirt |= DirtyFlags.invalidate;\n            return dirt;\n        }\n    }\n}","namespace puck.element.down.opacity {\n    export function process(bag: IProcessorBag): boolean {\n        var comp = bag.composite;\n        if (!comp.hasDirt(DirtyFlags.opacity))\n            return false;\n        var newOpacity = bag.pcomposite.opacity * bag.state.opacity;\n        if (comp.opacity === newOpacity)\n            return false;\n        comp.taint(DirtyFlags.newbounds);\n        comp.opacity = newOpacity;\n        return true;\n    }\n}","namespace puck.element.down.transform {\n    import mat3 = la.mat3;\n    var oldTransform = mat3.identity();\n    \n    export function process(bag: IProcessorBag): boolean {\n        var comp = bag.composite;\n        if (!comp.hasDirt(DirtyFlags.transform))\n            return false;\n        mat3.copyTo(comp.transform, oldTransform);\n        var state = bag.state;\n\n        // Apply transform in coordinates of transformOrigin\n        var xo = state.mapTransformOrigin(comp);\n        mat3.createTranslate(-xo.x, -xo.y, comp.transform); //Shift into transformOrigin coordinate space\n        mat3.apply(comp.transform, state.transform);\n        mat3.translate(comp.transform, xo.x, xo.y); //Shift back out of transformOrigin coordinate space\n\n        // Adjust transform for offset\n        mat3.translate(comp.transform, state.offset.x, state.offset.y);\n\n        if (!mat3.equal(comp.transform, oldTransform)) {\n            comp.taint(DirtyFlags.extents);\n        }\n        return true;\n    }\n}","namespace puck.element.down.visible {\n    export function process(bag: IProcessorBag): boolean {\n        var comp = bag.composite;\n        if (!comp.hasDirt(DirtyFlags.visible))\n            return false;\n        var newVisible = bag.pcomposite.visible && (bag.state.visible === true);\n        if (comp.visible === newVisible)\n            return false;\n        comp.taint(DirtyFlags.newbounds);\n        comp.visible = newVisible;\n        return true;\n    }\n}","namespace puck.element.render.narrow {\n    export function process(bag: IProcessorBag) {\n        //TODO: Render clip to prevent overpainting\n    }\n}","namespace puck.element.render.prepare {\n    export function process(bag: IProcessorBag) {\n        bag.ctx.save();\n        bag.ctx.preapply(bag.composite.transform);\n    }\n}\n","namespace puck.element.render.should {\n    import rect = la.rect;\n\n    export function process(bag: IProcessorBag): boolean {\n        var r = rect.transform(bag.composite.extents, bag.ctx.currentTransform, bag.curregion);\n        rect.roundOut(r);\n        rect.intersection(r, bag.inregion);\n        return r.width > 0 && r.height > 0;\n    }\n}","namespace puck.element.render.validate {\n    export function process(bag: IProcessorBag): boolean {\n        var comp = bag.composite;\n        return !!comp.visible && (comp.opacity * 255) >= 0.5;\n    }\n}","namespace puck.element.up.extents {\n    import rect = la.rect;\n    var oldExtents = rect.init(0, 0, 0, 0);\n\n    export function process(bag: IProcessorBag): boolean {\n        var comp = bag.composite;\n        if (!comp.hasDirt(DirtyFlags.extents))\n            return false;\n        var state = bag.state;\n        rect.copyTo(comp.extents, oldExtents);\n        \n        rect.init(0, 0, state.size.width, state.size.height, comp.extents);\n        rect.grow(comp.extents, comp.padding);\n        rect.transform(comp.extents, comp.transform, comp.extents);\n\n        if (rect.equal(comp.extents, oldExtents))\n            return false;\n        rect.union(comp.paint, oldExtents);\n        comp.taint(DirtyFlags.newbounds);\n        return true;\n    }\n}","namespace puck.font.height {\n    var heights = [];\n\n    export var cache = {\n        hits: 0,\n        misses: 0\n    };\n\n    export function get(font: IFont|string): number {\n        var serial = font.toString();\n        var height = heights[serial];\n        if (height == null) {\n            heights[serial] = height = measure(serial);\n            cache.misses++;\n        } else {\n            cache.hits++;\n        }\n        return height;\n    }\n}","namespace puck.font.height {\n    var dummy: HTMLElement;\n\n    export function measure(font: IFont|string): number {\n        var serial = font.toString();\n        if (!dummy) {\n            dummy = document.createElement(\"div\");\n            dummy.appendChild(document.createTextNode(\"Hg\"));\n            document.body.appendChild(dummy);\n        }\n        dummy.style.display = \"\";\n        dummy.style.font = serial;\n        var result = dummy.offsetHeight;\n        dummy.style.display = \"none\";\n        return result;\n    }\n}","namespace puck.font.width {\n    var dummy: HTMLCanvasElement;\n\n    export function measure(font: IFont|string, text: string): number {\n        if (!dummy) {\n            dummy = document.createElement(\"canvas\");\n        }\n        var ctx = dummy.getContext(\"2d\");\n        ctx.font = font.toString();\n        return ctx.measureText(text).width;\n    }\n}","/// <reference path=\"../../element/down/Processor\" />\n\nnamespace puck.image.down {\n    import IProcessorBag = puck.element.down.IProcessorBag;\n    import DirtyFlags = puck.element.DirtyFlags;\n\n    export class Processor extends element.down.Processor {\n        static instance = new Processor();\n\n        process(bag: IProcessorBag): DirtyFlags {\n            stretch.process(bag);\n            return super.process(bag);\n        }\n    }\n}","/// <reference path=\"../../Stretch.ts\" />\n\nnamespace puck.image.down.stretch {\n    import IProcessorBag = puck.element.down.IProcessorBag;\n    import DirtyFlags = puck.element.DirtyFlags;\n    import mat3 = la.mat3;\n    var oldStretchTransform = mat3.identity();\n\n    export function process(bag: IProcessorBag): boolean {\n        var state = <IImageState>bag.state,\n            comp = <IImageComposite>bag.composite;\n        if (!comp.hasDirt(DirtyFlags.stretch))\n            return false;\n        mat3.copyTo(comp.stretchTransform, oldStretchTransform);\n\n        puck.fit.transform.calc(comp.stretchTransform, state.getEffectiveStretch(), state.natural, state.size);\n\n        if (mat3.equal(comp.stretchTransform, oldStretchTransform))\n            return false;\n        comp.taint(DirtyFlags.extents);\n        return true;\n    }\n}","/// <reference path=\"../../element/hit/Processor\" />\n\nnamespace puck.image.hit {\n    export class Processor extends element.hit.Processor {\n        static instance = new Processor();\n\n        protected hit(el: IImage, ctx: puck.render.RenderContext, pos: Float32Array, hitlist: element.IElement[]): boolean {\n            // Already verified that point is within extents\n            // If image is loaded, we are hitting the image\n            return true;\n        }\n    }\n}","/// <reference path=\"../../Stretch.ts\" />\n\nnamespace puck.image.up.extents {\n    import IProcessorBag = puck.element.up.IProcessorBag;\n    import DirtyFlags = puck.element.DirtyFlags;\n    import rect = la.rect;\n    import mat3 = la.mat3;\n    var oldExtents = rect.init(0, 0, 0, 0);\n\n    export function process(bag: IProcessorBag) {\n        var comp = bag.composite;\n        if (!comp.hasDirt(DirtyFlags.extents))\n            return false;\n        var state = <IImageState>bag.state;\n        rect.copyTo(comp.extents, oldExtents);\n\n        rect.init(0, 0, 0, 0, comp.extents);\n        puck.fit.extents.calc(comp.extents, state.getEffectiveStretch(), state.natural, state.size);\n        rect.transform(comp.extents, comp.transform, comp.extents);\n\n        if (rect.equal(comp.extents, oldExtents))\n            return false;\n        rect.union(comp.paint, oldExtents);\n        comp.taint(DirtyFlags.newbounds);\n        return true;\n    }\n\n}","/// <reference path=\"../../element/up/Processor\" />\n\nnamespace puck.image.up {\n    import IProcessorBag = puck.element.up.IProcessorBag;\n    import DirtyFlags = puck.element.DirtyFlags;\n    import newbounds = puck.element.up.newbounds;\n\n    export class Processor extends element.up.Processor {\n        static instance = new Processor();\n\n        process(bag: IProcessorBag): DirtyFlags {\n            var dirt = DirtyFlags.none;\n            if (extents.process(bag))\n                dirt |= DirtyFlags.extents;\n            newbounds.process(bag);\n            return dirt;\n        }\n    }\n}","namespace puck.path.down.natural {\n    import IProcessorBag = puck.element.down.IProcessorBag;\n    import DirtyFlags = puck.element.DirtyFlags;\n    var oldNatural = la.rect.init(0, 0, 0, 0);\n    var activeFill = la.rect.init(0, 0, 0, 0);\n    var activeStroke = la.rect.init(0, 0, 0, 0);\n\n    export function process(bag: IProcessorBag): boolean {\n        var state = <IPathState>bag.state,\n            comp = <IPathComposite>bag.composite;\n\n        if (!comp.hasDirt(DirtyFlags.padding))\n            return false;\n        comp.bounder.reset();\n        la.rect.copyTo(comp.natural, oldNatural);\n\n        comp.bounder.calc(state)\n            .getFillRect(activeFill)\n            .getStrokeRect(activeStroke);\n\n        la.rect.union(activeFill, activeStroke, comp.natural);\n\n        if (!la.rect.equal(comp.natural, oldNatural))\n            return false;\n        comp.taint(DirtyFlags.stretch);\n        return true;\n    }\n}","/// <reference path=\"../../element/down/Processor\" />\n\nnamespace puck.path.down {\n    import IProcessorBag = puck.element.down.IProcessorBag;\n    import DirtyFlags = puck.element.DirtyFlags;\n\n    export class Processor extends element.down.Processor {\n        static instance = new Processor();\n\n        process(bag: IProcessorBag): DirtyFlags {\n            natural.process(bag);\n            stretch.process(bag);\n            return super.process(bag);\n        }\n    }\n}","namespace puck.path.down.stretch {\n    import IProcessorBag = puck.element.down.IProcessorBag;\n    import IElementComposite = puck.element.IElementComposite;\n    import DirtyFlags = puck.element.DirtyFlags;\n    import mat3 = la.mat3;\n    var oldStretchTransform = mat3.identity();\n\n    export function process(bag: IProcessorBag): boolean {\n        var state = <IPathState>bag.state,\n            comp = <IPathComposite>bag.composite;\n        if (!comp.hasDirt(DirtyFlags.stretch))\n            return false;\n        mat3.copyTo(comp.stretchTransform, oldStretchTransform);\n\n        puck.fit.transform.calc(comp.stretchTransform, state.getEffectiveStretch(comp), comp.natural, state.size);\n\n        if (mat3.equal(comp.stretchTransform, oldStretchTransform))\n            return false;\n        comp.taint(DirtyFlags.extents);\n        return true;\n    }\n\n}","/// <reference path=\"../../element/hit/Processor\" />\n\nnamespace puck.visual.hit {\n    export class Processor extends element.hit.Processor {\n        static instance = new Processor();\n\n        protected prehit(el: visual.IVisual, ctx: puck.render.RenderContext, pos: Float32Array): boolean {\n            if (!super.prehit(el, ctx, pos))\n                return false;\n            var state = el.state;\n            return !!state.fill || (!!state.stroke && state.strokeThickness > 0);\n            // TODO: can we check degenerate size?\n        }\n\n        protected hit(el: visual.IVisual, ctx: puck.render.RenderContext, pos: Float32Array, hitlist: element.IElement[]): boolean {\n            ctx.save();\n            this.transformLocal(el, ctx);\n            this.draw(el, ctx);\n\n            var state = el.state,\n                px = pos[0],\n                py = pos[1],\n                inside = false;\n            // TODO: fill rule?\n            if (!!state.fill && ctx.raw.isPointInPath(px, py)) {\n                inside = true;\n            } else if (!!state.stroke && ctx.isPointInStrokeEx(px, py, state.strokeThickness)) {\n                inside = true;\n            }\n\n            ctx.restore();\n            return inside;\n        }\n\n        protected transformLocal(el: element.IElement, ctx: puck.render.RenderContext) {\n        }\n    }\n}","/// <reference path=\"../../visual/hit/Processor\" />\n\nnamespace puck.path.hit {\n    export class Processor extends visual.hit.Processor {\n        static instance = new Processor();\n\n        protected hit(el: IPath, ctx: puck.render.RenderContext, pos: Float32Array, hitlist: element.IElement[]): boolean {\n            ctx.save();\n            this.transformLocal(el, ctx);\n            this.draw(el, ctx);\n\n            var state = el.state,\n                px = pos[0],\n                py = pos[1],\n                inside = false;\n            if (!!state.fill && ctx.raw.isPointInPath(px, py)) {\n                inside = true;\n            } else if (!!state.stroke) {\n                ctx.setStrokeExtras(state.strokeLineCap, state.strokeLineJoin, state.strokeMiterLimit);\n                if (ctx.isPointInStrokeEx(px, py, state.strokeThickness)) {\n                    inside = true;\n                }\n            }\n\n            ctx.restore();\n            return inside;\n        }\n\n        protected transformLocal(path: IPath, ctx: puck.render.RenderContext) {\n            ctx.preapply(path.composite.stretchTransform);\n        }\n    }\n}","/// <reference path=\"../../element/render/Processor\" />\n\nnamespace puck.visual.render {\n    export interface IProcessorBag extends puck.element.render.IProcessorBag {\n        stencil: stencil.IStencil;\n    }\n\n    export class Processor extends element.render.Processor {\n        static instance = new Processor();\n\n        protected render(bag: IProcessorBag): boolean {\n            var state = <IVisualState>bag.state;\n            if (!state.fill && !state.stroke)\n                return false;\n\n            var ctx = bag.ctx;\n            ctx.save();\n            var sbag = this.createStencilBag(bag);\n            bag.stencil.draft(sbag);\n            this.transformLocal(ctx, sbag);\n            bag.stencil.draw(ctx, sbag);\n            this.fill(ctx, state, sbag);\n            this.stroke(ctx, state, sbag);\n            ctx.restore();\n        }\n\n        protected transformLocal(ctx: puck.render.RenderContext, bag: stencil.IStencilBag) {\n        }\n\n        protected fill(ctx: puck.render.RenderContext, state: IVisualState, sbag: stencil.IStencilBag) {\n            if (!state.fill)\n                return;\n            ctx.fillEx(sbag.fillRect, state.fill);\n        }\n\n        protected stroke(ctx: puck.render.RenderContext, state: IVisualState, sbag: stencil.IStencilBag) {\n            if (!state.stroke || state.strokeThickness <= 0)\n                return;\n            ctx.strokeEx(sbag.strokeRect, state.stroke, state.strokeThickness);\n        }\n    }\n}","/// <reference path=\"../../visual/render/Processor\" />\n\nnamespace puck.path.render {\n    export class Processor extends visual.render.Processor {\n        static instance = new Processor();\n\n        protected transformLocal(ctx: puck.render.RenderContext, bag: stencil.IStencilBag) {\n            var comp = <IPathComposite>bag.composite;\n            ctx.preapply(comp.stretchTransform);\n        }\n\n        protected fill(ctx: puck.render.RenderContext, state: IPathState, sbag: stencil.IStencilBag) {\n            if (!state.fill)\n                return;\n            ctx.fillEx(sbag.fillRect, state.fill, state.fillRule);\n        }\n\n        protected stroke(ctx: puck.render.RenderContext, state: IPathState, sbag: stencil.IStencilBag) {\n            if (!state.stroke || state.strokeThickness <= 0)\n                return;\n            ctx.setStrokeExtras(state.strokeLineCap, state.strokeLineJoin, state.strokeMiterLimit);\n            ctx.strokeEx(sbag.strokeRect, state.stroke, state.strokeThickness);\n        }\n    }\n}","namespace puck.path.up.extents {\n    import IProcessorBag = puck.element.up.IProcessorBag;\n    import DirtyFlags = puck.element.DirtyFlags;\n    import rect = la.rect;\n    import mat3 = la.mat3;\n    var oldExtents = rect.init(0, 0, 0, 0);\n\n    export function process(bag: IProcessorBag) {\n        var comp = <IPathComposite>bag.composite;\n        if (!comp.hasDirt(DirtyFlags.extents))\n            return false;\n        var state = <IPathState>bag.state;\n        rect.copyTo(comp.extents, oldExtents);\n\n        rect.init(0, 0, 0, 0, comp.extents);\n        puck.fit.extents.calc(comp.extents, state.getEffectiveStretch(comp), comp.natural, state.size);\n        rect.transform(comp.extents, comp.transform, comp.extents);\n\n        if (rect.equal(comp.extents, oldExtents))\n            return false;\n        rect.union(comp.paint, oldExtents);\n        comp.taint(DirtyFlags.newbounds);\n        return true;\n    }\n}","/// <reference path=\"../../element/up/Processor\" />\n\nnamespace puck.path.up {\n    import IProcessorBag = puck.element.up.IProcessorBag;\n    import DirtyFlags = puck.element.DirtyFlags;\n    import newbounds = puck.element.up.newbounds;\n\n    export class Processor extends element.up.Processor {\n        static instance = new Processor();\n\n        process(bag: IProcessorBag): DirtyFlags {\n            var dirt = DirtyFlags.none;\n            if (extents.process(bag))\n                dirt |= DirtyFlags.extents;\n            newbounds.process(bag);\n            return dirt;\n        }\n    }\n}","interface CanvasRenderingContext2D {\r\n    backingStorePixelRatio: number;\r\n}\r\nif (!CanvasRenderingContext2D.prototype.hasOwnProperty(\"backingStorePixelRatio\")) {\r\n    Object.defineProperty(CanvasRenderingContext2D.prototype, \"backingStorePixelRatio\", {\r\n        get: function (): number {\r\n            var ctx = <any>this;\r\n            return ctx.webkitBackingStorePixelRatio\r\n                || ctx.mozBackingStorePixelRatio\r\n                || ctx.msBackingStorePixelRatio\r\n                || ctx.oBackingStorePixelRatio\r\n                || 1;\r\n        }\r\n    });\r\n}","interface CanvasRenderingContext2D {\r\n    ellipse(x: number, y: number, radiusX: number, radiusY: number, rotation: number, startAngle: number, endAngle: number, antiClockwise?: boolean);\r\n}\r\nif (!CanvasRenderingContext2D.prototype.ellipse) {\r\n    CanvasRenderingContext2D.prototype.ellipse = function (x: number, y: number, radiusX: number, radiusY: number, rotation: number, startAngle: number, endAngle: number, antiClockwise: boolean) {\r\n        this.save();\r\n        this.translate(x, y);\r\n        this.rotate(rotation);\r\n        this.scale(radiusX, radiusY);\r\n        this.arc(0, 0, 1, startAngle, endAngle, antiClockwise);\r\n        this.restore();\r\n    };\r\n}","interface CanvasRenderingContext2D {\r\n    isPointInStroke(x: number, y: number): boolean;\r\n}\r\nif (!CanvasRenderingContext2D.prototype.isPointInStroke) {\r\n    CanvasRenderingContext2D.prototype.isPointInStroke = function (x: number, y: number) {\r\n        return false;\r\n    };\r\n}","namespace puck.polyline.down.points {\n    import IProcessorBag = puck.element.down.IProcessorBag;\n    import IPathComposite = puck.path.IPathComposite;\n    import DirtyFlags = puck.element.DirtyFlags;\n\n    export function process(bag: IProcessorBag): boolean {\n        var state = <IPolylineState>bag.state,\n            comp = <IPathComposite>bag.composite,\n            path = state.path;\n\n        if (!path) {\n            comp.bounder.setPath(path = state.path = new curve.Path());\n        } else if (!path.isEmpty) {\n            return false;\n        }\n\n        for (var first = true, it = state.points.iter(), result = it.next(); !result.done; result = it.next()) {\n            let cur = result.value;\n            if (first) {\n                first = false;\n                path.moveTo(cur.x, cur.y);\n            } else {\n                path.lineTo(cur.x, cur.y);\n            }\n        }\n        if (state.closed)\n            path.closePath();\n\n        comp.taint(DirtyFlags.padding); // force recalculation of natural bounds\n        return true;\n    }\n}","/// <reference path=\"../../path/down/Processor\" />\n\nnamespace puck.polyline.down {\n    import IProcessorBag = puck.element.down.IProcessorBag;\n    import DirtyFlags = puck.element.DirtyFlags;\n\n    export class Processor extends path.down.Processor {\n        static instance = new Processor();\n\n        process(bag: IProcessorBag): DirtyFlags {\n            points.process(bag);\n            return super.process(bag);\n        }\n    }\n}","/// <reference path=\"../../element/hit/Processor\" />\n\nnamespace puck.text.hit {\n    export class Processor extends element.hit.Processor {\n        static instance = new Processor();\n\n        protected prehit(el: text.IText, ctx: puck.render.RenderContext, pos: Float32Array): boolean {\n            if (!super.prehit(el, ctx, pos))\n                return false;\n            var state = el.state;\n            return !!state.fill || (!!state.stroke && state.strokeThickness > 0);\n        }\n\n        protected hit(el: text.IText, ctx: puck.render.RenderContext, pos: Float32Array, hitlist: element.IElement[]): boolean {\n            // Already verified that point is within extents\n            return true;\n        }\n    }\n}","/// <reference path=\"../../element/render/Processor\" />\n\nnamespace puck.text.render {\n    import IProcessorBag = puck.element.render.IProcessorBag;\n    var isFirefox = /firefox/i.test(navigator.userAgent);\n    var paintRegion = la.rect.init(0, 0, 0, 0);\n\n    export class Processor extends element.render.Processor {\n        static instance = new Processor();\n\n        protected render(bag: IProcessorBag): boolean {\n            var state = <ITextState>bag.state,\n                noStroke = !state.stroke || state.strokeThickness <= 0;\n            if (!state.fill && noStroke)\n                return false;\n\n            var ctx = bag.ctx,\n                raw = ctx.raw,\n                comp = bag.composite;\n            ctx.save();\n            raw.beginPath();\n            raw.font = state.font.toString();\n            raw.textAlign = \"left\";\n            paintRegion.width = comp.extents.width;\n            paintRegion.height = comp.extents.height;\n            if (state.fill)\n                this.fill(raw, state, paintRegion);\n            if (!noStroke)\n                this.stroke(raw, state, paintRegion);\n            ctx.restore();\n        }\n\n        protected fill(ctx: CanvasRenderingContext2D, state: ITextState, region: la.IRect) {\n            state.fill.setup(ctx, region);\n            ctx.fillStyle = state.fill.toHtml5Object();\n\n            if (isFirefox) {\n                ctx.textBaseline = \"bottom\";\n                ctx.fillText(state.text, 0, state.size.height);\n            } else {\n                ctx.textBaseline = \"top\";\n                ctx.fillText(state.text, 0, 0);\n            }\n        }\n\n        protected stroke(ctx: CanvasRenderingContext2D, state: ITextState, region: la.IRect) {\n            state.stroke.setup(ctx, region);\n            ctx.strokeStyle = state.stroke.toHtml5Object();\n\n            ctx.lineWidth = state.strokeThickness;\n            if (isFirefox) {\n                ctx.textBaseline = \"bottom\";\n                ctx.strokeText(state.text, 0, state.size.height);\n            } else {\n                ctx.textBaseline = \"top\";\n                ctx.strokeText(state.text, 0, 0);\n            }\n        }\n    }\n}","namespace puck.text.up.font {\n    import IProcessorBag = puck.element.up.IProcessorBag;\n    import DirtyFlags = puck.element.DirtyFlags;\n\n    export function process(bag: IProcessorBag): boolean {\n        var state = <ITextState>bag.state,\n            comp = bag.composite;\n        if (!comp.hasDirt(DirtyFlags.font))\n            return false;\n\n        var size = state.size,\n            oldWidth = size.width,\n            oldHeight = size.height;\n        size.width = puck.font.width.measure(state.font, state.text);\n        size.height = puck.font.height.get(state.font);\n\n        if (oldWidth !== size.width || oldHeight !== size.height) {\n            comp.taint(DirtyFlags.extents);\n            return true;\n        }\n        return false;\n    }\n}","/// <reference path=\"../../element/up/Processor\" />\n\nnamespace puck.text.up {\n    import DirtyFlags = puck.element.DirtyFlags;\n    import IProcessorBag = puck.element.up.IProcessorBag;\n\n    export class Processor extends element.up.Processor {\n        static instance = new Processor();\n\n        process(bag: IProcessorBag): DirtyFlags {\n            var dirt = DirtyFlags.none;\n            font.process(bag);\n            dirt |= super.process(bag);\n            return dirt;\n        }\n    }\n}"],"sourceRoot":"./src"}